"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[721],{28897:function(re,w,e){var H=e(8671),R=e(47287),J=e(52983),L=e(8498),A=e(97458),S=["fieldProps","proFieldProps"],Q=["fieldProps","proFieldProps"],b="text",W=function(F){var j=F.fieldProps,T=F.proFieldProps,u=(0,R.Z)(F,S);return(0,A.jsx)(L.Z,(0,H.Z)({valueType:b,fieldProps:j,filedConfig:{valueType:b},proFieldProps:T},u))},N=function(F){var j=F.fieldProps,T=F.proFieldProps,u=(0,R.Z)(F,Q);return(0,A.jsx)(L.Z,(0,H.Z)({valueType:"password",fieldProps:j,proFieldProps:T,filedConfig:{valueType:b}},u))},D=W;D.Password=N,D.displayName="ProFormComponent",w.Z=D},17445:function(re,w,e){e.d(w,{Z:function(){return Q}});var H=e(63900),R=e.n(H),J=e(88205),L=e.n(J),A=e(52983),S=e(85661);function Q(b){var W=b.pageState,N=b.onInitPageState,D=b.onPageDidMount,$=b.onPageWillUnmount,F=(0,S.Z)({},{navigateMode:"replace"}),j=L()(F,2),T=j[0],u=j[1];(0,A.useEffect)(function(){if(N){var K={};try{K=T.pageState?JSON.parse(T.pageState):{}}catch(a){console.error("get urlPageState error: ",a)}N(K,T)}return D&&D(T),function(){$&&$()}},[]),(0,A.useEffect)(function(){u(R()(R()({},T),{},{pageState:JSON.stringify(W)}))},[W])}},23673:function(re,w,e){e.d(w,{Z:function(){return S}});var H=e(41474),R=e(13800),J={tagsWrap:"tagsWrap___bmrPM"},L=e(97458),A=function(b){var W=b.data,N=b.max,D=b.isPerson,$=N?W.slice(0,N):W;return(0,L.jsxs)("div",{className:J.tagsWrap,children:[$&&$.map(function(F){return(0,L.jsx)(R.Z,{icon:D?(0,L.jsx)(H.Z,{}):null,color:F.color||"geekblue",children:F.text},F.text)}),$.length<W.length?"...":""]})},S=A},77730:function(re,w,e){e.r(w),e.d(w,{default:function(){return Fo}});var H=e(18288),R=e(81409),J=e(32030),L=e(13800),A=e(58174),S=e(65343),Q=e(24454),b=e.n(Q),W=e(56592),N=e.n(W),D=e(84377),$=e(5102),F=e(28897),j=e(8671),T=e(47287),u=e(52983),K=e(8498),a=e(97458),je=["fieldProps","proFieldProps"],xe=function(o,n){var r=o.fieldProps,l=o.proFieldProps,c=(0,T.Z)(o,je);return(0,a.jsx)(K.Z,(0,j.Z)({ref:n,valueType:"textarea",fieldProps:r,proFieldProps:l},c))},ie=u.forwardRef(xe),de=e(85791),ae=e(64229),ye=e(44580),ce=e(22702),be=["options","fieldProps","proFieldProps","valueEnum"],Ce=u.forwardRef(function(t,o){var n=t.options,r=t.fieldProps,l=t.proFieldProps,c=t.valueEnum,p=(0,T.Z)(t,be);return(0,a.jsx)(K.Z,(0,j.Z)({ref:o,valueType:"checkbox",valueEnum:(0,ae.h)(c,void 0),fieldProps:(0,j.Z)({options:n},r),lightProps:(0,j.Z)({labelFormatter:function(){return(0,a.jsx)(K.Z,(0,j.Z)({ref:o,valueType:"checkbox",mode:"read",valueEnum:(0,ae.h)(c,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,j.Z)({options:n},r),proFieldProps:l},p))}},p.lightProps),proFieldProps:l},p))}),Me=u.forwardRef(function(t,o){var n=t.fieldProps,r=t.children;return(0,a.jsx)(ye.Z,(0,j.Z)((0,j.Z)({ref:o},n),{},{children:r}))}),Fe=(0,ce.G)(Me,{valuePropName:"checked"}),ue=Fe;ue.Group=Ce;var Ee=ue,pe=e(49532),me=e(56084),Se=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],Te=u.forwardRef(function(t,o){var n=t.fieldProps,r=t.options,l=t.radioType,c=t.layout,p=t.proFieldProps,P=t.valueEnum,C=(0,T.Z)(t,Se);return(0,a.jsx)(K.Z,(0,j.Z)((0,j.Z)({valueType:l==="button"?"radioButton":"radio",ref:o,valueEnum:(0,ae.h)(P,void 0)},C),{},{fieldProps:(0,j.Z)({options:r,layout:c},n),proFieldProps:p,filedConfig:{customLightMode:!0}}))}),Ie=u.forwardRef(function(t,o){var n=t.fieldProps,r=t.children;return(0,a.jsx)(me.ZP,(0,j.Z)((0,j.Z)({},n),{},{ref:o,children:r}))}),Ze=(0,ce.G)(Ie,{valuePropName:"checked",ignoreWidth:!0}),ee=Ze;ee.Group=Te,ee.Button=me.ZP.Button,ee.displayName="ProFormComponent";var ve=ee,Oe=["fieldProps","min","proFieldProps","max"],$e=function(o,n){var r=o.fieldProps,l=o.min,c=o.proFieldProps,p=o.max,P=(0,T.Z)(o,Oe);return(0,a.jsx)(K.Z,(0,j.Z)({valueType:"digit",fieldProps:(0,j.Z)({min:l,max:p},r),ref:n,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:c},P))},Be=u.forwardRef($e),Ne=Be,De=e(73974),ze=e(12684),Le=e(45171),We=e(22494),Re=e(38634),Ae=e(67552),Ue=e(87608),ne=e.n(Ue),Ge=e(77089),we=e(6453),He=e(41564),Ke=e(17374),Ve=e(30730),ke=e(52636),Je=e(58684),Qe=e(29656),Xe=function(t){(0,Je.Z)(n,t);var o=(0,Qe.Z)(n);function n(){var r;return(0,Ve.Z)(this,n),r=o.apply(this,arguments),r.state={error:void 0,info:{componentStack:""}},r}return(0,ke.Z)(n,[{key:"componentDidCatch",value:function(l,c){this.setState({error:l,info:c})}},{key:"render",value:function(){const{message:l,description:c,children:p}=this.props,{error:P,info:C}=this.state,x=C&&C.componentStack?C.componentStack:null,Z=typeof l=="undefined"?(P||"").toString():l,E=typeof c=="undefined"?x:c;return P?u.createElement(ge,{type:"error",message:Z,description:u.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},E)}):p}}]),n}(u.Component),Ye=e(93411),qe=e(19573),_e=e(26554);const oe=(t,o,n,r,l)=>({backgroundColor:t,border:`${r.lineWidth}px ${r.lineType} ${o}`,[`${l}-icon`]:{color:n}}),eo=t=>{const{componentCls:o,motionDurationSlow:n,marginXS:r,marginSM:l,fontSize:c,fontSizeLG:p,lineHeight:P,borderRadiusLG:C,motionEaseInOutCirc:x,alertIconSizeLG:Z,colorText:E,paddingContentVerticalSM:s,alertPaddingHorizontal:I,paddingMD:v,paddingContentHorizontalLG:V}=t;return{[o]:Object.assign(Object.assign({},(0,_e.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:`${s}px ${I}px`,wordWrap:"break-word",borderRadius:C,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:r,lineHeight:0},["&-description"]:{display:"none",fontSize:c,lineHeight:P},"&-message":{color:E},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${x}, opacity ${n} ${x},
        padding-top ${n} ${x}, padding-bottom ${n} ${x},
        margin-bottom ${n} ${x}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",paddingInline:V,paddingBlock:v,[`${o}-icon`]:{marginInlineEnd:l,fontSize:Z,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:r,color:E,fontSize:p},[`${o}-description`]:{display:"block"}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},oo=t=>{const{componentCls:o,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:l,colorWarning:c,colorWarningBorder:p,colorWarningBg:P,colorError:C,colorErrorBorder:x,colorErrorBg:Z,colorInfo:E,colorInfoBorder:s,colorInfoBg:I}=t;return{[o]:{"&-success":oe(l,r,n,t,o),"&-info":oe(I,s,E,t,o),"&-warning":oe(P,p,c,t,o),"&-error":Object.assign(Object.assign({},oe(Z,x,C,t,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},to=t=>{const{componentCls:o,iconCls:n,motionDurationMid:r,marginXS:l,fontSizeIcon:c,colorIcon:p,colorIconHover:P}=t;return{[o]:{["&-action"]:{marginInlineStart:l},[`${o}-close-icon`]:{marginInlineStart:l,padding:0,overflow:"hidden",fontSize:c,lineHeight:`${c}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:p,transition:`color ${r}`,"&:hover":{color:P}}},"&-close-text":{color:p,transition:`color ${r}`,"&:hover":{color:P}}}}},ro=t=>[eo(t),oo(t),to(t)];var ao=(0,Ye.Z)("Alert",t=>{const{fontSizeHeading3:o}=t,n=(0,qe.TS)(t,{alertIconSizeLG:o,alertPaddingHorizontal:12});return[ro(n)]}),no=function(t,o){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)o.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(n[r[l]]=t[r[l]]);return n};const lo={success:ze.Z,info:Ae.Z,error:Le.Z,warning:Re.Z},so=t=>{const{icon:o,prefixCls:n,type:r}=t,l=lo[r]||null;return o?(0,Ke.wm)(o,u.createElement("span",{className:`${n}-icon`},o),()=>({className:ne()(`${n}-icon`,{[o.props.className]:o.props.className})})):u.createElement(l,{className:`${n}-icon`})},io=t=>{const{isClosable:o,closeText:n,prefixCls:r,closeIcon:l,handleClose:c}=t;return o?u.createElement("button",{type:"button",onClick:c,className:`${r}-close-icon`,tabIndex:0},n?u.createElement("span",{className:`${r}-close-text`},n):l):null},fe=t=>{var{description:o,prefixCls:n,message:r,banner:l,className:c,rootClassName:p,style:P,onMouseEnter:C,onMouseLeave:x,onClick:Z,afterClose:E,showIcon:s,closable:I,closeText:v,closeIcon:V=u.createElement(We.Z,null),action:h}=t,U=no(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]);const[Y,z]=u.useState(!1),m=u.useRef(),{getPrefixCls:i,direction:f}=u.useContext(we.E_),d=i("alert",n),[y,M]=ao(d),G=k=>{var _;z(!0),(_=U.onClose)===null||_===void 0||_.call(U,k)},g=()=>{const{type:k}=U;return k!==void 0?k:l?"warning":"info"},O=v?!0:I,q=g(),Pe=l&&s===void 0?!0:s,Eo=ne()(d,`${d}-${q}`,{[`${d}-with-description`]:!!o,[`${d}-no-icon`]:!Pe,[`${d}-banner`]:!!l,[`${d}-rtl`]:f==="rtl"},c,p,M),So=(0,He.Z)(U);return y(u.createElement(Ge.ZP,{visible:!Y,motionName:`${d}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:k=>({maxHeight:k.offsetHeight}),onLeaveEnd:E},k=>{let{className:_,style:To}=k;return u.createElement("div",Object.assign({ref:m,"data-show":!Y,className:ne()(Eo,_),style:Object.assign(Object.assign({},P),To),onMouseEnter:C,onMouseLeave:x,onClick:Z,role:"alert"},So),Pe?u.createElement(so,{description:o,icon:U.icon,prefixCls:d,type:q}):null,u.createElement("div",{className:`${d}-content`},r?u.createElement("div",{className:`${d}-message`},r):null,o?u.createElement("div",{className:`${d}-description`},o):null),h?u.createElement("div",{className:`${d}-action`},h):null,u.createElement(io,{isClosable:!!O,closeText:v,prefixCls:d,closeIcon:V,handleClose:G}))}))};fe.ErrorBoundary=Xe;var ge=fe,le=e(26237),co=e(22745),B=e(29880),X=e(73205),uo=function(){var o=(0,S.useModel)("user"),n=o.user,r=(0,S.useModel)("Project.list"),l=r.projectModal,c=r.closeProjectModal,p=r.onProjectModalCurrentChange,P=r.projectModalNext,C=r.projectModalFinish,x=(0,S.useModel)("Project.auth"),Z=x.checkPermission,E=(0,le.bU)(),s=E.localeText,I=(0,u.useRef)([]),v=l.targetProject,V=v&&v.status!==B.tz.Waiting,h=Boolean(v),U=v&&!Z(v.userRoles,X.Oc.ProjectEdit),Y=V||l.disableInitProject,z=function(i){if(!v||!V){var f,d,y,M=(f=I.current)===null||f===void 0?void 0:f[0],G=(d=I.current)===null||d===void 0?void 0:d[1],g=M==null||(y=M.current)===null||y===void 0?void 0:y.getFieldValue(["basics","managerIds"]),O=g==null?void 0:g.includes(n.userId);if(!O){var q;G==null||(q=G.current)===null||q===void 0||q.setFieldValue(["workflowInitNow"],[])}}return P(i)};return(0,a.jsx)(De.Z,{title:s(v?"proj.editModal.editProj":"proj.editModal.newProj"),width:750,open:l.show,onCancel:c,destroyOnClose:!0,footer:null,maskClosable:!1,children:(0,a.jsxs)($.L,{formMapRef:I,current:l.current,onCurrentChange:p,onFinish:C,formProps:{initialValues:l.initialValues},children:[(0,a.jsxs)($.L.StepForm,{name:"basics",title:s("proj.editModal.stepForm.title"),stepProps:{description:s("proj.editModal.stepForm.desc")},onFinish:z,disabled:U,children:[(0,a.jsx)(F.Z,{label:s("proj.editModal.stepForm.name.label"),placeholder:s("proj.editModal.stepForm.name.placeholder"),name:["basics","name"],rules:[{required:!0,message:s("proj.editModal.stepForm.name.rule")}],disabled:h}),(0,a.jsx)(ie,{label:s("proj.editModal.stepForm.desc.label"),placeholder:s("proj.editModal.stepForm.desc.placeholder"),name:["basics","description"]}),(0,a.jsx)(de.Z.SearchSelect,{label:s("proj.editModal.stepForm.dataset.label"),placeholder:s("proj.editModal.stepForm.dataset.placeholder"),name:["basics","datasetIds"],fieldProps:{mode:"multiple",labelInValue:!1},debounceTime:300,request:function(){var m=N()(b()().mark(function i(f){var d,y,M;return b()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=f.keyWords,y=d===void 0?"":d,M=(v==null?void 0:v.datasets)||[],!y){g.next=6;break}return g.next=5,(0,D.J9)({name:y,purpose:"label_project"});case 5:return g.abrupt("return",g.sent.datasetList.map(function(O){return{label:O.name,value:O.id,disabled:!O.valid}}));case 6:return g.abrupt("return",M.map(function(O){return{label:O.name,value:O.id}}));case 7:case"end":return g.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),rules:[{required:!0,message:s("proj.editModal.stepForm.dataset.rule"),type:"array"}],disabled:h}),(0,a.jsx)(F.Z,{label:s("proj.editModal.stepForm.preLabel.label"),placeholder:s("proj.editModal.stepForm.preLabel.placeholder"),name:["basics","preLabel"],disabled:h}),(0,a.jsx)(ie,{label:s("proj.editModal.stepForm.category.label"),placeholder:s("proj.editModal.stepForm.category.placeholder"),name:["basics","categories"],rules:[{required:!0,message:s("proj.editModal.stepForm.category.rule")}],disabled:h}),(0,a.jsx)(de.Z.SearchSelect,{label:s("proj.editModal.stepForm.PM.label"),placeholder:s("proj.editModal.stepForm.PM.placeholder"),extra:s("proj.editModal.stepForm.PM.extra"),name:["basics","managerIds"],fieldProps:{mode:"multiple",labelInValue:!1},debounceTime:300,request:function(){var m=N()(b()().mark(function i(f){var d,y,M;return b()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=f.keyWords,y=d===void 0?"":d,M=(v==null?void 0:v.managers)||[],!y){g.next=6;break}return g.next=5,(0,D.Qm)({name:y});case 5:M=g.sent.userList;case 6:return g.abrupt("return",M.map(function(O){return{label:O.name,value:O.id}}));case 7:case"end":return g.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),rules:[{required:!0,message:s("proj.editModal.stepForm.PM.rule"),type:"array"}]})]}),(0,a.jsxs)($.L.StepForm,{name:"taskSetting",title:s("proj.editModal.stepForm.task.title"),stepProps:{description:s("proj.editModal.stepForm.task.desc")},disabled:Y,children:[l.disableInitProject&&(0,a.jsx)(ge,{style:{marginBottom:20},message:s("proj.editModal.stepForm.task.msg"),type:"warning"}),(0,a.jsx)(Ee.Group,{name:"workflowInitNow",options:[s(co.I)]}),(0,a.jsx)(pe.Z,{name:["workflowInitNow"],children:function(i){var f=i.workflowInitNow;return f&&f.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ve.Group,{name:"hadBatchSize",label:s("proj.editModal.stepForm.radio.label"),options:[{label:s("proj.editModal.stepForm.radio.dataset"),value:!1},{label:s("proj.editModal.stepForm.radio.size"),value:!0}]}),(0,a.jsx)(pe.Z,{name:["hadBatchSize"],children:function(y){var M=y.hadBatchSize;return M?(0,a.jsx)(Ne,{label:s("proj.editModal.stepForm.batchSize.label"),name:["settings","batchSize"],min:1,width:"sm",placeholder:s("proj.editModal.stepForm.batchSize.placeholder"),tooltip:s("proj.editModal.stepForm.batchSize.tooltip"),rules:[{required:!0,message:s("proj.editModal.stepForm.batchSize.msg")}]}):null}}),(0,a.jsx)(ve.Group,{name:"hadReviewer",label:s("proj.editModal.stepForm.rview.label"),options:[{label:s("proj.editModal.stepForm.rview.no"),value:!1},{label:s("proj.editModal.stepForm.rview.one"),value:!0}]})]}):(0,a.jsx)("div",{style:{width:"100%",height:"200px"}})}})]})]})})},po=uo,mo=e(36647),vo=function(o){var n=o.complete,r=o.total;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mo.Z,{percent:n/r*100,showInfo:!1,trailColor:"#e4e4e4"}),(0,a.jsx)("div",{children:"".concat(n," / ").concat(r)})]})},fo=vo,go=e(17445),te=e(23673),ho=e(19950),se={page:"page___VUB1h",table:"table___BzPd6",actionCell:"actionCell___IDtFO"},Po=e(88205),jo=e.n(Po),xo=e(42376),yo=e(6590),he={link:"link___BBH6k",input:"input___Wk1gH"},bo=function(o){var n=o.projectId,r=(0,S.useModel)("Project.list"),l=r.onExportLabelProject,c=yo.Z.useForm(),p=jo()(c,1),P=p[0],C=(0,le.bU)(),x=C.localeText;return(0,a.jsx)(xo.Y,{title:x("proj.exportModal.title"),width:450,trigger:(0,a.jsx)("span",{className:he.link,children:x("proj.table.action.export")}),form:P,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var Z=N()(b()().mark(function E(s){return b()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,l(n,s);case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},E)}));return function(E){return Z.apply(this,arguments)}}(),className:he.input,children:(0,a.jsx)(F.Z,{label:x("proj.exportModal.labelName.name"),name:"labelName",rules:[{required:!0,message:x("proj.exportModal.labelName.rule")}],extra:x("proj.exportModal.labelName.tips")})})},Co=bo,Mo=function(){var o=(0,S.useModel)("user"),n=o.user,r=(0,S.useModel)("Project.auth"),l=r.checkPermission,c=(0,ho.Z)(document.querySelector(".ant-pro-grid-content")),p=(0,S.useModel)("Project.list"),P=p.pageData,C=p.pageState,x=p.loading,Z=p.onPageChange,E=p.onInitPageState,s=p.onNewProject,I=p.onEditProject,v=p.onChangeProjectResult;(0,go.Z)({onInitPageState:E,pageState:C});var V=(0,le.bU)(),h=V.localeText,U=function(m){var i=[];return l(m.userRoles,X.Oc.ProjectQa)&&[B.tz.Reviewing].includes(m.status)&&(i.push((0,a.jsx)("a",{style:{color:"#4fbb30"},onClick:function(){return v(m,B.JE.Accept)},children:h("proj.table.action.accept")},"accept")),i.push((0,a.jsx)(J.Z,{title:"Are you sure to reject this project?",onConfirm:function(){return v(m,B.JE.Reject)},children:(0,a.jsx)("a",{style:{color:"red"},children:h("proj.table.action.reject")},"reject")},"reject"))),l(m.userRoles,X.Oc.ProjectEdit)?i.push((0,a.jsx)("a",{onClick:function(){I(m)},children:h("proj.table.action.edit")},"edit")):l(m.userRoles,X.Oc.ProjectInit)&&m.status===B.tz.Waiting?i.push((0,a.jsx)("a",{onClick:function(){I(m)},children:h("proj.table.action.init")},"init")):l(m.userRoles,X.Oc.ProjectInfo)&&m.status!==B.tz.Waiting&&i.push((0,a.jsx)("a",{onClick:function(){I(m)},children:h("proj.table.action.info")},"info")),[B.tz.Waiting,B.tz.Initializing].includes(m.status)||i.push((0,a.jsx)(S.Link,{to:"/project/".concat(m.id),children:h("proj.table.action.detail")},"detail")),l(m.userRoles,X.Oc.ProjectExport)&&m.status===B.tz.Accepted&&i.push((0,a.jsx)("a",{children:(0,a.jsx)(Co,{projectId:m.id})},"export")),i},Y=[{title:h("proj.table.name"),dataIndex:"name",ellipsis:!1},{title:h("proj.table.owner"),ellipsis:!0,render:function(m,i){return(0,a.jsx)(te.Z,{isPerson:!0,data:[{text:i.owner.name,color:"green"}]})}},{title:h("proj.table.datasets"),ellipsis:!0,render:function(m,i){var f,d,y,M,G=JSON.stringify({datasetId:i==null||(f=i.datasets)===null||f===void 0||(d=f[0])===null||d===void 0?void 0:d.id,datasetName:i==null||(y=i.datasets)===null||y===void 0||(M=y[0])===null||M===void 0?void 0:M.name});return i.status===B.tz.Exported?(0,a.jsx)("a",{href:"".concat(window.location.origin,"/page/dataset/detail?pageState=").concat(encodeURIComponent(G)),target:"blank",children:(0,a.jsx)(te.Z,{max:2,data:i.datasets.map(function(g){return{text:g.name,color:"blue"}})})}):(0,a.jsx)(te.Z,{max:2,data:i.datasets.map(function(g){return{text:g.name,color:"blue"}})})}},{title:h("proj.table.progress"),render:function(m,i){return i.taskNumTotal?(0,a.jsx)(fo,{complete:i.taskNumAccepted,total:i.taskNumTotal}):"-"}},{title:h("proj.table.PM"),ellipsis:!0,render:function(m,i){var f;return(0,a.jsx)(te.Z,{isPerson:!0,max:2,data:(f=i.managers)===null||f===void 0?void 0:f.map(function(d){return{text:d.name}})})}},{title:h("proj.table.status"),dataIndex:"status",ellipsis:!0,valueType:"select",valueEnum:B.mu,render:function(m,i){var f=B.mu[i.status],d=f.text,y=f.color;return(0,a.jsx)(L.Z,{color:y,children:h(d)})}},{title:h("proj.table.createAt"),dataIndex:"createdTs",valueType:"date"},{title:h("proj.table.action"),valueType:"option",key:"option",render:function(m,i){return(0,a.jsx)("div",{className:se.actionCell,children:U(i)})}}];return(0,a.jsxs)(H._z,{className:se.page,header:{title:h("proj.title"),extra:n.isStaff?[(0,a.jsxs)(A.ZP,{type:"primary",onClick:s,children:["+ ",h("proj.table.newProject")]},"new")]:[],breadcrumb:{}},children:[(0,a.jsx)(R.Z,{rowKey:"id",className:se.table,scroll:{x:1200,y:c!=null&&c.height?c.height-124:void 0},columns:Y,cardBordered:!0,dataSource:P.list,toolBarRender:function(){return[(0,a.jsx)(a.Fragment,{})]},options:!1,search:!1,loading:x,pagination:{current:C.page,pageSize:C.pageSize,total:P.total,showSizeChanger:!0,onChange:Z}}),(0,a.jsx)(po,{})]})},Fo=Mo}}]);

//# sourceMappingURL=p__Project__index.c3a5191f.async.js.map