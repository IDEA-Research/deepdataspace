"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[297],{51297:function(_n,zt,Q){Q.d(zt,{Z:function(){return Ei}});var Pt=Q(34485),Re=Q.n(Pt),kt=Q(63900),ie=Q.n(kt),Zt=Q(2657),oe=Q.n(Zt),Yt=Q(88205),fe=Q.n(Yt),c=Q(52983),Dt=Q(73974),se=Q(58174),vt=Q(75947),Ct=Q(57006),xe=Q(4137),o=Q(90046),et=Q(7803),te=Q(66017),Ot=Q(39213),Oe=Q(21169),Pe=Q(39378);function Rt(a){var e=a.visible,t=a.categories,g=a.setCategories,i=a.drawData,s=a.setDrawData,f=a.editState,y=a.updateObjectWithoutHistory,j=a.updateAllObjectWithoutHistory,x=(0,c.useState)([]),N=fe()(x,2),u=N[0],C=N[1],B=(0,c.useMemo)(function(){return(0,Oe.Cj)(t.map(function(b){return b.name}))},[t]),R=function(r){t.find(function(S){return S.name===r})||!g||g(function(S){return[].concat(Re()(S),[{id:r,name:r}])})};(0,c.useEffect)(function(){var b=t.map(function(S){return S.name}),r=u.filter(function(S){return b.includes(S)});C(r)},[t]),(0,c.useEffect)(function(){e||C([])},[e]);var w=i.objectList,K=function(r,S){var I=ie()({},i.objectList[r]);I.hidden=S,y(I,r)},q=function(r,S){var I=i.objectList.map(function(z){var Y=ie()({},z);return Y.label===r&&(Y.hidden=S),Y});j(I)},T=function(r,S){var I=ie()({},i.objectList[f.focusObjectIndex]);switch(r){case o.Yq.Rect:{I.rect&&(I.rect.visible=S,y(I,f.focusObjectIndex));break}case o.Yq.Polygon:{I.polygon&&(I.polygon.visible=S,y(I,f.focusObjectIndex));break}}},l=function(r){var S,I,z=(0,Pe.cloneDeep)(i.objectList[f.focusObjectIndex]),Y=(S=z.keypoints)===null||S===void 0||(I=S.points)===null||I===void 0?void 0:I[f.focusEleIndex];Y&&(Y.visible=r),y(z,f.focusObjectIndex)},M=function(r){s(function(S){S.activeClassName=r})};return(0,c.useEffect)(function(){if(!(i.activeObjectIndex<0)){var b=i.objectList[i.activeObjectIndex].label;b!==i.activeClassName&&M(b)}},[i.activeObjectIndex]),{aiLabels:u,setAiLabels:C,labelColors:B,curObjects:w,onChangeObjectHidden:K,onChangeCategoryHidden:q,onChangeElementVisible:T,onChangePointVisible:l,onChangeActiveClass:M,onCreateCategory:R}}var Fe={editor:"editor___UFOH3",container:"container___ey4I7",leftSlider:"leftSlider___ouAWE",centerContent:"centerContent___aa6jY",rightSlider:"rightSlider___p5OZW",editWrap:"editWrap___rNhSI",rowLine:"rowLine___pNZ58",columnLine:"columnLine___UJjPP",dropdownOptions:"dropdownOptions____8Aj6",objectOption:"objectOption___GZaiZ",dot:"dot___d5ctg"},st=Q(24454),Ee=Q.n(st),Ht=Q(56592),_e=Q.n(Ht),Lt=Q(78810),ct=Q(82129),lt=Q(26408),He=Q(55336),Xe=Q(7818),$n=Q(52994),X=Q(74004),at=Q(16984),Kt=Q(23319),ke=Q(23465),qn=function(e){var t=e.mode,g=e.list,i=e.current,s=e.modal,f=e.setDrawData,y=e.setDrawDataWithHistory,j=e.editState,x=e.setEditState,N=e.naturalSize,u=e.clientSize,C=e.imagePos,B=e.containerMouse,R=e.updateAllObject,w=e.hadChangeRecord,K=e.latestLabel,q=e.labelColors,T=e.onCancel,l=e.onSave,M=e.onReviewResult,b=(0,Xe.bU)(),r=b.localeText,S=(0,$n.useModel)("global"),I=S.setLoading,z=j.isRequiring,Y=function(O){return x(function(P){P.isRequiring=O})},U=function(){var Z=_e()(Ee()().mark(function O(P,W){var k,V,_,ee,ne;return Ee()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.prev=0,I(!0),J.next=4,(0,ct.yH)(lt.HE.Detection,{image:P,text:W.join(",")});case 4:k=J.sent,k&&(V=k.objects,_=k.suggestThreshold,ee=_||0,ne=V.map(function(re){var de=ie()({},(0,te.cO)(re.boundingBox,u));return{rect:ie()(ie()({},de),{},{visible:!0}),label:re.categoryName,type:o.gr.Rectangle,hidden:!1,status:re.normalizedScore>=ee?X.TK.Checked:X.TK.Unchecked,conf:re.normalizedScore}}).reverse(),y(function(re){re.isBatchEditing=!0,re.limitConf=ee;var de=re.objectList.filter(function(De){return De.status===X.TK.Commited});re.objectList=[].concat(Re()(de),Re()(ne)),re.creatingObject&&re.objectList[re.activeObjectIndex]&&(re.creatingObject=ie()({},re.objectList[re.activeObjectIndex]))}),xe.ZP.success(r("smartAnnotation.msg.success"))),J.next=11;break;case 8:J.prev=8,J.t0=J.catch(0),xe.ZP.error(r("smartAnnotation.msg.error"));case 11:return J.prev=11,I(!1),J.finish(11);case 14:case"end":return J.stop()}},O,null,[[0,8,11,14]])}));return function(P,W){return Z.apply(this,arguments)}}(),E=function(){var Z=_e()(Ee()().mark(function O(P,W,k,V){var _,ee,ne,je,J,re,de,De,Se,$,Ye,pe,le,ge,me,Ce;return Ee()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return ne=((_=P.creatingObject)===null||_===void 0||(ee=_.polygon)===null||ee===void 0?void 0:ee.group.map(function(Le){return Le.reduce(function(Ue,Ve){var Qe=(0,He.AR)([Ve.x,Ve.y],N,u),We=Qe.x,gt=Qe.y;return Ue.concat([We,gt])},[])}))||[],je=(V==null?void 0:V.map(function(Le){var Ue=(0,He.AR)([Le.point.x,Le.point.y],N,u),Ve=Ue.x,Qe=Ue.y;return{isPositive:Le.isPositive,position:[Ve,Qe]}}))||[],J={image:W,mask:P.prompt.segmentationMask||"",polygons:ne,clicks:je},k&&(re=k.xmin,de=k.ymin,De=k.xmax,Se=k.ymax,$=(0,He.AR)([re,de],N,u),Ye=(0,He.AR)([De,Se],N,u),Object.assign(J,{rect:[$.x,$.y,Ye.x,Ye.y]})),Ie.prev=4,I(!0),Ie.next=8,(0,ct.yH)(lt.HE.SegmentByPolygon,J);case 8:pe=Ie.sent,pe&&(le=pe.polygon,ge=pe.mask,le&&le.length>0&&(me=le.map(function(Le){for(var Ue=[],Ve=0;Ve<Le.length;Ve+=2){var Qe=Le[Ve],We=Le[Ve+1],gt=(0,He.YO)([Qe,We],N,u);Ue.push(gt)}return Ue}),Ce={type:o.gr.Polygon,hidden:!1,label:K,currIndex:-1,polygon:{visible:!0,group:me},status:X.TK.Checked},y(function(Le){Le.creatingObject=Ce,Le.prompt.segmentationMask=ge})),xe.ZP.success(r("smartAnnotation.msg.success"))),Ie.next=15;break;case 12:Ie.prev=12,Ie.t0=Ie.catch(4),xe.ZP.error(r("smartAnnotation.msg.error"));case 15:return Ie.prev=15,I(!1),Ie.finish(15);case 18:case"end":return Ie.stop()}},O,null,[[4,12,15,18]])}));return function(P,W,k,V){return Z.apply(this,arguments)}}(),H=function(O){var P=O.map(function(W){var k=W.type,V=W.isPositive,_=W.point,ee=W.rect,ne=W.stroke,je=W.radius,J={type:k,isPositive:V};if(ee){var re=(0,te.kh)(ee),de=re.xmax,De=re.xmin,Se=re.ymax,$=re.ymin,Ye=(0,He.AR)([De,$],N,u),pe=(0,He.AR)([de,Se],N,u);Object.assign(J,{rect:[Ye.x,Ye.y,pe.x,pe.y]})}if(_){var le=(0,He.AR)([_.x,_.y],N,u);Object.assign(J,{point:[le.x,le.y]})}if(ne){var ge=ne.reduce(function(me,Ce){var Je=Ce.x,Ie=Ce.y,Le=(0,He.AR)([Je,Ie],N,u);return me.concat([Le.x,Le.y])},[]);Object.assign(J,{stroke:ge,radius:je})}return J});return P},h=function(){var Z=_e()(Ee()().mark(function O(P,W,k){var V,_,ee,ne,je,J,re,de,De,Se,$,Ye,pe,le,ge,me,Ce,Je,Ie,Le,Ue,Ve,Qe,We;return Ee()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(k){we.next=2;break}return we.abrupt("return");case 2:return je=(V=P.creatingObject)!==null&&V!==void 0&&V.maskCanvasElement||(_=P.creatingObject)!==null&&_!==void 0&&_.tempMaskSteps?(0,at.G9)(u,N,((ee=P.creatingObject)===null||ee===void 0?void 0:ee.tempMaskSteps)||[],(ne=P.creatingObject)===null||ne===void 0?void 0:ne.maskCanvasElement):[],J=(0,te.X_)(C.current,u,B),re=J.xmin,de=J.ymin,De=J.xmax,Se=J.ymax,$=[0,0,N.width,N.height],De>0&&Se>0&&(Ye=(0,te.Ap)({x:re,y:de},u,N),pe=Ye.x,le=Ye.y,ge=(0,te.Ap)({x:De,y:Se},u,N),me=ge.x,Ce=ge.y,$=[Math.round(pe),Math.round(le),Math.round(me),Math.round(Ce)]),Je={maskRle:je||[],maskId:P.prompt.segmentationMask||"",prompt:H(k||[]),area:$},j.imageCacheId?Object.assign(Je,{imageId:j.imageCacheId}):Object.assign(Je,{image:W}),we.prev=8,I(!0),we.next=12,(0,ct.yH)(lt.HE.SegmentByMask,Je);case 12:Ie=we.sent,Ie&&(Le=Ie.maskId,Ue=Ie.maskRle,Ve=Ie.imageId,Qe=q[K]||ke.Bt.CREATING_POSITIVE,We={type:o.gr.Mask,hidden:!1,label:K,currIndex:-1,maskCanvasElement:(0,at.ei)(Ue,N,Qe),maskRle:Ue,status:X.TK.Checked},y(function(nt){nt.creatingObject=We,nt.prompt.maskPrompts=k,nt.prompt.segmentationMask=Le,nt.prompt.creatingMask=void 0}),x(function(nt){nt.imageCacheId=Ve}),xe.ZP.success(r("smartAnnotation.msg.success"))),we.next=21;break;case 16:we.prev=16,we.t0=we.catch(8),console.error(we.t0.message),xe.ZP.error("Request Failed: ".concat(we.t0.message,", Please retry later.")),y(function(nt){nt.prompt.creatingMask=void 0});case 21:return we.prev=21,I(!1),we.finish(21);case 24:case"end":return we.stop()}},O,null,[[8,16,21,24]])}));return function(P,W,k){return Z.apply(this,arguments)}}(),d=function(){var Z=_e()(Ee()().mark(function O(P,W,k){var V,_,ee,ne,je,J,re,de,De,Se,$;return Ee()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return V=o.v_.lines,_=o.v_.pointNames,ee=o.v_.pointColors,ne={image:W,targets:k.join(","),template:{lines:V,pointNames:_,pointColors:ee}},P.isBatchEditing&&(je=Re()(P.objectList),P.activeObjectIndex>-1&&je[P.activeObjectIndex]&&P.creatingObject&&(je[P.activeObjectIndex]=ie()(ie()({},je[P.activeObjectIndex]),P.creatingObject)),J=je.filter(function(le){return le.type===o.gr.Skeleton&&le.status===X.TK.Checked}),J.length>0&&(re=(0,te.j9)(J,N,u),de=re.map(function(le){return{categoryName:le.categoryName,points:le.points,boundingBox:le.boundingBox}}),Object.assign(ne,{objects:de}))),pe.prev=3,I(!0),pe.next=7,(0,ct.yH)(lt.HE.Pose,ne);case 7:De=pe.sent,De&&(Se=De.objects,Se&&Se.length>0&&($=Se.map(function(le){var ge=le.categoryName,me=le.boundingBox,Ce=le.points,Je=le.conf,Ie={label:ge,type:o.gr.Skeleton,hidden:!1,conf:Je,status:X.TK.Checked};if(me){var Le=(0,te.cO)(me,u);Object.assign(Ie,{rect:ie()({visible:!0},Le)})}if(Ce&&V&&ee&&_){var Ue=(0,te.el)(Ce,_,ee,N,u);Object.assign(Ie,{keypoints:{points:Ue,lines:V}})}return Ie}),y(function(le){le.isBatchEditing||(le.isBatchEditing=!0);var ge=le.objectList.filter(function(me){return me.status===X.TK.Commited});le.objectList=[].concat(Re()(ge),Re()($)),le.creatingObject&&le.objectList[le.activeObjectIndex]&&(le.creatingObject=ie()({},le.objectList[le.activeObjectIndex]))}),xe.ZP.success(r("smartAnnotation.msg.success")))),pe.next=14;break;case 11:pe.prev=11,pe.t0=pe.catch(3),xe.ZP.error(r("smartAnnotation.msg.error"));case 14:return pe.prev=14,I(!1),pe.finish(14);case 17:case"end":return pe.stop()}},O,null,[[3,11,14,17]])}));return function(P,W,k){return Z.apply(this,arguments)}}(),D=function(){var Z=_e()(Ee()().mark(function O(P,W){var k,V,_,ee,ne,je,J,re,de,De,Se,$,Ye,pe;return Ee()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!(!((k=P.prompt.creatingMask)!==null&&k!==void 0&&k.stroke)||!((V=P.prompt.creatingMask)!==null&&V!==void 0&&V.radius))){ge.next=2;break}return ge.abrupt("return");case 2:if(_=P.prompt.creatingMask,ee=_.stroke,ne=_.radius,je=P.objectList.filter(function(me){return me.type===o.gr.Mask}),!(je.length<2)){ge.next=8;break}return xe.ZP.error("To ensure valid results when using intelligent edge stitching, make sure to use at least 2 mask objects."),f(function(me){me.prompt.creatingMask=void 0}),ge.abrupt("return");case 8:return J=je.map(function(me){var Ce=(0,at.G9)(u,N,[],me.maskCanvasElement)||[];return{maskRle:Ce,categoryName:me.label}}),re=ee.reduce(function(me,Ce){var Je=Ce.x,Ie=Ce.y,Le=(0,He.AR)([Je,Ie],N,u);return me.concat([Le.x,Le.y])},[]),de={rleList:J,stroke:re,radius:ne},j.imageCacheId?Object.assign(de,{imageId:j.imageCacheId}):Object.assign(de,{image:W}),Object.assign(de,{image:W}),ge.prev=13,I(!0),ge.next=17,(0,ct.yH)(lt.HE.MaskEdgeStitching,de);case 17:Se=ge.sent,Se&&((De=Se.rleList)===null||De===void 0?void 0:De.length)>0&&($=Se.rleList.map(function(me){var Ce=q[me.categoryName]||"#fff";return{type:o.gr.Mask,hidden:!1,label:me.categoryName,maskRle:me.maskRle,maskCanvasElement:(0,at.ei)(me.maskRle,N,Ce),conf:1,status:X.TK.Commited}}),Ye=P.objectList.filter(function(me){return me.type!==o.gr.Mask}),pe=[].concat(Re()(Ye),Re()($)),R(pe),xe.ZP.success(r("smartAnnotation.msg.success"))),ge.next=25;break;case 21:ge.prev=21,ge.t0=ge.catch(13),console.error(ge.t0.message),xe.ZP.error("Request Failed: ".concat(ge.t0.message,", Please retry later."));case 25:return ge.prev=25,I(!1),f(function(me){me.prompt.creatingMask=void 0}),ge.finish(25);case 29:case"end":return ge.stop()}},O,null,[[13,21,25,29]])}));return function(P,W){return Z.apply(this,arguments)}}(),A=function(){var Z=_e()(Ee()().mark(function O(P,W){var k,V,_,ee,ne;return Ee()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return k=ie()({},W),j.imageCacheId?Object.assign(k,{imageId:j.imageCacheId}):Object.assign(k,{image:P}),J.prev=2,I(!0),J.next=6,(0,ct.yH)(lt.HE.SegmentEverything,k);case 6:_=J.sent,_&&((V=_.rleList)===null||V===void 0?void 0:V.length)>0&&(ee=(0,Oe.mm)(_.rleList.length),ne=_.rleList.map(function(re,de){return{type:o.gr.Mask,hidden:!1,label:K,maskRle:re.maskRle,maskCanvasElement:(0,at.ei)(re.maskRle,N,ee[de]),conf:1,status:X.TK.Checked}}),y(function(re){re.objectList=ne,re.isBatchEditing=!0}),xe.ZP.success(r("smartAnnotation.msg.success"))),J.next=14;break;case 10:J.prev=10,J.t0=J.catch(2),console.error(J.t0.message),xe.ZP.error("Request Failed: ".concat(J.t0.message,", Please retry later."));case 14:return J.prev=14,I(!1),J.finish(14);case 17:case"end":return J.stop()}},O,null,[[2,10,14,17]])}));return function(P,W){return Z.apply(this,arguments)}}(),L=function(){var Z=_e()(Ee()().mark(function O(P){var W,k,V,_,ee,ne,je,J,re,de,De;return Ee()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(W=P.type,k=P.drawData,V=P.aiLabels,_=V===void 0?[]:V,ee=P.bbox,ne=P.maskPrompts,je=P.segmentationClicks,J=P.segmentEverythingParams,!z){$.next=3;break}return $.abrupt("return");case 3:if(!(!_.length&&[o.ru.Rectangle,o.ru.Skeleton].includes(k.selectedTool))){$.next=6;break}return xe.ZP.warning(r("smartAnnotation.msg.labelRequired")),$.abrupt("return");case 6:if(re=xe.ZP.loading(r("smartAnnotation.msg.loading"),1e5),de="".concat(g[i].urlFullRes),$.prev=8,Y(!0),(0,He.Zp)(de)){$.next=14;break}return $.next=13,(0,He.Wh)("".concat(de,"?noredirect=1"));case 13:de=$.sent;case 14:$.next=19;break;case 16:$.prev=16,$.t0=$.catch(8),console.log("imageToBase64 error:",$.t0);case 19:$.prev=19,Y(!0),(0,Lt.LN)("dataset_item_edit_ai_annotation",{labels:_}),De=W||o.Zo[k.selectedTool],$.t1=De,$.next=$.t1===o.gr.Rectangle?26:$.t1===o.gr.Skeleton?29:$.t1===o.gr.Polygon?32:$.t1===o.gr.Mask?35:48;break;case 26:return $.next=28,U(de,_);case 28:return $.abrupt("break",50);case 29:return $.next=31,d(k,de,_);case 31:return $.abrupt("break",50);case 32:return $.next=34,E(k,de,ee,je);case 34:return $.abrupt("break",50);case 35:if(k.selectedSubTool!==o.jB.AutoEdgeStitching){$.next=40;break}return $.next=38,D(k,de);case 38:$.next=47;break;case 40:if(k.selectedSubTool!==o.jB.AutoSegmentEverything){$.next=45;break}return $.next=43,A(de,J);case 43:$.next=47;break;case 45:return $.next=47,h(k,de,ne);case 47:return $.abrupt("break",50);case 48:return xe.ZP.warning("Plan to Support!"),$.abrupt("break",50);case 50:$.next=55;break;case 52:$.prev=52,$.t2=$.catch(19),xe.ZP.error(r("smartAnnotation.msg.error"));case 55:return $.prev=55,Y(!1),f(function(Ye){Ye.prompt.activeRectWhileLoading=void 0}),re(),$.finish(55);case 60:case"end":return $.stop()}},O,null,[[8,16],[19,52,55,60]])}));return function(P){return Z.apply(this,arguments)}}(),p=function(){var Z=_e()(Ee()().mark(function O(P){var W;return Ee()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(z||!l)){V.next=2;break}return V.abrupt("return");case 2:if(!P.objectList.find(function(_){return!_.label})){V.next=5;break}return xe.ZP.warning("There are annotations without a category. Please check."),V.abrupt("return");case 5:return Y(!0),V.prev=6,W=(0,te.j9)(P.objectList,N,u),V.next=10,l(g[i].id,W);case 10:V.next=15;break;case 12:V.prev=12,V.t0=V.catch(6),console.error(V.t0);case 15:Y(!1);case 16:case"end":return V.stop()}},O,null,[[6,12]])}));return function(P){return Z.apply(this,arguments)}}(),v=function(){if(t===X.je.Edit&&w){s.confirm({getContainer:function(){return document.body},content:r("editor.confirmLeave.content"),cancelText:r("editor.confirmLeave.cancel"),okText:r("editor.confirmLeave.ok"),okButtonProps:{danger:!0},onOk:function(){T&&T(),(0,Lt.LN)("dataset_item_edit_cancel")}});return}T&&T(),(0,Lt.LN)("dataset_item_edit_cancel")},m=function(){if(t===X.je.Review&&M){var O;M(((O=g[i])===null||O===void 0?void 0:O.id)||"",Kt.JE.Reject)}},G=function(){if(t===X.je.Review&&M){var O;M(((O=g[i])===null||O===void 0?void 0:O.id)||"",Kt.JE.Accept)}};return{onAiAnnotation:L,onSaveAnnotations:p,onCancelAnnotations:v,onReject:m,onAccept:G}},ea=qn,Qt={container:"container___Vg4YJ",content:"content___YwU2x",text:"text___kIvTv",btn:"btn___rulqE"},n=Q(97458),ft=function(e){var t=e.children,g=e.eventHandler,i=function(f){g?g(f):f.stopPropagation()};return(0,n.jsx)("div",{onMouseDown:i,onMouseUp:i,style:{userSelect:"none"},children:t})},ta=function(e){var t=e.index,g=e.targetElement,i=e.imagePos;return(0,n.jsx)(ft,{children:(0,n.jsx)("div",{className:Qt.container,style:{left:g.x+i.x+5,top:g.y+i.y+5},children:(0,n.jsx)("div",{className:Qt.content,children:(0,n.jsx)("span",{className:Qt.text,children:"".concat(t+1," ").concat(g.name)})})})})},na=ta,ot=Q(29492),Et=Q(87582),aa=Q(5670),oa=Object.defineProperty,Jt=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,ra=Object.prototype.propertyIsEnumerable,_t=(a,e,t)=>e in a?oa(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,sa=(a,e)=>{for(var t in e||(e={}))ia.call(e,t)&&_t(a,t,e[t]);if(Jt)for(var t of Jt(e))ra.call(e,t)&&_t(a,t,e[t]);return a};const $t=a=>c.createElement("svg",sa({width:10,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.464 5.65A1 1 0 0 0 2.88 7.064l2.12-2.12 2.122 2.12A1 1 0 0 0 8.535 5.65L5.713 2.828a1 1 0 0 0-1.42-.006L1.464 5.65Z",fill:"#fff"}));var ir="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjQ2NCA1LjY1QTEgMSAwIDAgMCAyLjg4IDcuMDY0bDIuMTItMi4xMiAyLjEyMiAyLjEyQTEgMSAwIDAgMCA4LjUzNSA1LjY1TDUuNzEzIDIuODI4YTEgMSAwIDAgMC0xLjQyLS4wMDZMMS40NjQgNS42NVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",he={rightOperations:"rightOperations___lXmRi",tabHeaderActions:"tabHeaderActions___nVgri",collapse:"collapse___zhVH2",collapseHeader:"collapseHeader___DWexh",labelName:"labelName___zlkmx",labelCount:"labelCount___IqQU9",selectedLine:"selectedLine___GgG7w",icon:"icon___FyVnE",actions:"actions___Wk1xh",btn:"btn___iqY79",arrow:"arrow____xMRe",collapseHeaderSelected:"collapseHeaderSelected___P2MMZ",collapseItem:"collapseItem___E_S7i",colorHint:"colorHint___FkIuO",labelControl:"labelControl___jUtpP",title:"title___JgMhQ",selector:"selector___vCise"},ca=Q(83849),Ze=Q.n(ca),Ne=Q(78389),ht=Q(69352),pt=Q(87176),qt=Q(59626),tt=Q(76701),Be={item:"item___oxc6Z",selectedLine:"selectedLine___niI6W",info:"info___uVTt1",action:"action___NdNmH",btn:"btn___AIzOr"},la=function(e){var t=e.point,g=e.index,i=e.active,s=e.onMouseEnter,f=e.onMouseOut,y=e.onMouseOver,j=e.onVisibleChange,x=(0,Xe.bU)(),N=x.localeText;return(0,n.jsxs)("div",{className:Be.item,style:{backgroundColor:i?"#4b4f52":"#262626"},onMouseOut:f,onMouseOver:y,onMouseEnter:s,children:[i&&(0,n.jsx)("div",{className:Be.selectedLine,style:{backgroundColor:t.color}}),(0,n.jsx)("div",{className:Be.info,style:{fontSize:12,color:"#fff"},children:t.name?"".concat(g+1," ").concat(t.name):"".concat(g+1," ")}),(0,n.jsx)("div",{className:Be.action,children:(0,n.jsxs)(tt.Z,{showArrow:!0,popupClassName:Be["selector-dropdown"],size:"small",value:t.visible,onChange:j,dropdownMatchSelectWidth:!1,children:[(0,n.jsx)(tt.Z.Option,{value:o.GI.noLabeled,children:N("editor.annotsList.point.notInImage")}),(0,n.jsx)(tt.Z.Option,{value:o.GI.labeledNotVisible,children:N("editor.annotsList.point.notVisible")}),(0,n.jsx)(tt.Z.Option,{value:o.GI.labeledVisible,children:N("editor.annotsList.point.visible")})]})})]},g)},ua=la,da=function(e){var t=e.rect,g=e.active,i=e.onMouseEnter,s=e.onMouseOut,f=e.onMouseOver,y=e.onVisibleChange,j="#fff";return(0,n.jsxs)("div",{className:Be.item,style:{backgroundColor:g?"#4b4f52":"#262626"},onMouseOut:s,onMouseOver:f,onMouseEnter:i,children:[g&&(0,n.jsx)("div",{className:Be.selectedLine,style:{backgroundColor:j}}),(0,n.jsx)("div",{className:Be.info,style:{fontSize:12,color:"#fff"},children:"RECTANGLE"}),(0,n.jsx)("div",{className:Be.action,children:(0,n.jsx)(se.ZP,{ghost:!0,className:Be.btn,icon:t.visible?(0,n.jsx)(ht.Z,{}):(0,n.jsx)(pt.Z,{}),shape:"circle",onClick:function(){return y(!t.visible)}})})]},"rect")},ga=da,Ma=function(e){var t=e.element,g=e.active,i=e.onMouseEnter,s=e.onMouseOut,f=e.onMouseOver,y=e.onVisibleChange,j="#fff";return(0,n.jsxs)("div",{className:Be.item,style:{backgroundColor:g?"#4b4f52":"#262626"},onMouseOut:s,onMouseOver:f,onMouseEnter:i,children:[g&&(0,n.jsx)("div",{className:Be.selectedLine,style:{backgroundColor:j}}),(0,n.jsx)("div",{className:Be.info,style:{fontSize:12,color:"#fff"},children:"POLYGON"}),(0,n.jsx)("div",{className:Be.action,children:(0,n.jsx)(se.ZP,{ghost:!0,className:Be.btn,icon:t.visible?(0,n.jsx)(ht.Z,{}):(0,n.jsx)(pt.Z,{}),shape:"circle",onClick:function(){return y(!t.visible)}})})]},"polygon")},ja=Ma,Te=Q(32658),be,Ae;(function(a){a.Tool="editor.shortcuts.tools",a.GeneralAction="editor.shortcuts.general",a.ViewAction="editor.shortcuts.viewControl",a.AnnotationAction="editor.shortcuts.annotsControl"})(Ae||(Ae={}));var ae;(function(a){a[a.RectangleTool=0]="RectangleTool",a[a.PolygonTool=1]="PolygonTool",a[a.SkeletonTool=2]="SkeletonTool",a[a.DragTool=3]="DragTool",a[a.MaskTool=4]="MaskTool",a[a.SmartAnnotation=5]="SmartAnnotation",a[a.Undo=6]="Undo",a[a.Redo=7]="Redo",a[a.DeleteAll=8]="DeleteAll",a[a.NextImage=9]="NextImage",a[a.PreviousImage=10]="PreviousImage",a[a.Save=11]="Save",a[a.Accept=12]="Accept",a[a.Reject=13]="Reject",a[a.ZoomIn=14]="ZoomIn",a[a.ZoomOut=15]="ZoomOut",a[a.Reset=16]="Reset",a[a.HideCurrObject=17]="HideCurrObject",a[a.HideCurrCategory=18]="HideCurrCategory",a[a.HideAll=19]="HideAll",a[a.PanImage=20]="PanImage",a[a.DeleteCurrObject=21]="DeleteCurrObject",a[a.SaveCurrObject=22]="SaveCurrObject",a[a.CancelCurrObject=23]="CancelCurrObject"})(ae||(ae={}));var ye=(be={},oe()(be,ae.RectangleTool,{name:"RectangleTool",type:Ae.Tool,shortcut:["r"],descTextKey:"editor.shortcuts.tools.rectangle"}),oe()(be,ae.PolygonTool,{name:"PolygonTool",type:Ae.Tool,shortcut:["p"],descTextKey:"editor.shortcuts.tools.polygon"}),oe()(be,ae.SkeletonTool,{name:"SkeletonTool",type:Ae.Tool,shortcut:["s"],descTextKey:"editor.shortcuts.tools.skeleton"}),oe()(be,ae.MaskTool,{name:"MaskTool",type:Ae.Tool,shortcut:["m"],descTextKey:"editor.shortcuts.tools.mask"}),oe()(be,ae.DragTool,{name:"DragTool",type:Ae.Tool,shortcut:["d"],descTextKey:"editor.shortcuts.tools.drag"}),oe()(be,ae.SmartAnnotation,{name:"SmartAnnotation",type:Ae.GeneralAction,shortcut:["a"],descTextKey:"editor.shortcuts.general.smart"}),oe()(be,ae.Undo,{name:"Undo",type:Ae.GeneralAction,shortcut:["ctrl.z","meta.z"],descTextKey:"editor.shortcuts.general.undo"}),oe()(be,ae.Redo,{name:"Redo",type:Ae.GeneralAction,shortcut:["ctrl.shift.z","meta.shift.z"],descTextKey:"editor.shortcuts.general.redo"}),oe()(be,ae.DeleteAll,{name:"DeleteAll",type:Ae.GeneralAction,shortcut:["ctrl.shift.d","meta.shift.d"],descTextKey:"editor.shortcuts.general.deleteAll"}),oe()(be,ae.Save,{name:"Save",type:Ae.GeneralAction,shortcut:["ctrl.s","meta.s"],descTextKey:"editor.shortcuts.general.save"}),oe()(be,ae.HideCurrObject,{name:"HideCurrObject",type:Ae.ViewAction,shortcut:["h"],descTextKey:"editor.shortcuts.viewControl.hideCurrObject"}),oe()(be,ae.HideCurrCategory,{name:"HideCurrCategory",type:Ae.ViewAction,shortcut:["ctrl.h","meta.h"],descTextKey:"editor.shortcuts.viewControl.hideCurrCategory"}),oe()(be,ae.HideAll,{name:"HideAll",type:Ae.ViewAction,shortcut:["ctrl.shift.h","meta.shift.h"],descTextKey:"editor.shortcuts.viewControl.hideAll"}),oe()(be,ae.ZoomIn,{name:"ZoomIn",type:Ae.ViewAction,shortcut:["equalsign"],descTextKey:"editor.shortcuts.viewControl.zoomIn"}),oe()(be,ae.ZoomOut,{name:"ZoomOut",type:Ae.ViewAction,shortcut:["dash"],descTextKey:"editor.shortcuts.viewControl.zoomOut"}),oe()(be,ae.Reset,{name:"Reset",type:Ae.ViewAction,shortcut:["0"],descTextKey:"editor.shortcuts.viewControl.zoomReset"}),oe()(be,ae.Accept,{name:"Accept",type:Ae.GeneralAction,shortcut:["ctrl.a","meta.a"],descTextKey:"editor.shortcuts.general.accept"}),oe()(be,ae.Reject,{name:"Reject",type:Ae.GeneralAction,shortcut:["ctrl.r","meta.r"],descTextKey:"editor.shortcuts.general.reject"}),oe()(be,ae.NextImage,{name:"NextImage",type:Ae.ViewAction,shortcut:["rightarrow"],descTextKey:"editor.shortcuts.general.next"}),oe()(be,ae.PreviousImage,{name:"PreviousImage",type:Ae.ViewAction,shortcut:["leftarrow"],descTextKey:"editor.shortcuts.general.prev"}),oe()(be,ae.PanImage,{name:"PanImage",type:Ae.ViewAction,shortcut:["Space"],descTextKey:"editor.shortcuts.viewControl.panImage"}),oe()(be,ae.SaveCurrObject,{name:"SaveCurrObject",type:Ae.AnnotationAction,shortcut:["enter"],descTextKey:"editor.shortcuts.annotsControl.finish"}),oe()(be,ae.DeleteCurrObject,{name:"DeleteCurrObject",type:Ae.AnnotationAction,shortcut:["Backspace","Delete"],descTextKey:"editor.shortcuts.annotsControl.delete"}),oe()(be,ae.CancelCurrObject,{name:"CancelCurrObject",type:Ae.AnnotationAction,shortcut:["esc"],descTextKey:"editor.shortcuts.annotsControl.cancel"}),be),en=function(e){var t=e;switch(e){case"meta":t="\u2318";break;case"shift":t="\u21E7";break;case"equalsign":case"add":t="+";break;case"dash":case"subtract":t="-";break;case"leftarrow":t="\u2190";break;case"rightarrow":t="\u2192";break;default:t=e.toUpperCase();break}return t},mt;(function(a){a.Object="object",a.Class="class"})(mt||(mt={}));var va=function(e){var t=e.objects,g=e.labelColors,i=e.focusObjectIndex,s=e.activeObjectIndex,f=e.focusEleIndex,y=e.focusEleType,j=e.isMovingElement,x=e.className,N=e.supportEdit,u=e.activeClassName,C=e.onFocusObject,B=e.onActiveObject,R=e.onFocusElement,w=e.onChangeFocusEleType,K=e.onChangeObjectHidden,q=e.onDeleteObject,T=e.onChangeEleVisible,l=e.onChangeCategoryHidden,M=e.onCancelMovingStatus,b=e.onChangeActiveClassName,r=e.onChangePointVisible,S=(0,Xe.bU)(),I=S.localeText,z=I("editor.annotsList.uncategorized"),Y=(0,c.useState)(mt.Class),U=fe()(Y,2),E=U[0],H=U[1],h=function(G){H(G)},d=(0,c.useMemo)(function(){return!t.some(function(m){return!m.hidden})},[t]),D=function(){t.forEach(function(G,Z){K(Z,!d)})};(0,Te.Z)(ye[ae.HideAll].shortcut,function(m){m.preventDefault(),D()},{exactMatch:!0});var A=function(G){var Z=G.object,O=G.objIndex;return(0,n.jsxs)("div",{className:Ze()(he.collapseHeader,oe()({},he.collapseHeaderSelected,s===O)),onMouseOver:function(){C(O)},children:[s===O&&(0,n.jsx)("div",{className:he.selectedLine,style:{backgroundColor:g[Z.label]||"#fff"}}),(0,n.jsx)(Ne.Z,{className:he.icon,component:o.ef[Z.type]}),Z.label,(0,n.jsxs)("div",{className:he.actions,children:[(0,n.jsx)(ot.Z,{title:Z.hidden?I("editor.annotsList.show"):I("editor.annotsList.hide"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:Z.hidden?(0,n.jsx)(pt.Z,{}):(0,n.jsx)(ht.Z,{}),shape:"circle",onClick:function(W){W.stopPropagation(),K(O,!Z.hidden)}})}),N&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ot.Z,{title:I("editor.annotsList.delete"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:(0,n.jsx)(qt.Z,{}),shape:"circle",onClick:function(W){W.stopPropagation(),q(O)}})})}),[o.gr.Custom,o.gr.Skeleton].includes(Z.type)&&(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:(0,n.jsx)($t,{className:"".concat(he.arrow)}),shape:"circle"})]})]})},L=(0,c.useMemo)(function(){return t.reduce(function(m,G,Z){var O=G.label||z;return m[O]||(m[O]=[]),m[O].push(ie()(ie()({},G),{},{originIndex:Z})),m},{})},[t]);(0,c.useEffect)(function(){if(!(s<0)){var m=document.querySelector(".ant-tabs-tabpane-active");if(E===mt.Object){var G=m==null?void 0:m.querySelector(".".concat(he.collapse," .ant-collapse-item:nth-child(").concat(s+1,")"));G==null||G.scrollIntoView({behavior:"smooth",block:"nearest"})}else if(E===mt.Class&&L[u]){var Z,O=L[u].findIndex(function(k){return k.originIndex===s}),P=m==null?void 0:m.querySelector(".ant-collapse-item-active"),W=P==null||(Z=P.querySelector(".ant-collapse-content-box"))===null||Z===void 0?void 0:Z.children[O];W==null||W.scrollIntoView({behavior:"smooth",block:"nearest"})}}},[s]);var p=(0,n.jsx)(Et.Z,{accordion:!0,ghost:!0,className:he.collapse,activeKey:s,onChange:function(G){var Z=G===void 0?-1:Number(G);B(Z)},children:t.length>0&&t.map(function(m,G){return(0,n.jsx)(Et.Z.Panel,{showArrow:!1,collapsible:"header",header:A({object:m,objIndex:G}),children:(0,n.jsxs)("div",{children:[[o.gr.Custom,o.gr.Skeleton].includes(m.type)&&m.rect&&(0,n.jsx)(ga,{rect:m.rect,active:i===G&&y===o.Yq.Rect,onMouseOut:function(){w(o.Yq.Rect),R(-1)},onMouseEnter:function(){j&&M()},onMouseOver:function(){C(G),w(o.Yq.Rect),R(0)},onVisibleChange:function(O){T(o.Yq.Rect,O)}}),[o.gr.Custom,o.gr.Skeleton].includes(m.type)&&m.polygon&&(0,n.jsx)(ja,{element:m.polygon,active:i===G&&y===o.Yq.Polygon,onMouseOut:function(){w(o.Yq.Rect),R(-1)},onMouseEnter:function(){j&&M()},onMouseOver:function(){C(G),w(o.Yq.Polygon),R(1)},onVisibleChange:function(O){T(o.Yq.Polygon,O)}}),m.keypoints&&m.keypoints.points.length&&m.keypoints.points.map(function(Z,O){return(0,n.jsx)(ua,{point:Z,index:O,active:i===G&&y===o.Yq.Circle&&f===O,onMouseEnter:function(){j&&M()},onMouseOut:function(){w(o.Yq.Rect),R(-1)},onMouseOver:function(){C(G),w(o.Yq.Circle),R(O)},onVisibleChange:r},O)})]})},G)})}),v=(0,n.jsx)(Et.Z,{accordion:!0,ghost:!0,className:he.collapse,activeKey:u,onChange:function(G){b(G)},children:t.length>0&&Object.keys(L).sort().map(function(m){var G=L[m],Z=G.every(function(O){return O.hidden});return(0,n.jsx)(Et.Z.Panel,{showArrow:!1,collapsible:"header",header:(0,n.jsxs)("div",{className:Ze()(he.collapseHeader,oe()({},he.collapseHeaderSelected,u===m)),children:[u===m&&(0,n.jsx)("div",{className:he.selectedLine,style:{backgroundColor:g[m]||"#fff"}}),(0,n.jsx)("div",{className:he.labelName,children:m}),(0,n.jsxs)("div",{className:he.actions,children:[(0,n.jsx)("span",{className:he.labelCount,children:G.length}),N&&(0,n.jsx)(ot.Z,{title:I(Z?"editor.annotsList.showCate":"editor.annotsList.hideCate"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:Ze()(he.btn),icon:Z?(0,n.jsx)(pt.Z,{}):(0,n.jsx)(ht.Z,{}),shape:"circle",onClick:function(P){P.stopPropagation(),l(m,!Z)}})}),(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:(0,n.jsx)($t,{className:"".concat(he.arrow)}),shape:"circle"})]})]},m),children:G.map(function(O,P){return(0,n.jsxs)("div",{className:Ze()(he.collapseItem),onMouseOver:function(){C(O.originIndex)},onClick:function(k){k.stopPropagation(),B(O.originIndex)},children:[s===O.originIndex&&(0,n.jsx)("div",{className:he.colorHint,style:{backgroundColor:g[m]||"#fff"}}),(0,n.jsx)(Ne.Z,{className:he.icon,component:o.ef[O.type]}),(0,n.jsx)("div",{children:O.label}),(0,n.jsxs)("div",{className:he.actions,children:[(0,n.jsx)(ot.Z,{title:O.hidden?I("editor.annotsList.show"):I("editor.annotsList.hide"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:O.hidden?(0,n.jsx)(pt.Z,{}):(0,n.jsx)(ht.Z,{}),shape:"circle",onClick:function(k){k.stopPropagation(),K(O.originIndex,!O.hidden)}})}),N&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ot.Z,{title:I("editor.annotsList.delete"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:he.btn,icon:(0,n.jsx)(qt.Z,{}),shape:"circle",onClick:function(k){k.stopPropagation(),q(O.originIndex)}})})})]})]},O.label+P)})},m||z)})});return(0,n.jsx)("div",{className:Ze()(he.rightOperations,x),id:"rightOperations",onMouseDown:function(G){G.stopPropagation()},children:(0,n.jsx)(aa.Z,{activeKey:E,onChange:h,items:[{key:mt.Class,label:I("editor.annotsList.categories"),children:v},{key:mt.Object,label:I("editor.annotsList.objects"),children:p}],tabBarExtraContent:t.length>0&&(0,n.jsx)(ot.Z,{title:I(d?"editor.annotsList.showAll":"editor.annotsList.hideAll"),children:(0,n.jsx)(se.ZP,{ghost:!0,className:he.tabHeaderActions,icon:d?(0,n.jsx)(pt.Z,{}):(0,n.jsx)(ht.Z,{}),shape:"circle",onClick:D})})})})},ma=va,Ke={container:"container___CuiPW",btn:"btn___QRG7H",btnActive:"btnActive___utfRM",divider:"divider___ZokWU","popover-container":"popover-container___rj3VJ",title:"title___qTs4_",key:"key___JxQSC",description:"description___dUsWb"},xt=Q(18400),fa=Object.defineProperty,tn=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,nn=(a,e,t)=>e in a?fa(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Ia=(a,e)=>{for(var t in e||(e={}))ha.call(e,t)&&nn(a,t,e[t]);if(tn)for(var t of tn(e))pa.call(e,t)&&nn(a,t,e[t]);return a};const an=a=>c.createElement("svg",Ia({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29 29"},a),c.createElement("defs",null,c.createElement("style",null,".drag_svg__cls-1{fill:none}.drag_svg__cls-2{fill:#fcfefe}")),c.createElement("path",{className:"drag_svg__cls-1",d:"M2.83 2.83h28.35v28.35H2.83z"}),c.createElement("path",{className:"drag_svg__cls-1",d:"M2.83 2.83h28.35v28.35H2.83z"}),c.createElement("path",{className:"drag_svg__cls-1",d:"M2.83 2.83h28.35v28.35H2.83Z"}),c.createElement("path",{className:"drag_svg__cls-2",d:"m21.73 18.19 8.23 4.8-3.51 1 2.51 4.35-2.05 1.18-2.51-4.35-2.63 2.54-.04-9.52z"}),c.createElement("path",{className:"drag_svg__cls-2",d:"M19.37 9.92h2.36v2.36h5.91a1.18 1.18 0 0 1 1.18 1.18v4.73h-2.36v-3.54H14.65v11.81h4.72v2.36h-5.91a1.18 1.18 0 0 1-1.18-1.18v-5.91H9.92v-2.36h2.36v-5.91a1.18 1.18 0 0 1 1.18-1.18h5.91ZM5.2 19.37h2.36v2.36H5.2zM5.2 14.65h2.36v2.36H5.2zM5.2 9.92h2.36v2.36H5.2zM5.2 5.2h2.36v2.36H5.2zM9.92 5.2h2.36v2.36H9.92zM14.65 5.2h2.36v2.36h-2.36zM19.37 5.2h2.36v2.36h-2.36z"}));var rr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOSAyOSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmV9LmNscy0ye2ZpbGw6I2ZjZmVmZX08L3N0eWxlPjwvZGVmcz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yLjgzIDIuODNoMjguMzV2MjguMzVIMi44M3oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yLjgzIDIuODNoMjguMzV2MjguMzVIMi44M3oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yLjgzIDIuODNoMjguMzV2MjguMzVIMi44M1oiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Im0yMS43MyAxOC4xOSA4LjIzIDQuOC0zLjUxIDEgMi41MSA0LjM1LTIuMDUgMS4xOC0yLjUxLTQuMzUtMi42MyAyLjU0LS4wNC05LjUyeiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTE5LjM3IDkuOTJoMi4zNnYyLjM2aDUuOTFhMS4xOCAxLjE4IDAgMCAxIDEuMTggMS4xOHY0LjczaC0yLjM2di0zLjU0SDE0LjY1djExLjgxaDQuNzJ2Mi4zNmgtNS45MWExLjE4IDEuMTggMCAwIDEtMS4xOC0xLjE4di01LjkxSDkuOTJ2LTIuMzZoMi4zNnYtNS45MWExLjE4IDEuMTggMCAwIDEgMS4xOC0xLjE4aDUuOTFaTTUuMiAxOS4zN2gyLjM2djIuMzZINS4yek01LjIgMTQuNjVoMi4zNnYyLjM2SDUuMnpNNS4yIDkuOTJoMi4zNnYyLjM2SDUuMnpNNS4yIDUuMmgyLjM2djIuMzZINS4yek05LjkyIDUuMmgyLjM2djIuMzZIOS45MnpNMTQuNjUgNS4yaDIuMzZ2Mi4zNmgtMi4zNnpNMTkuMzcgNS4yaDIuMzZ2Mi4zNmgtMi4zNnoiLz48L3N2Zz4=",Aa=Q(34227),ya=Object.defineProperty,on=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,rn=(a,e,t)=>e in a?ya(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,La=(a,e)=>{for(var t in e||(e={}))ba.call(e,t)&&rn(a,t,e[t]);if(on)for(var t of on(e))Ca.call(e,t)&&rn(a,t,e[t]);return a};const xa=a=>c.createElement("svg",La({className:"keyboard_svg__icon",viewBox:"0 0 1152 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},a),c.createElement("path",{d:"M1056 896H96c-53.02 0-96-42.98-96-96V224c0-53.02 42.98-96 96-96h960c53.02 0 96 42.98 96 96v576c0 53.02-42.98 96-96 96zM256 360v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zM352 552v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zM256 744v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24zm576 0v-80c0-13.254-10.746-24-24-24H344c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h464c13.254 0 24-10.746 24-24zm192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z"}));var sr="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDExNTIgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0xMDU2IDg5Nkg5NmMtNTMuMDIgMC05Ni00Mi45OC05Ni05NlYyMjRjMC01My4wMiA0Mi45OC05NiA5Ni05Nmg5NjBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnY1NzZjMCA1My4wMi00Mi45OCA5Ni05NiA5NnpNMjU2IDM2MHYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0aC04MGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg4MGMxMy4yNTQgMCAyNC0xMC43NDYgMjQtMjR6bTE5MiAwdi04MGMwLTEzLjI1NC0xMC43NDYtMjQtMjQtMjRoLTgwYy0xMy4yNTQgMC0yNCAxMC43NDYtMjQgMjR2ODBjMCAxMy4yNTQgMTAuNzQ2IDI0IDI0IDI0aDgwYzEzLjI1NCAwIDI0LTEwLjc0NiAyNC0yNHptMTkyIDB2LTgwYzAtMTMuMjU0LTEwLjc0Ni0yNC0yNC0yNGgtODBjLTEzLjI1NCAwLTI0IDEwLjc0Ni0yNCAyNHY4MGMwIDEzLjI1NCAxMC43NDYgMjQgMjQgMjRoODBjMTMuMjU0IDAgMjQtMTAuNzQ2IDI0LTI0em0xOTIgMHYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0aC04MGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg4MGMxMy4yNTQgMCAyNC0xMC43NDYgMjQtMjR6bTE5MiAwdi04MGMwLTEzLjI1NC0xMC43NDYtMjQtMjQtMjRoLTgwYy0xMy4yNTQgMC0yNCAxMC43NDYtMjQgMjR2ODBjMCAxMy4yNTQgMTAuNzQ2IDI0IDI0IDI0aDgwYzEzLjI1NCAwIDI0LTEwLjc0NiAyNC0yNHpNMzUyIDU1MnYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0aC04MGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg4MGMxMy4yNTQgMCAyNC0xMC43NDYgMjQtMjR6bTE5MiAwdi04MGMwLTEzLjI1NC0xMC43NDYtMjQtMjQtMjRoLTgwYy0xMy4yNTQgMC0yNCAxMC43NDYtMjQgMjR2ODBjMCAxMy4yNTQgMTAuNzQ2IDI0IDI0IDI0aDgwYzEzLjI1NCAwIDI0LTEwLjc0NiAyNC0yNHptMTkyIDB2LTgwYzAtMTMuMjU0LTEwLjc0Ni0yNC0yNC0yNGgtODBjLTEzLjI1NCAwLTI0IDEwLjc0Ni0yNCAyNHY4MGMwIDEzLjI1NCAxMC43NDYgMjQgMjQgMjRoODBjMTMuMjU0IDAgMjQtMTAuNzQ2IDI0LTI0em0xOTIgMHYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0aC04MGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg4MGMxMy4yNTQgMCAyNC0xMC43NDYgMjQtMjR6TTI1NiA3NDR2LTgwYzAtMTMuMjU0LTEwLjc0Ni0yNC0yNC0yNGgtODBjLTEzLjI1NCAwLTI0IDEwLjc0Ni0yNCAyNHY4MGMwIDEzLjI1NCAxMC43NDYgMjQgMjQgMjRoODBjMTMuMjU0IDAgMjQtMTAuNzQ2IDI0LTI0em01NzYgMHYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0SDM0NGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg0NjRjMTMuMjU0IDAgMjQtMTAuNzQ2IDI0LTI0em0xOTIgMHYtODBjMC0xMy4yNTQtMTAuNzQ2LTI0LTI0LTI0aC04MGMtMTMuMjU0IDAtMjQgMTAuNzQ2LTI0IDI0djgwYzAgMTMuMjU0IDEwLjc0NiAyNCAyNCAyNGg4MGMxMy4yNTQgMCAyNC0xMC43NDYgMjQtMjR6Ii8+PC9zdmc+",It={shortcutsInfo:"shortcutsInfo___ER3P2",key:"key___fsh3O",combine:"combine___mQtle"},Gt=function(e){for(var t=navigator.userAgent.toLowerCase(),g=t.indexOf("mac")>-1,i=[],s=function(){var x=e[f];if(!g&&x.includes("meta")||g&&x.includes("ctrl"))return"continue";if(x.includes(".")){var N=x.split(".");N.forEach(function(C,B){var R=(0,n.jsx)("span",{className:It.key,children:en(C)},B);i.push(R),B!==N.length-1&&i.push((0,n.jsxs)("span",{className:It.combine,children:[" ","+"," "]},B+"and"))})}else{var u=(0,n.jsx)("span",{className:It.key,children:en(x)},f);i.push(u)}f!==e.length-1&&i.push((0,n.jsxs)("span",{className:It.combine,children:[" ","/"," "]},f+"or"))},f=0;f<e.length;f++)var y=s();return(0,n.jsx)("span",{className:It.keyGroup,children:i})},Na=function(e){var t=e.viewOnly,g=(0,Xe.bU)(),i=g.localeText,s=function(j){var x={};for(var N in j)if(j.hasOwnProperty(N)){var u=j[N],C=u.type,B=u.descTextKey,R=u.shortcut,w=i(B);if(t&&C!==Ae.ViewAction)continue;x[C]?x[C].children.push({key:N,label:w,icon:(0,n.jsx)("span",{children:Gt(R)})}):x[C]={key:C,type:"group",label:i(C),children:[{key:N,label:w,icon:(0,n.jsx)("span",{children:Gt(R)})}]}}return Object.values(x)},f=(0,c.useMemo)(function(){return s(ye)||[]},[t]);return(0,n.jsx)(Ct.Z,{placement:"bottomLeft",dropdownRender:function(){return(0,n.jsx)(Aa.Z,{className:It.shortcutsInfo,theme:"dark",items:f})},trigger:["click"],children:(0,n.jsx)(ot.Z,{title:i("editor.shortcuts"),children:(0,n.jsx)(Ne.Z,{component:xa,style:{color:"#fff",width:24}})})})},Da=function(e){var t=e.isSeperate,g=e.selectedTool,i=e.isAIAnnotationActive,s=e.onChangeSelectedTool,f=e.onActiveAIAnnotation,y=e.undo,j=e.redo,x=e.deleteAll,N=(0,Xe.bU)(),u=N.localeText,C=[{key:o.ru.Drag,name:u("editor.toolbar.drag"),shortcut:ye[ae.DragTool],icon:(0,n.jsx)(Ne.Z,{component:an}),description:u("editor.toolbar.drag.desc")},{key:o.ru.Rectangle,name:u("editor.toolbar.rectangle"),shortcut:ye[ae.RectangleTool],icon:(0,n.jsx)(Ne.Z,{component:o.ef[o.gr.Rectangle]}),description:u("editor.toolbar.rectangle.desc")},{key:o.ru.Polygon,name:u("editor.toolbar.polygon"),shortcut:ye[ae.PolygonTool],icon:(0,n.jsx)(Ne.Z,{component:o.ef[o.gr.Polygon]}),description:u("editor.toolbar.polygon.desc")},{key:o.ru.Skeleton,name:u("editor.toolbar.skeleton"),shortcut:ye[ae.SkeletonTool],icon:(0,n.jsx)(Ne.Z,{component:o.ef[o.gr.Skeleton]}),description:u("editor.toolbar.skeleton.desc")}].concat(Re()(t?[{key:o.ru.Mask,name:u("editor.toolbar.mask"),shortcut:ye[ae.MaskTool],icon:(0,n.jsx)(Ne.Z,{component:o.ef[o.gr.Mask]}),description:u("editor.toolbar.mask.desc")}]:[])),B=[{key:o.Uu.SmartAnnotation,name:u("editor.toolbar.aiAnno"),shortcut:ye[ae.SmartAnnotation],icon:(0,n.jsx)(Ne.Z,{component:o.QD[o.Uu.SmartAnnotation]}),description:u("editor.toolbar.aiAnno.desc")}],R=[{key:o.Uu.Undo,name:u("editor.toolbar.undo"),icon:(0,n.jsx)(Ne.Z,{component:o.QD[o.Uu.Undo]}),shortcut:ye[ae.Undo],handler:y,description:u("editor.toolbar.undo.desc")},{key:o.Uu.Redo,name:u("editor.toolbar.redo"),icon:(0,n.jsx)(Ne.Z,{component:o.QD[o.Uu.Redo]}),shortcut:ye[ae.Redo],handler:j,description:u("editor.toolbar.redo.desc")},{key:o.Uu.DeleteAll,name:u("editor.toolbar.deleteAll"),icon:(0,n.jsx)(Ne.Z,{component:o.QD[o.Uu.DeleteAll]}),shortcut:ye[ae.DeleteAll],handler:x,description:u("editor.toolbar.deleteAll.desc")}],w=(0,c.useMemo)(function(){return C.reduce(function(T,l){return T.concat(l.shortcut.shortcut)},[])},[C]),K=(0,c.useMemo)(function(){return B.reduce(function(T,l){return T.concat(l.shortcut.shortcut)},[])},[R]);(0,Te.Z)(w,function(T){var l=C.find(function(M){return M.shortcut.shortcut.includes(T.key)});l&&s(l.key)},{exactMatch:!0}),(0,Te.Z)(K,function(T){var l=B.find(function(M){return M.shortcut.shortcut.includes(T.key)});l&&f(!i)},{exactMatch:!0}),(0,Te.Z)(ye[ae.Undo].shortcut,function(T){T.preventDefault(),y()},{exactMatch:!0}),(0,Te.Z)(ye[ae.Redo].shortcut,function(T){T.preventDefault(),j()},{exactMatch:!0}),(0,Te.Z)(ye[ae.DeleteAll].shortcut,function(T){T.preventDefault(),x()},{exactMatch:!0});var q=function(l){var M=Gt(l.shortcut.shortcut);return(0,n.jsxs)("div",{className:Ke["popover-container"],children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:Ke.title,children:l.name}),(0,n.jsx)("span",{className:Ke.key,children:M})]}),(0,n.jsx)("div",{className:Ke.divider}),(0,n.jsx)("div",{className:Ke.description,children:l.description})]})};return(0,n.jsx)(ft,{children:(0,n.jsxs)("div",{className:Ke.container,children:[C.map(function(T){return(0,n.jsx)(xt.Z,{placement:"right",content:q(T),children:(0,n.jsx)(se.ZP,{className:Ze()(Ke.btn,oe()({},Ke.btnActive,g===T.key)),icon:T.icon,onClick:function(){return s(T.key)}})},T.key)}),(0,n.jsx)("div",{className:Ke.divider}),B.map(function(T){return(0,n.jsx)(xt.Z,{placement:"right",content:q(T),children:(0,n.jsx)(se.ZP,{className:Ze()(Ke.btn,oe()({},Ke.btnActive,i)),icon:T.icon,onClick:function(){return f(!i)}})},T.key)}),(0,n.jsx)("div",{className:Ke.divider}),R.map(function(T){return(0,n.jsx)(xt.Z,{placement:"right",content:q(T),children:(0,n.jsx)(se.ZP,{className:Ze()(Ke.btn),icon:T.icon,onClick:T.handler})},T.key)})]})})},sn=Q(22494),Oa=Q(40898),cn=Q(77470),ut=Q(80267),ln=Q(81553),ue={container:"container___E0LoY",btn:"btn___GMYpz",title:"title___v9sIr",iconTitle:"iconTitle___nydvT",content:"content___GHFUd",item:"item___AwGAR",paramControls:"paramControls___qk7aG",paramItem:"paramItem___nbhNh",select:"select___ix5gH",slider:"slider___qy5_2",instruction:"instruction___E_Dku",actions:"actions___ryauV",columnItem:"columnItem___tepqz",tipText:"tipText___sGIZv",containedVisible:"containedVisible___FyeQP",operationTip:"operationTip___uxYFI",tipItem:"tipItem___GG4k6"},Ea=Q(5345),Ta=Q(480),Sa=function(e){var t=e.onAdd,g=(0,Xe.bU)(),i=g.localeText,s=(0,c.useRef)(null),f=(0,c.useState)(""),y=fe()(f,2),j=y[0],x=y[1],N=function(B){B.stopPropagation(),x(B.target.value)},u=function(){var B;j!==""&&(t(j),x(""),(B=s.current)===null||B===void 0||B.focus())};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(vt.Z,{style:{margin:"8px 0"}}),(0,n.jsxs)(ln.Z,{style:{padding:"0 8px 4px"},children:[(0,n.jsx)(Ta.Z,{placeholder:i("editor.annotsEditor.addCategory"),ref:s,value:j,onChange:N,onKeyDown:function(B){B.code==="Enter"&&u(),B.stopPropagation()}}),(0,n.jsx)(se.ZP,{type:"text",icon:(0,n.jsx)(Ea.Z,{}),onClick:u,children:i("editor.annotsEditor.add")})]})]})},un=Sa,wa=Object.defineProperty,dn=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,gn=(a,e,t)=>e in a?wa(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ka=(a,e)=>{for(var t in e||(e={}))za.call(e,t)&&gn(a,t,e[t]);if(dn)for(var t of dn(e))Pa.call(e,t)&&gn(a,t,e[t]);return a};const Za=a=>c.createElement("svg",ka({width:32,height:32,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("path",{d:"M23.737 13.118v7.764a6.713 6.713 0 0 1-6.706 6.707 6.713 6.713 0 0 1-6.705-6.707v-7.764a6.713 6.713 0 0 1 6.705-6.707 6.713 6.713 0 0 1 6.706 6.707Zm-.693 3.662H11.018v4.102a6.02 6.02 0 0 0 6.013 6.017 6.02 6.02 0 0 0 6.013-6.017V16.78Zm0-3.662a6.02 6.02 0 0 0-5.698-6.008v8.977h5.698v-2.969Z",fill:"#fff"}));var cr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzNCAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjMuNzM3IDEzLjExOHY3Ljc2NGE2LjcxMyA2LjcxMyAwIDAgMS02LjcwNiA2LjcwNyA2LjcxMyA2LjcxMyAwIDAgMS02LjcwNS02LjcwN3YtNy43NjRhNi43MTMgNi43MTMgMCAwIDEgNi43MDUtNi43MDcgNi43MTMgNi43MTMgMCAwIDEgNi43MDYgNi43MDdabS0uNjkzIDMuNjYySDExLjAxOHY0LjEwMmE2LjAyIDYuMDIgMCAwIDAgNi4wMTMgNi4wMTcgNi4wMiA2LjAyIDAgMCAwIDYuMDEzLTYuMDE3VjE2Ljc4Wm0wLTMuNjYyYTYuMDIgNi4wMiAwIDAgMC01LjY5OC02LjAwOHY4Ljk3N2g1LjY5OHYtMi45NjlaIiBmaWxsPSIjZmZmIi8+PC9zdmc+",Ya=Object.defineProperty,Mn=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,jn=(a,e,t)=>e in a?Ya(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Qa=(a,e)=>{for(var t in e||(e={}))Ra.call(e,t)&&jn(a,t,e[t]);if(Mn)for(var t of Mn(e))Ha.call(e,t)&&jn(a,t,e[t]);return a};const Ga=a=>c.createElement("svg",Qa({width:32,height:32,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("path",{d:"M10.263 13.118v7.764a6.713 6.713 0 0 0 6.706 6.707 6.713 6.713 0 0 0 6.705-6.707v-7.764a6.713 6.713 0 0 0-6.705-6.707 6.713 6.713 0 0 0-6.706 6.707Zm.693 3.662h12.026v4.102a6.02 6.02 0 0 1-6.013 6.017 6.02 6.02 0 0 1-6.013-6.017V16.78Zm0-3.662a6.02 6.02 0 0 1 5.698-6.008v8.977h-5.698v-2.969Z",fill:"#fff"}));var lr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzNCAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTAuMjYzIDEzLjExOHY3Ljc2NGE2LjcxMyA2LjcxMyAwIDAgMCA2LjcwNiA2LjcwNyA2LjcxMyA2LjcxMyAwIDAgMCA2LjcwNS02LjcwN3YtNy43NjRhNi43MTMgNi43MTMgMCAwIDAtNi43MDUtNi43MDcgNi43MTMgNi43MTMgMCAwIDAtNi43MDYgNi43MDdabS42OTMgMy42NjJoMTIuMDI2djQuMTAyYTYuMDIgNi4wMiAwIDAgMS02LjAxMyA2LjAxNyA2LjAyIDYuMDIgMCAwIDEtNi4wMTMtNi4wMTdWMTYuNzhabTAtMy42NjJhNi4wMiA2LjAyIDAgMCAxIDUuNjk4LTYuMDA4djguOTc3aC01LjY5OHYtMi45NjlaIiBmaWxsPSIjZmZmIi8+PC9zdmc+",Ba=function(e){var t,g,i,s=e.drawData,f=e.isCtrlPressed,y=e.aiLabels,j=e.categories,x=e.naturalSize,N=e.setAiLabels,u=e.onCreateCategory,C=e.onExitAIAnnotation,B=e.onAiAnnotation,R=e.onSaveCurrCreate,w=e.onCancelCurrCreate,K=e.onChangeConfidenceRange,q=e.onChangeLimitConf,T=e.onAcceptValidObjects,l=e.onCancelBatchEdit,M=e.forceChangeTool,b=(0,Xe.bU)(),r=b.localeText,S=(0,et.x)({predIouThresh:.89,pointsPerSide:32,minMaskRegionArea:300}),I=fe()(S,2),z=I[0],Y=I[1],U=(t={},oe()(t,o.ru.Drag,{name:r("editor.shortcuts.tools.drag"),icon:an}),oe()(t,o.ru.Rectangle,{name:r("smartAnnotation.detection.name"),icon:o.ef[o.gr.Rectangle]}),oe()(t,o.ru.Polygon,{name:r("smartAnnotation.segmentation.name"),icon:o.ef[o.gr.Polygon]}),oe()(t,o.ru.Skeleton,{name:r("smartAnnotation.pose.name"),icon:o.ef[o.gr.Skeleton]}),oe()(t,o.ru.Mask,{name:r("smartAnnotation.mask.name"),icon:o.ef[o.gr.Mask]}),t),E=(0,c.useMemo)(function(){if(s.selectedTool===o.ru.Rectangle)return j==null?void 0:j.map(function(L){return(0,n.jsx)(tt.Z.Option,{value:L.name,children:L.name},L.id)});if(s.selectedTool===o.ru.Polygon)return[];if(s.selectedTool===o.ru.Skeleton)return["person"].map(function(L){return(0,n.jsx)(tt.Z.Option,{value:L,children:L},L)})},[s.selectedTool,j]),H=function(p){if(p.type==="mouseup"&&(s.selectedTool===o.ru.Skeleton||s.selectedTool===o.ru.Mask&&s.selectedSubTool===o.jB.AutoSegmentEverything||s.selectedTool===o.ru.Rectangle)){p.preventDefault();return}else p.stopPropagation()},h=(0,c.useMemo)(function(){return!(!s.AIAnnotation||s.selectedTool===o.ru.Drag||s.selectedTool===o.ru.Mask&&s.selectedSubTool!==o.jB.AutoSegmentEverything||s.selectedTool===o.ru.Rectangle&&s.isBatchEditing&&f)},[s.selectedTool,s.selectedSubTool,s.AIAnnotation,s.isBatchEditing,f]),d=function(){T(),M(o.ru.Drag,o.jB.PenAdd)},D=(0,c.useMemo)(function(){return s.isBatchEditing&&f?[{text:r("smartAnnotation.tip.recover"),logo:(0,n.jsx)(Za,{})},{text:r("smartAnnotation.tip.overlayobject"),logo:(0,n.jsx)(Ga,{})}]:[]},[s.isBatchEditing,f]),A=(0,c.useMemo)(function(){return x.width*x.height},[x]);return(0,n.jsxs)(ft,{eventHandler:H,children:[D.length>0&&(0,n.jsx)("div",{className:ue.operationTip,children:D.map(function(L){return(0,n.jsxs)("div",{className:ue.tipItem,children:[(0,n.jsx)("span",{children:L.text}),L.logo]},L.text)})}),(0,n.jsx)(cn.Z,{id:"smart-annotation-editor",className:Ze()(ue.container,oe()({},ue.containedVisible,h)),title:(0,n.jsxs)("div",{className:ue.title,children:[(0,n.jsxs)("div",{className:ue.iconTitle,children:[(0,n.jsx)(Oa.Z,{component:o.QD[o.Uu.SmartAnnotation]}),(0,n.jsx)("div",{className:ue.text,children:U[s.selectedTool].name})]}),(0,n.jsx)(se.ZP,{ghost:!0,className:ue.btn,icon:(0,n.jsx)(sn.Z,{}),shape:"circle",size:"small",onClick:function(){C(),M(s.selectedTool,o.jB.PenAdd)}})]}),children:(0,n.jsxs)("div",{className:ue.content,children:[s.selectedTool===o.ru.Rectangle&&(s.isBatchEditing?(0,n.jsxs)("div",{className:ue.columnItem,children:[(0,n.jsx)("div",{className:ue.paramControls,children:(0,n.jsxs)("div",{className:ue.paramItem,children:[(0,n.jsxs)("div",{className:ue.title,children:[r("smartAnnotation.detection.confidence"),":"]}),(0,n.jsx)(ut.Z,{className:ue.slider,defaultValue:s.limitConf,min:0,max:1,step:.01,onAfterChange:q,railStyle:{background:"#99bdff"},trackStyle:{background:"#edf0f3"}})]})}),(0,n.jsxs)("div",{className:ue.tipText,children:[(0,n.jsxs)("span",{children:[r("smartAnnotation.tip"),": "]}),r("smartAnnotation.tip.ctrl")]}),(0,n.jsxs)("div",{style:{alignSelf:"flex-end"},children:[(0,n.jsx)(se.ZP,{style:{marginRight:"10px"},onClick:l,children:r("smartAnnotation.back")}),(0,n.jsx)(se.ZP,{type:"primary",onClick:T,children:r("editor.save")})]})]}):(0,n.jsxs)("div",{className:ue.item,children:[(0,n.jsx)(tt.Z,{style:{width:250},placeholder:r("smartAnnotation.detection.input"),showArrow:!0,value:y,onChange:function(p){return Array.isArray(p)?N(p):N([p])},onInputKeyDown:function(p){p.code!=="Enter"&&p.stopPropagation()},getPopupContainer:function(){return document.getElementById("smart-annotation-editor")},mode:"multiple",dropdownRender:function(p){return(0,n.jsxs)(n.Fragment,{children:[p,(0,n.jsx)(un,{onAdd:function(m){u(m),N([].concat(Re()(y),[m]))}})]})},children:E}),(0,n.jsx)(se.ZP,{type:"primary",className:ue.action,onClick:function(){return B({drawData:s,aiLabels:y})},children:r("smartAnnotation.annotate")})]})),s.selectedTool===o.ru.Skeleton&&(s.isBatchEditing?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ue.paramControls,children:(0,n.jsxs)("div",{className:ue.paramItem,children:[(0,n.jsx)("div",{className:ue.title,children:r("editor.confidence")}),(0,n.jsx)(ut.Z,{className:ue.slider,range:!0,defaultValue:[0,100],onAfterChange:function(p){return K([p[0]/100,p[1]/100])},tooltip:{formatter:function(p){return(0,n.jsx)(n.Fragment,{children:"".concat(p/100)})},getPopupContainer:function(){return document.getElementById("conf-slider")}}})]})}),(0,n.jsx)(se.ZP,{style:{alignSelf:"flex-end"},type:"primary",onClick:T,children:r("editor.save")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ue.paramControls,children:(0,n.jsxs)("div",{className:ue.paramItem,children:[(0,n.jsx)("div",{className:ue.title,children:r("smartAnnotation.modelTyle")}),(0,n.jsx)(tt.Z,{className:ue.select,placeholder:r("smartAnnotation.pose.input"),showArrow:!0,value:y,onChange:function(p){return Array.isArray(p)?N(p):N([p])},onInputKeyDown:function(p){p.code!=="Enter"&&p.stopPropagation()},getPopupContainer:function(){return document.getElementById("smart-annotation-editor")},children:E})]})}),(0,n.jsx)(se.ZP,{style:{alignSelf:"flex-end"},type:"primary",onClick:function(){return B({drawData:s,aiLabels:y})},children:r("smartAnnotation.annotate")})]})),s.selectedTool===o.ru.Polygon&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ue.instruction,children:(g=s.creatingObject)!==null&&g!==void 0&&g.polygon?r("smartAnnotation.segmentation.tipsNext"):r("smartAnnotation.segmentation.tipsInitial")}),((i=s.creatingObject)===null||i===void 0?void 0:i.polygon)&&(0,n.jsxs)("div",{className:ue.actions,children:[(0,n.jsx)(se.ZP,{danger:!0,onClick:w,children:r("editor.delete")}),(0,n.jsx)(se.ZP,{type:"primary",onClick:R,children:r("editor.save")})]})]}),s.selectedTool===o.ru.Mask&&s.selectedSubTool===o.jB.AutoSegmentEverything&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{id:"param-controls",className:ue.paramControls,children:[(0,n.jsxs)("div",{className:ue.paramItem,children:[(0,n.jsx)("div",{className:ue.title,children:r("smartAnnotation.iouThres")}),(0,n.jsx)(ut.Z,{className:ue.slider,value:1-z.predIouThresh,onChange:function(p){return Y(function(v){v.predIouThresh=1-p})},min:0,max:.99,step:.01,reverse:!0,tooltip:{formatter:function(p){return"".concat(Math.floor((1-p)*100),"%")},getPopupContainer:function(){return document.getElementById("param-controls")}}})]}),(0,n.jsxs)("div",{className:ue.paramItem,children:[(0,n.jsx)("div",{className:ue.title,children:r("smartAnnotation.minArea")}),(0,n.jsx)(ut.Z,{className:ue.slider,value:z.minMaskRegionArea/A,onChange:function(p){return Y(function(v){v.minMaskRegionArea=p*A})},min:.01,max:.3,step:.01,tooltip:{formatter:function(p){return"".concat(Math.ceil(p*100),"%")},getPopupContainer:function(){return document.getElementById("param-controls")}}})]})]}),s.isBatchEditing?(0,n.jsxs)(ln.Z,{className:ue.actions,style:{justifyContent:"flex-end"},children:[(0,n.jsx)(se.ZP,{onClick:function(){return B({drawData:s,segmentEverythingParams:z})},children:r("smartAnnotation.retry")}),(0,n.jsx)(se.ZP,{type:"primary",onClick:d,children:r("editor.annotsEditor.finish")})]}):(0,n.jsx)(se.ZP,{style:{alignSelf:"flex-end"},type:"primary",onClick:function(){return B({drawData:s,segmentEverythingParams:z})},children:r("smartAnnotation.annotate")})]})]})})]})},Ua=Ba,Ge={toolBar:"toolBar___hGlUq",btn:"btn___yfAF2",btnDisabled:"btnDisabled____2lLf",scaleText:"scaleText___bYNtR",divider:"divider___Doen2",popOverWrap:"popOverWrap___jpSb2",popContainer:"popContainer___jtwVF",popHeader:"popHeader___hcGa1",option:"option___kb3qj"},Wa=Q(70620),Fa=Q(18636),Va=Object.defineProperty,vn=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,mn=(a,e,t)=>e in a?Va(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Ja=(a,e)=>{for(var t in e||(e={}))Xa.call(e,t)&&mn(a,t,e[t]);if(vn)for(var t of vn(e))Ka.call(e,t)&&mn(a,t,e[t]);return a};const _a=a=>c.createElement("svg",Ja({className:"imgSetting_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},a),c.createElement("path",{d:"M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z",fill:"#fff"}));var ur="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik01MTIgMjU2YTQyLjY2NyA0Mi42NjcgMCAwIDAgNDIuNjY3LTQyLjY2N1YxMjhhNDIuNjY3IDQyLjY2NyAwIDAgMC04NS4zMzQgMHY4NS4zMzNBNDIuNjY3IDQyLjY2NyAwIDAgMCA1MTIgMjU2em0zODQgMjEzLjMzM2gtODUuMzMzYTQyLjY2NyA0Mi42NjcgMCAwIDAgMCA4NS4zMzRIODk2YTQyLjY2NyA0Mi42NjcgMCAwIDAgMC04NS4zMzR6TTI1NiA1MTJhNDIuNjY3IDQyLjY2NyAwIDAgMC00Mi42NjctNDIuNjY3SDEyOGE0Mi42NjcgNDIuNjY3IDAgMCAwIDAgODUuMzM0aDg1LjMzM0E0Mi42NjcgNDIuNjY3IDAgMCAwIDI1NiA1MTJ6bTkuMzg3LTI5OC42NjdhNDIuNjY3IDQyLjY2NyAwIDAgMC01OS4zMDcgNjIuNzJsNjEuNDQgNTkuMzA3YTQyLjY2NyA0Mi42NjcgMCAwIDAgMzEuMTQ3IDExLjk0NyA0Mi42NjcgNDIuNjY3IDAgMCAwIDMwLjcyLTEzLjIyNyA0Mi42NjcgNDIuNjY3IDAgMCAwIDAtNjAuMTZ6bTQ1OS45NDYgMTMzLjk3NGE0Mi42NjcgNDIuNjY3IDAgMCAwIDI5LjQ0LTExLjk0N2w2MS40NC01OS4zMDdhNDIuNjY3IDQyLjY2NyAwIDAgMC01Ny42LTYyLjcybC02MS40NCA2MC41ODdhNDIuNjY3IDQyLjY2NyAwIDAgMCAwIDYwLjE2IDQyLjY2NyA0Mi42NjcgMCAwIDAgMjguMTYgMTMuMjI3ek01MTIgNzY4YTQyLjY2NyA0Mi42NjcgMCAwIDAtNDIuNjY3IDQyLjY2N1Y4OTZhNDIuNjY3IDQyLjY2NyAwIDAgMCA4NS4zMzQgMHYtODUuMzMzQTQyLjY2NyA0Mi42NjcgMCAwIDAgNTEyIDc2OHptMjQ0LjQ4LTc5LjM2YTQyLjY2NyA0Mi42NjcgMCAwIDAtNTkuMzA3IDYxLjQ0bDYxLjQ0IDYwLjU4N2E0Mi42NjcgNDIuNjY3IDAgMCAwIDI5LjQ0IDExLjk0NiA0Mi42NjcgNDIuNjY3IDAgMCAwIDMwLjcyLTEyLjggNDIuNjY3IDQyLjY2NyAwIDAgMCAwLTYwLjU4NnptLTQ4OC45NiAwLTYxLjQ0IDU5LjMwN2E0Mi42NjcgNDIuNjY3IDAgMCAwIDAgNjAuNTg2IDQyLjY2NyA0Mi42NjcgMCAwIDAgMzAuNzIgMTIuOCA0Mi42NjcgNDIuNjY3IDAgMCAwIDI4LjU4Ny0xMC42NjZsNjEuNDQtNTkuMzA3YTQyLjY2NyA0Mi42NjcgMCAwIDAtNTkuMzA3LTYxLjQ0ek01MTIgMzQxLjMzM0ExNzAuNjY3IDE3MC42NjcgMCAxIDAgNjgyLjY2NyA1MTIgMTcwLjY2NyAxNzAuNjY3IDAgMCAwIDUxMiAzNDEuMzMzeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==",$a=Object.defineProperty,fn=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,hn=(a,e,t)=>e in a?$a(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,to=(a,e)=>{for(var t in e||(e={}))qa.call(e,t)&&hn(a,t,e[t]);if(fn)for(var t of fn(e))eo.call(e,t)&&hn(a,t,e[t]);return a};const no=a=>c.createElement("svg",to({className:"displayReset_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:200,height:200},a),c.createElement("path",{d:"m193.07 70.353 5.423.931a34.91 34.91 0 0 1 28.37 40.425l-.024.07-12.87 72.541A448.698 448.698 0 0 1 507.857 75.38c246.831 0 447.023 197.912 447.023 442.182S754.688 959.744 507.857 959.744c-160.186 0-305.687-84.084-385.466-218.159a37.795 37.795 0 0 1 13.359-51.921 38.167 38.167 0 0 1 52.154 13.289c66.21 111.243 186.903 180.992 319.953 180.992 204.87 0 370.851-164.096 370.851-366.383S712.728 151.18 507.858 151.18c-107.288 0-206.802 45.265-276.318 121.995H373.04a34.91 34.91 0 0 1 0 69.818H163.584c-2.607 0-5.19-.279-7.657-.837a34.63 34.63 0 0 1-5.26-.512l-5.422-.931a34.91 34.91 0 0 1-28.346-40.495l35.77-201.588a34.91 34.91 0 0 1 40.402-28.277z",fill:"#fff"}));var dr="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0ibTE5My4wNyA3MC4zNTMgNS40MjMuOTMxYTM0LjkxIDM0LjkxIDAgMCAxIDI4LjM3IDQwLjQyNWwtLjAyNC4wNy0xMi44NyA3Mi41NDFBNDQ4LjY5OCA0NDguNjk4IDAgMCAxIDUwNy44NTcgNzUuMzhjMjQ2LjgzMSAwIDQ0Ny4wMjMgMTk3LjkxMiA0NDcuMDIzIDQ0Mi4xODJTNzU0LjY4OCA5NTkuNzQ0IDUwNy44NTcgOTU5Ljc0NGMtMTYwLjE4NiAwLTMwNS42ODctODQuMDg0LTM4NS40NjYtMjE4LjE1OWEzNy43OTUgMzcuNzk1IDAgMCAxIDEzLjM1OS01MS45MjEgMzguMTY3IDM4LjE2NyAwIDAgMSA1Mi4xNTQgMTMuMjg5YzY2LjIxIDExMS4yNDMgMTg2LjkwMyAxODAuOTkyIDMxOS45NTMgMTgwLjk5MiAyMDQuODcgMCAzNzAuODUxLTE2NC4wOTYgMzcwLjg1MS0zNjYuMzgzUzcxMi43MjggMTUxLjE4IDUwNy44NTggMTUxLjE4Yy0xMDcuMjg4IDAtMjA2LjgwMiA0NS4yNjUtMjc2LjMxOCAxMjEuOTk1SDM3My4wNGEzNC45MSAzNC45MSAwIDAgMSAwIDY5LjgxOEgxNjMuNTg0Yy0yLjYwNyAwLTUuMTktLjI3OS03LjY1Ny0uODM3YTM0LjYzIDM0LjYzIDAgMCAxLTUuMjYtLjUxMmwtNS40MjItLjkzMWEzNC45MSAzNC45MSAwIDAgMS0yOC4zNDYtNDAuNDk1bDM1Ljc3LTIwMS41ODhhMzQuOTEgMzQuOTEgMCAwIDEgNDAuNDAyLTI4LjI3N3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",ao=Object.defineProperty,pn=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,io=Object.prototype.propertyIsEnumerable,In=(a,e,t)=>e in a?ao(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ro=(a,e)=>{for(var t in e||(e={}))oo.call(e,t)&&In(a,t,e[t]);if(pn)for(var t of pn(e))io.call(e,t)&&In(a,t,e[t]);return a};const so=a=>c.createElement("svg",ro({className:"zoomResize_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:200,height:200},a),c.createElement("path",{d:"M981.333 42.667v938.666H42.667V42.667h938.666zM128 896h768V128H128v768zm170.667-170.667H448v85.334H213.333V576h85.334v149.333zm426.666-426.666H576v-85.334h234.667V448h-85.334V298.667z",fill:"#fff"}));var gr="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTk4MS4zMzMgNDIuNjY3djkzOC42NjZINDIuNjY3VjQyLjY2N2g5MzguNjY2ek0xMjggODk2aDc2OFYxMjhIMTI4djc2OHptMTcwLjY2Ny0xNzAuNjY3SDQ0OHY4NS4zMzRIMjEzLjMzM1Y1NzZoODUuMzM0djE0OS4zMzN6bTQyNi42NjYtNDI2LjY2Nkg1NzZ2LTg1LjMzNGgyMzQuNjY3VjQ0OGgtODUuMzM0VjI5OC42Njd6IiBmaWxsPSIjZmZmIi8+PC9zdmc+",co=function(e){var t=e.scale,g=e.onZoomIn,i=e.onZoomOut,s=e.onReset,f=e.displayOption,y=e.setBrightness,j=e.setContrast,x=e.setSaturate,N=e.resetOptions,u=(0,Xe.bU)(),C=u.localeText,B=t>=o.Fv,R=t<=o.vL;(0,Te.Z)(ye[ae.ZoomIn].shortcut,function(){B||g()}),(0,Te.Z)(ye[ae.ZoomOut].shortcut,function(){R||i()}),(0,Te.Z)(ye[ae.Reset].shortcut,function(){s()});var w=function(){return(0,n.jsxs)("div",{className:Ge.popContainer,children:[(0,n.jsxs)("div",{className:Ge.popHeader,children:[(0,n.jsx)("div",{children:C("editor.imgDisplayTool.title")}),(0,n.jsx)(se.ZP,{type:"primary",className:Ze()(Ge.btn),icon:(0,n.jsx)(Ne.Z,{component:no}),onClick:N})]}),(0,n.jsxs)("div",{className:Ge.option,children:[(0,n.jsx)("label",{children:C("editor.imgDisplayTool.brightness")}),(0,n.jsx)(ut.Z,{value:f.brightness,onChange:y,min:0,max:150})]}),(0,n.jsxs)("div",{className:Ge.option,children:[(0,n.jsx)("label",{children:C("editor.imgDisplayTool.contrast")}),(0,n.jsx)(ut.Z,{value:f.contrast,onChange:j,min:0,max:100})]}),(0,n.jsxs)("div",{className:Ge.option,children:[(0,n.jsx)("label",{children:C("editor.imgDisplayTool.saturate")}),(0,n.jsx)(ut.Z,{value:f.saturate,onChange:x,min:0,max:100})]})]})},K=function(T){T.type!=="mouseup"&&T.stopPropagation()};return(0,n.jsx)(ft,{eventHandler:K,children:(0,n.jsxs)("div",{className:Ge.toolBar,children:[(0,n.jsx)(se.ZP,{type:"primary",className:Ze()(Ge.btn,oe()({},Ge.btnDisabled,R)),icon:(0,n.jsx)(Wa.Z,{}),onClick:i}),(0,n.jsxs)("div",{className:Ge.scaleText,children:[Math.floor(t*100),"%"]}),(0,n.jsx)(se.ZP,{type:"primary",className:Ze()(Ge.btn,oe()({},Ge.btnDisabled,B)),icon:(0,n.jsx)(Fa.Z,{}),onClick:g}),(0,n.jsx)(se.ZP,{type:"primary",className:Ze()(Ge.btn),onClick:s,icon:(0,n.jsx)(Ne.Z,{component:so})}),(0,n.jsx)("div",{className:Ge.divider}),(0,n.jsx)(xt.Z,{placement:"top",content:w(),trigger:"click",overlayClassName:Ge.popOverWrap,color:"#212121",children:(0,n.jsx)(se.ZP,{type:"primary",className:Ze()(Ge.btn),icon:(0,n.jsx)(Ne.Z,{component:_a})})})]})})},lo=Q(89398),At={toolBar:"toolBar___I3iY4",btn:"btn___j7Z4o",btnDisabled:"btnDisabled___rewB8",scaleText:"scaleText___KuPv1",divider:"divider___trUv3"},uo=Q(97837),go=Q(39092),Mo=function(e){var t=e.current,g=e.total,i=e.customText,s=e.customDisableNext,f=e.onPrev,y=f===void 0?function(){return Promise.resolve()}:f,j=e.onNext,x=j===void 0?function(){return Promise.resolve()}:j,N=(0,Xe.bU)(),u=N.localeText,C=(0,c.useState)(!1),B=fe()(C,2),R=B[0],w=B[1],K=(0,c.useState)(!1),q=fe()(K,2),T=q[0],l=q[1],M=function(){var I=_e()(Ee()().mark(function z(){return Ee()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return w(!0),U.next=3,y();case 3:w(!1);case 4:case"end":return U.stop()}},z)}));return function(){return I.apply(this,arguments)}}(),b=function(){var I=_e()(Ee()().mark(function z(){return Ee()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return l(!0),U.next=3,x();case 3:l(!1);case 4:case"end":return U.stop()}},z)}));return function(){return I.apply(this,arguments)}}(),r=t<=0,S=s!=null?s:t>=g-1;return(0,Te.Z)(ye[ae.PreviousImage].shortcut,function(){r||M()},{exactMatch:!0}),(0,Te.Z)(ye[ae.NextImage].shortcut,function(){S||b()},{exactMatch:!0}),(0,n.jsxs)("div",{className:At.toolBar,children:[(0,n.jsx)(ot.Z,{title:u("editor.prev"),children:(0,n.jsx)(se.ZP,{className:Ze()(At.btn,oe()({},At.btnDisabled,r)),type:"primary",icon:(0,n.jsx)(uo.Z,{}),loading:R,onClick:M})}),i||(0,n.jsxs)("div",{className:At.scaleText,children:[t+1," / ",g]}),(0,n.jsx)(ot.Z,{title:u("editor.next"),children:(0,n.jsx)(se.ZP,{className:Ze()(At.btn,oe()({},At.btnDisabled,S)),type:"primary",icon:(0,n.jsx)(go.Z,{}),loading:T,onClick:b})})]})},it={container:"container___d4vet",btn:"btn___eFSQc",title:"title___r27q5",content:"content___Ntv7_",item:"item___BSjdK",selector:"selector___D3fgI",actions:"actions___rNUfU",containedVisible:"containedVisible___sYXSm"},jo=function(e){var t=e.hideTitle,g=e.allowAddCategory,i=e.latestLabel,s=e.categories,f=e.currEditObject,y=e.onCreateCategory,j=e.onFinishCurrCreate,x=e.onDeleteCurrObject,N=e.onCloseAnnotationEditor,u=(0,Xe.bU)(),C=u.localeText,B=(f==null?void 0:f.label)||i,R=(0,c.useState)(B),w=fe()(R,2),K=w[0],q=w[1];return(0,c.useEffect)(function(){q((f==null?void 0:f.label)||i)},[f]),(0,Te.Z)(ye[ae.SaveCurrObject].shortcut,function(T){T.preventDefault(),j(K)},{exactMatch:!0}),(0,n.jsx)(ft,{children:(0,n.jsx)(cn.Z,{id:"annotation-editor",className:Ze()(it.container,oe()({},it.containedVisible,f)),title:t?null:(0,n.jsxs)("div",{className:it.title,children:[C("editor.annotsEditor.title"),(0,n.jsx)(se.ZP,{ghost:!0,className:it.btn,icon:(0,n.jsx)(sn.Z,{}),shape:"circle",size:"small",onClick:N})]}),children:(0,n.jsxs)("div",{className:it.content,children:[(0,n.jsx)("div",{className:it.item,children:(0,n.jsx)(tt.Z,{showSearch:!0,className:it.selector,placeholder:"Select a label",size:"middle",value:K||void 0,onChange:function(l){q(l)},popupClassName:"objects-select-popup",onClick:function(l){return l.stopPropagation()},onKeyUp:function(l){return l.stopPropagation()},onInputKeyDown:function(l){l.code!=="Enter"&&l.stopPropagation()},getPopupContainer:function(){return document.getElementById("annotation-editor")},dropdownRender:function(l){return(0,n.jsxs)(n.Fragment,{children:[l,g&&(0,n.jsx)(un,{onAdd:function(b){return y(b)}})]})},children:s==null?void 0:s.map(function(T){return(0,n.jsx)(tt.Z.Option,{value:T.name,children:T.name},T.id)})})}),(0,n.jsx)("div",{className:it.item,children:(0,n.jsxs)("div",{className:it.actions,children:[(0,n.jsx)(se.ZP,{danger:!0,onClick:function(l){l.preventDefault(),x()},children:C("editor.annotsEditor.delete")}),(0,n.jsx)(se.ZP,{type:"primary",onClick:function(l){l.preventDefault(),j(K)},children:C("editor.annotsEditor.finish")})]})})]})})})},vo=jo,mo=function(e){var t=e.clientSize,g=e.naturalSize,i=e.onAutoSave,s=e.setDrawData,f=(0,et.x)([]),y=fe()(f,2),j=y[0],x=y[1],N=(0,c.useState)(0),u=fe()(N,2),C=u[0],B=u[1],R=20,w=function(r){var S=(0,te.j9)(r.drawData.objectList,g,r.clientSize,!0);i&&i(S)},K=function(){if(C>0){B(function(I){return I-1});var r=j[C-1],S=(0,te.hv)(r.drawData,r.clientSize,t);s(S),w(r)}},q=function(){if(C<j.length-1){B(function(I){return I+1});var r=j[C+1],S=(0,te.hv)(r.drawData,r.clientSize,t);s(S),w(r)}},T=function(r){x(function(S){if(S[C]&&(0,Pe.isEqual)(r,S[C]))return S;S.splice(C+1),S.push(r),S.length>R&&S.shift(),B(S.length-1)}),w(r)},l=function(){x([])},M=function(r){typeof r=="function"?s(function(S){r(S),T((0,Pe.cloneDeep)({drawData:S,clientSize:t}))}):(s(r),T((0,Pe.cloneDeep)({drawData:r,clientSize:t})))};return{updateHistory:T,undo:K,redo:q,clearHistory:l,setDrawDataWithHistory:M,hadChangeRecord:j.length>1&&C!==0}},fo=mo,ho=function(e){var t=e.mode,g=e.drawData,i=e.setDrawData,s=e.setDrawDataWithHistory,f=e.setEditState,y=e.clientSize,j=e.naturalSize,x=function(l,M){var b=l.categoryName,r=l.boundingBox,S=l.points,I=l.lines,z=l.pointNames,Y=l.pointColors,U=l.segmentation,E=l.maskRle,H=M[b||""]||"#ffffff",h={label:b||"",type:o.gr.Rectangle,hidden:!1,conf:1,status:X.TK.Commited};if(r&&(0,te.lw)(r)){var d=(0,te.cO)(r,y);Object.assign(h,{rect:ie()({visible:!0},d)})}if(S&&S.length>0&&I&&I.length>0&&z&&Y){var D=(0,te.el)(S,z,Y,j,y);Object.assign(h,{keypoints:{points:D,lines:I}})}if(U){var A=(0,He.Vh)(U,j,y),L={group:A,visible:!0};Object.assign(h,{polygon:L})}return E&&Object.assign(h,{maskRle:E,maskCanvasElement:(0,at.ei)(E,j,H)}),h.type=(0,te.tQ)(h),h},N=function(l,M){s(function(b){b.objectList=l.map(function(r){return x(r,M)})})},u=function(l,M){t===X.je.Edit&&s(function(b){b.objectList.push(l),b.creatingObject=ie()({},l),b.activeObjectIndex=M?-1:b.objectList.length-1})},C=function(l){t!==X.je.Edit||!g.objectList[l]||(s(function(M){M.objectList[l]&&(M.objectList.splice(l,1),M.activeObjectIndex=-1,M.creatingObject=void 0)}),f(function(M){M.focusObjectIndex=-1,M.focusEleIndex=-1,M.focusEleType=o.Yq.Rect}))},B=function(){t===X.je.Edit&&(s(function(l){l.objectList=[],l.creatingObject=void 0,l.prompt={}}),f(function(l){l.focusObjectIndex=-1,l.focusEleIndex=-1,l.focusEleType=o.Yq.Rect}))},R=function(l,M){t!==X.je.Edit||!g.objectList[M]||s(function(b){b.objectList[M]=l,b.creatingObject&&b.activeObjectIndex===M&&(b.creatingObject=ie()({},l))})},w=function(l){s(function(M){M.objectList=l,M.creatingObject&&M.objectList[M.activeObjectIndex]&&(M.creatingObject=ie()({},M.objectList[M.activeObjectIndex]))})},K=function(l,M){g.objectList[M]&&i(function(b){b.objectList[M]=l,b.creatingObject&&b.activeObjectIndex===M&&(b.creatingObject=ie()({},l))})},q=function(l){i(function(M){M.objectList=l,M.creatingObject&&M.objectList[M.activeObjectIndex]&&(M.creatingObject=ie()({},M.objectList[M.activeObjectIndex]))})};return{initObjectList:N,addObject:u,removeObject:C,removeAllObjects:B,updateObject:R,updateAllObject:w,updateObjectWithoutHistory:K,updateAllObjectWithoutHistory:q}},po=ho;function Io(a,e){var t=(0,c.useRef)(),g=(0,c.useRef)(),i=typeof e=="function"?e(g.current,a):!0;i&&(t.current=g.current,g.current=a);var s=function(){t.current=void 0};return[t.current,s]}var Ao=Q(19950),yo=Q(65002),yt=Q(55021),Bt=Q(38810);function bo(a){var e=a.isRequiring,t=a.visible,g=a.minPadding,i=g===void 0?{top:0,left:0}:g,s=a.allowMove,f=a.showReferenceLine,y=a.isCustomCursorActive,j=a.cursorSize,x=a.onClickBg,N=(0,c.useRef)(null),u=(0,Ao.Z)(function(){return N.current}),C=(0,yo.Z)(function(){return N.current}),B=(0,c.useState)({width:0,height:0}),R=fe()(B,2),w=R[0],K=R[1],q=(0,et.x)({width:w.width,height:w.height,scale:1}),T=fe()(q,2),l=T[0],M=T[1],b=(0,c.useRef)({x:0,y:0}),r=(0,c.useRef)(void 0),S=(0,c.useMemo)(function(){return ie()(ie()({},C),{},{elementW:l.width,elementH:l.height,elementX:C.elementX-b.current.x,elementY:C.elementY-b.current.y})},[C,l]),I=(0,et.x)(null),z=fe()(I,2),Y=z[0],U=z[1],E=function(W){if(W&&u){var k=u.width,V=u.height,_=(0,He.t9)(W.width,W.height,k-i.left*2,V-i.top*2),ee=fe()(_,3),ne=ee[0],je=ee[1],J=ee[2];b.current={x:(k-ne)*.5,y:(V-je)*.5},M({scale:J,width:W.width*J,height:W.height*J}),r.current=void 0}};(0,c.useEffect)(function(){E(w)},[w,u]);var H=function(){if(u){var W=u==null?void 0:u.width,k=u==null?void 0:u.height,V=.5,_=.5,ee=W/2,ne=k/2;r.current&&(V=r.current.posRatioX,_=r.current.posRatioY,ee=r.current.mouseX,ne=r.current.mouseY);var je=ee-l.width*V,J=ne-l.height*_;b.current={x:je,y:J}}};(0,c.useEffect)(function(){H()},[l]);var h=function(W,k,V){!t||e||M(function(_){var ee=W?Math.min(o.Fv,(0,Bt.O)(_.scale+k,2)):Math.max(o.vL,(0,Bt.O)(_.scale-k,2));if((!r.current||C.elementX!==r.current.mouseX||C.elementY!==r.current.mouseY)&&!V){var ne={posRatioX:S.elementX/l.width,posRatioY:S.elementY/l.height,mouseX:C.elementX,mouseY:C.elementY};r.current=ne}_.scale=ee,_.width=w.width*ee,_.height=w.height*ee})},d=function(){h(!0,o.yj,!0)},D=function(){h(!1,o.yj,!0)},A=function(W){if(!(!t||e)){var k=W.deltaY;k>0?h(!1,o.oP):k<0&&h(!0,o.oP)}},L=function(){r.current=void 0,E(w)};(0,c.useEffect)(function(){t||(K({width:0,height:0}),M({scale:1,width:0,height:0}),b.current={x:0,y:0},r.current=void 0)},[t]);var p=(0,c.useState)(!1),v=fe()(p,2),m=v[0],G=v[1];(0,yt.Z)("mousedown",function(){G(!0),!(!t||!N.current)&&U({x:S.elementX,y:S.elementY})}),(0,yt.Z)("mousemove",function(){if(t&&Y&&s&&m){var P=S.elementX-Y.x,W=S.elementY-Y.y,k=b.current,V=k.x,_=k.y;b.current={x:V+P,y:_+W}}}),(0,yt.Z)("mouseup",function(){if(G(!1),!(!t||!s)&&Y){U(null);return}}),(0,c.useEffect)(function(){U(s?{x:S.elementX,y:S.elementY}:null)},[s]);var Z=function(W){var k=W.target,V={width:k.naturalWidth,height:k.naturalHeight};K(V),E(V)},O=function(W){var k=W.children,V=W.className;return t?(0,n.jsxs)("div",{ref:N,onWheel:A,onClick:x,className:V,children:[k,f&&!s&&(0,te.jt)(S)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{position:"fixed",backgroundColor:"#fff",width:C.elementX-18,height:1,left:0,bottom:0,transformOrigin:"bottom left",transform:"translate(".concat(C.elementPosX,"px, -").concat(window.innerHeight-C.clientY-1,"px)")}}),(0,n.jsx)("div",{style:{position:"fixed",backgroundColor:"#fff",height:1,width:C.elementW-C.elementX-18,left:0,bottom:0,transformOrigin:"bottom left",transform:"translate(".concat(C.clientX+18,"px, -").concat(window.innerHeight-C.clientY-1,"px)")}}),(0,n.jsx)("div",{style:{position:"fixed",backgroundColor:"#fff",width:1,height:C.elementY-18,left:0,bottom:0,transformOrigin:"bottom left",transform:"translate(".concat(C.clientX-1,`px, 
                  -`).concat(window.innerHeight-C.clientY+18,"px)")}}),(0,n.jsx)("div",{style:{position:"fixed",backgroundColor:"#fff",width:1,height:C.elementH-C.elementY-18,left:0,bottom:0,transform:"translate(".concat(C.clientX-1,"px)")}})]}),y&&j>0&&(0,te.jt)(C)&&(0,te.jt)(S)&&!s&&(0,n.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",width:j*l.scale,height:j*l.scale,borderRadius:j*l.scale/2,left:0,top:0,transformOrigin:"top left",transform:"translate(".concat(C.clientX-j*l.scale/2,"px, ").concat(C.clientY-j*l.scale/2,"px)")}})]}):null};return{CanvasContainer:O,scale:l.scale,containerRef:N,naturalSize:w,clientSize:{width:l.width,height:l.height},containerSize:u,containerMouse:ie()(ie()({},C),{},{elementW:(u==null?void 0:u.width)||C.elementW,elementH:(u==null?void 0:u.height)||C.elementH}),contentMouse:S,imagePos:b,isMousePress:m,onLoadImg:Z,onZoomIn:d,onZoomOut:D,onWheelMove:A,onReset:L}}var $e={container:"container___mOUu_",btn:"btn___mXn0S",btnLimited:"btnLimited___Q54vr",btnActive:"btnActive___Z3xlp",divider:"divider___lHIUM",slider:"slider___xw00h",action:"action___Hedjm","popover-container":"popover-container___NM0Y8",title:"title___W8MEU",key:"key___yAGun"},Co=Object.defineProperty,An=Object.getOwnPropertySymbols,Lo=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,yn=(a,e,t)=>e in a?Co(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,No=(a,e)=>{for(var t in e||(e={}))Lo.call(e,t)&&yn(a,t,e[t]);if(An)for(var t of An(e))xo.call(e,t)&&yn(a,t,e[t]);return a};const Do=a=>c.createElement("svg",No({width:16,height:16,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("g",{clipPath:"url(#pen-add_svg__a)",fill:"#fff"},c.createElement("path",{d:"M16.7 10c0-.1 0-.1.1-.2v-.2c0-.1 0-.1-.1-.1l-3.2-3.2-3.1-3.1v-.1H10.1c-.1.2-.3.3-.6.3-1.7.7-3.4 1.3-5.2 1.9-.1 0-.1.1-.2.1s0 .1 0 .2c-.2.6-.4 1.2-.6 1.9C3 9.2 2.5 11 2 12.7L.3 18.4c-.1.3-.2.7-.3 1l.2-.1L7 12.4l.1-.1V12c-.1-.2-.2-.5-.2-.8 0-.3 0-.6.1-.8.1-.3.3-.5.5-.7.2-.2.4-.3.7-.4H9c.3 0 .5.1.8.3.2.1.4.3.6.6.9-.8 2-1.2 3.3-1.2 1.1 0 2.2.4 3 1Z"}),c.createElement("path",{d:"M8.6 13.2h-.3c-.2-.1-.3-.2-.5-.3L.7 20l4-1.2 5-1.4c-.7-.9-1.2-2-1.2-3.3 0-.3.1-.6.1-.9ZM11.3 2.6 16.7 8l.8.8L20 7.2 12.8 0l-.1.1c-.5.8-1 1.5-1.5 2.2v.2l.1.1c-.1 0-.1 0 0 0ZM16.4 11c-.7-.6-1.7-1.1-2.7-1.1-1.2 0-2.3.5-3 1.3-.4.5-.8 1-.9 1.7-.1.4-.2.7-.2 1.1 0 1.2.5 2.2 1.3 3 .7.7 1.7 1.2 2.9 1.2 2.3 0 4.1-1.9 4.1-4.1-.1-1.2-.7-2.3-1.5-3.1Zm-1.1 4.1h-.7v.8c0 .6-.4 1-1 1s-1-.4-1-1v-.8H12c-.6 0-1-.4-1-1s.4-1 1-1h.6v-.5c0-.6.4-1 1-1s1 .4 1 1v.5h.7c.6 0 1 .4 1 1s-.4 1-1 1Z"})),c.createElement("defs",null,c.createElement("clipPath",{id:"pen-add_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))));var Mr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0xNi43IDEwYzAtLjEgMC0uMS4xLS4ydi0uMmMwLS4xIDAtLjEtLjEtLjFsLTMuMi0zLjItMy4xLTMuMXYtLjFIMTAuMWMtLjEuMi0uMy4zLS42LjMtMS43LjctMy40IDEuMy01LjIgMS45LS4xIDAtLjEuMS0uMi4xczAgLjEgMCAuMmMtLjIuNi0uNCAxLjItLjYgMS45QzMgOS4yIDIuNSAxMSAyIDEyLjdMLjMgMTguNGMtLjEuMy0uMi43LS4zIDFsLjItLjFMNyAxMi40bC4xLS4xVjEyYy0uMS0uMi0uMi0uNS0uMi0uOCAwLS4zIDAtLjYuMS0uOC4xLS4zLjMtLjUuNS0uNy4yLS4yLjQtLjMuNy0uNEg5Yy4zIDAgLjUuMS44LjMuMi4xLjQuMy42LjYuOS0uOCAyLTEuMiAzLjMtMS4yIDEuMSAwIDIuMi40IDMgMVoiLz48cGF0aCBkPSJNOC42IDEzLjJoLS4zYy0uMi0uMS0uMy0uMi0uNS0uM0wuNyAyMGw0LTEuMiA1LTEuNGMtLjctLjktMS4yLTItMS4yLTMuMyAwLS4zLjEtLjYuMS0uOVpNMTEuMyAyLjYgMTYuNyA4bC44LjhMMjAgNy4yIDEyLjggMGwtLjEuMWMtLjUuOC0xIDEuNS0xLjUgMi4ydi4ybC4xLjFjLS4xIDAtLjEgMCAwIDBaTTE2LjQgMTFjLS43LS42LTEuNy0xLjEtMi43LTEuMS0xLjIgMC0yLjMuNS0zIDEuMy0uNC41LS44IDEtLjkgMS43LS4xLjQtLjIuNy0uMiAxLjEgMCAxLjIuNSAyLjIgMS4zIDMgLjcuNyAxLjcgMS4yIDIuOSAxLjIgMi4zIDAgNC4xLTEuOSA0LjEtNC4xLS4xLTEuMi0uNy0yLjMtMS41LTMuMVptLTEuMSA0LjFoLS43di44YzAgLjYtLjQgMS0xIDFzLTEtLjQtMS0xdi0uOEgxMmMtLjYgMC0xLS40LTEtMXMuNC0xIDEtMWguNnYtLjVjMC0uNi40LTEgMS0xczEgLjQgMSAxdi41aC43Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxWiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMjB2MjBIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4=",Oo=Object.defineProperty,bn=Object.getOwnPropertySymbols,Eo=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable,Cn=(a,e,t)=>e in a?Oo(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,So=(a,e)=>{for(var t in e||(e={}))Eo.call(e,t)&&Cn(a,t,e[t]);if(bn)for(var t of bn(e))To.call(e,t)&&Cn(a,t,e[t]);return a};const wo=a=>c.createElement("svg",So({width:16,height:16,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("g",{clipPath:"url(#pen-erase_svg__a)",fill:"#fff"},c.createElement("path",{d:"m16.74 10 .07-.2a.22.22 0 0 0 0-.16.22.22 0 0 0-.09-.12l-3.14-3.16-3.07-3.08a.18.18 0 0 0 0-.07H10.29l-.72.26-5.23 1.82a.42.42 0 0 0-.18.11.35.35 0 0 0-.1.19c-.17.63-.36 1.25-.55 1.88C3 9.21 2.51 11 2 12.67L.3 18.34c-.09.31-.18.66-.3 1l.16-.14L7 12.42l.06-.06a.16.16 0 0 0 0-.09.17.17 0 0 0 0-.1v-.08a1.87 1.87 0 0 1-.06-1.6A1.95 1.95 0 0 1 8.16 9.4c.27-.09.558-.118.84-.08a2 2 0 0 1 .78.26c.232.15.432.344.59.57a5 5 0 0 1 6.37-.15Z"}),c.createElement("path",{d:"M8.63 13.2c-.106.01-.214.01-.32 0a3.38 3.38 0 0 1-.52-.22L.74 20l4-1.2 5-1.44a4.9 4.9 0 0 1-1.11-4.16ZM11.25 2.62c1.83 1.82 3.62 3.62 5.43 5.43l.81.83L20 7.21 12.83 0l-.08.1c-.5.75-1 1.53-1.5 2.25v.06a.192.192 0 0 0 0 .07.19.19 0 0 0 0 .08.208.208 0 0 0 0 .06ZM16.38 11a4.1 4.1 0 0 0-6.66 2 4.24 4.24 0 0 0-.18 1.13 4.11 4.11 0 0 0 1.27 3 4.06 4.06 0 0 0 2.85 1.16A4.12 4.12 0 0 0 16.38 11Zm-1 4.08h-3.32a1 1 0 0 1 0-2h3.27a1 1 0 0 1 0 2h.05Z"})),c.createElement("defs",null,c.createElement("clipPath",{id:"pen-erase_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))));var jr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Im0xNi43NCAxMCAuMDctLjJhLjIyLjIyIDAgMCAwIDAtLjE2LjIyLjIyIDAgMCAwLS4wOS0uMTJsLTMuMTQtMy4xNi0zLjA3LTMuMDhhLjE4LjE4IDAgMCAwIDAtLjA3SDEwLjI5bC0uNzIuMjYtNS4yMyAxLjgyYS40Mi40MiAwIDAgMC0uMTguMTEuMzUuMzUgMCAwIDAtLjEuMTljLS4xNy42My0uMzYgMS4yNS0uNTUgMS44OEMzIDkuMjEgMi41MSAxMSAyIDEyLjY3TC4zIDE4LjM0Yy0uMDkuMzEtLjE4LjY2LS4zIDFsLjE2LS4xNEw3IDEyLjQybC4wNi0uMDZhLjE2LjE2IDAgMCAwIDAtLjA5LjE3LjE3IDAgMCAwIDAtLjF2LS4wOGExLjg3IDEuODcgMCAwIDEtLjA2LTEuNkExLjk1IDEuOTUgMCAwIDEgOC4xNiA5LjRjLjI3LS4wOS41NTgtLjExOC44NC0uMDhhMiAyIDAgMCAxIC43OC4yNmMuMjMyLjE1LjQzMi4zNDQuNTkuNTdhNSA1IDAgMCAxIDYuMzctLjE1WiIvPjxwYXRoIGQ9Ik04LjYzIDEzLjJjLS4xMDYuMDEtLjIxNC4wMS0uMzIgMGEzLjM4IDMuMzggMCAwIDEtLjUyLS4yMkwuNzQgMjBsNC0xLjIgNS0xLjQ0YTQuOSA0LjkgMCAwIDEtMS4xMS00LjE2Wk0xMS4yNSAyLjYyYzEuODMgMS44MiAzLjYyIDMuNjIgNS40MyA1LjQzbC44MS44M0wyMCA3LjIxIDEyLjgzIDBsLS4wOC4xYy0uNS43NS0xIDEuNTMtMS41IDIuMjV2LjA2YS4xOTIuMTkyIDAgMCAwIDAgLjA3LjE5LjE5IDAgMCAwIDAgLjA4LjIwOC4yMDggMCAwIDAgMCAuMDZaTTE2LjM4IDExYTQuMSA0LjEgMCAwIDAtNi42NiAyIDQuMjQgNC4yNCAwIDAgMC0uMTggMS4xMyA0LjExIDQuMTEgMCAwIDAgMS4yNyAzIDQuMDYgNC4wNiAwIDAgMCAyLjg1IDEuMTZBNC4xMiA0LjEyIDAgMCAwIDE2LjM4IDExWm0tMSA0LjA4aC0zLjMyYTEgMSAwIDAgMSAwLTJoMy4yN2ExIDEgMCAwIDEgMCAyaC4wNVoiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDIwdjIwSDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+",zo=Object.defineProperty,Ln=Object.getOwnPropertySymbols,Po=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,xn=(a,e,t)=>e in a?zo(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Zo=(a,e)=>{for(var t in e||(e={}))Po.call(e,t)&&xn(a,t,e[t]);if(Ln)for(var t of Ln(e))ko.call(e,t)&&xn(a,t,e[t]);return a};const Yo=a=>c.createElement("svg",Zo({width:16,height:16,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("g",{clipPath:"url(#brush-add_svg__a)",fill:"#fff"},c.createElement("path",{d:"M5.07 10.37 4.02 9.22l-.46-.46a1.42 1.42 0 0 1 0-1.89l.41-.41 3.84-3.73L10.34.22a.71.71 0 0 1 1.07 0c.34.31.67.63 1 .93a.66.66 0 0 1 .22.69c-.1.43-.19.87-.28 1.34l.69-.13c.25 0 .5-.1.75-.12a.82.82 0 0 1 .69.26l4.47 4.37.45.44a.87.87 0 0 1 0 1.3l-2 2-.08.08-1.34-.79 1.89-1.95-.33-.33-3.78-3.71a.3.3 0 0 0-.32-.09l-1.89.37A.74.74 0 0 1 10.7 4c.06-.33.12-.65.19-1s.1-.58.18-.85a.31.31 0 0 0-.17-.4L6.7 5.94l5 4.85c-.3.21-.61.4-.88.62a4.76 4.76 0 0 0-1.75 3 .88.88 0 0 1-.25.44l-2.94 3.37a3.42 3.42 0 0 1-5 .22 3 3 0 0 1-.83-2 3.39 3.39 0 0 1 1.33-2.88l3.32-2.89.37-.3Z"}),c.createElement("path",{d:"M17.88 13.99a4.06 4.06 0 0 0-4.46-2.68 4 4 0 0 0 .61 7.9c.22 0 .44 0 .65-.06a4 4 0 0 0 3.2-5.16Zm-2.31 2.13h-.62v.58a.94.94 0 0 1-1.87 0v-.58h-.58a.94.94 0 0 1 0-1.87h.58v-.56a.94.94 0 1 1 1.87 0v.53h.62a.94.94 0 0 1 0 1.87v.03Z"})),c.createElement("defs",null,c.createElement("clipPath",{id:"brush-add_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h19.7v19.44H0z"}))));var vr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik01LjA3IDEwLjM3IDQuMDIgOS4yMmwtLjQ2LS40NmExLjQyIDEuNDIgMCAwIDEgMC0xLjg5bC40MS0uNDEgMy44NC0zLjczTDEwLjM0LjIyYS43MS43MSAwIDAgMSAxLjA3IDBjLjM0LjMxLjY3LjYzIDEgLjkzYS42Ni42NiAwIDAgMSAuMjIuNjljLS4xLjQzLS4xOS44Ny0uMjggMS4zNGwuNjktLjEzYy4yNSAwIC41LS4xLjc1LS4xMmEuODIuODIgMCAwIDEgLjY5LjI2bDQuNDcgNC4zNy40NS40NGEuODcuODcgMCAwIDEgMCAxLjNsLTIgMi0uMDguMDgtMS4zNC0uNzkgMS44OS0xLjk1LS4zMy0uMzMtMy43OC0zLjcxYS4zLjMgMCAwIDAtLjMyLS4wOWwtMS44OS4zN0EuNzQuNzQgMCAwIDEgMTAuNyA0Yy4wNi0uMzMuMTItLjY1LjE5LTFzLjEtLjU4LjE4LS44NWEuMzEuMzEgMCAwIDAtLjE3LS40TDYuNyA1Ljk0bDUgNC44NWMtLjMuMjEtLjYxLjQtLjg4LjYyYTQuNzYgNC43NiAwIDAgMC0xLjc1IDMgLjg4Ljg4IDAgMCAxLS4yNS40NGwtMi45NCAzLjM3YTMuNDIgMy40MiAwIDAgMS01IC4yMiAzIDMgMCAwIDEtLjgzLTIgMy4zOSAzLjM5IDAgMCAxIDEuMzMtMi44OGwzLjMyLTIuODkuMzctLjNaIi8+PHBhdGggZD0iTTE3Ljg4IDEzLjk5YTQuMDYgNC4wNiAwIDAgMC00LjQ2LTIuNjggNCA0IDAgMCAwIC42MSA3LjljLjIyIDAgLjQ0IDAgLjY1LS4wNmE0IDQgMCAwIDAgMy4yLTUuMTZabS0yLjMxIDIuMTNoLS42MnYuNThhLjk0Ljk0IDAgMCAxLTEuODcgMHYtLjU4aC0uNThhLjk0Ljk0IDAgMCAxIDAtMS44N2guNTh2LS41NmEuOTQuOTQgMCAxIDEgMS44NyAwdi41M2guNjJhLjk0Ljk0IDAgMCAxIDAgMS44N3YuMDNaIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxOS43djE5LjQ0SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+",Ro=Object.defineProperty,Nn=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Qo=Object.prototype.propertyIsEnumerable,Dn=(a,e,t)=>e in a?Ro(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Go=(a,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&Dn(a,t,e[t]);if(Nn)for(var t of Nn(e))Qo.call(e,t)&&Dn(a,t,e[t]);return a};const Bo=a=>c.createElement("svg",Go({width:16,height:16,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c.createElement("g",{clipPath:"url(#brush-erase_svg__a)",fill:"#fff"},c.createElement("path",{d:"m6.47 5.69 4.8 4.7c-.29.2-.59.38-.85.59a4.73 4.73 0 0 0-1.74 3.05.45.45 0 0 1-.1.21l-2.89 3.34a3.24 3.24 0 0 1-2.47 1.2 3 3 0 0 1-3.23-3.1 3.34 3.34 0 0 1 1.39-2.7c1.16-.95 2.29-1.93 3.44-2.89l.14-.1-.4-.38-1-1a1.38 1.38 0 0 1 0-2.07L7.7 2.48c.76-.7 1.52-1.5 2.29-2.24a.69.69 0 0 1 1.05 0l1 .91a.59.59 0 0 1 .18.63c-.09.43-.18.87-.27 1.33l1.27-.25a.88.88 0 0 1 .84.24l2.71 2.68 2 1.92a.9.9 0 0 1 .29.8.66.66 0 0 1-.16.35c-.7.7-1.41 1.39-2.12 2.08l-1.28-.77 1.84-1.79V8.3l-4-3.88a.29.29 0 0 0-.28-.07l-1.84.43a.86.86 0 0 1-.8-.26.571.571 0 0 1-.13-.56c.12-.59.24-1.17.37-1.76 0-.19 0-.33-.18-.42L6.47 5.69Z"}),c.createElement("path",{d:"M9.69 14.71a3.88 3.88 0 1 1 3.88 3.8 3.83 3.83 0 0 1-3.88-3.8Zm3.87 1h1.57a1 1 0 0 0 1-1 1 1 0 0 0-1-1.06h-3.14a1 1 0 0 0 0 2l1.57.06Z"})),c.createElement("defs",null,c.createElement("clipPath",{id:"brush-erase_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h19.03v18.77H0z"}))));var mr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Im02LjQ3IDUuNjkgNC44IDQuN2MtLjI5LjItLjU5LjM4LS44NS41OWE0LjczIDQuNzMgMCAwIDAtMS43NCAzLjA1LjQ1LjQ1IDAgMCAxLS4xLjIxbC0yLjg5IDMuMzRhMy4yNCAzLjI0IDAgMCAxLTIuNDcgMS4yIDMgMyAwIDAgMS0zLjIzLTMuMSAzLjM0IDMuMzQgMCAwIDEgMS4zOS0yLjdjMS4xNi0uOTUgMi4yOS0xLjkzIDMuNDQtMi44OWwuMTQtLjEtLjQtLjM4LTEtMWExLjM4IDEuMzggMCAwIDEgMC0yLjA3TDcuNyAyLjQ4Yy43Ni0uNyAxLjUyLTEuNSAyLjI5LTIuMjRhLjY5LjY5IDAgMCAxIDEuMDUgMGwxIC45MWEuNTkuNTkgMCAwIDEgLjE4LjYzYy0uMDkuNDMtLjE4Ljg3LS4yNyAxLjMzbDEuMjctLjI1YS44OC44OCAwIDAgMSAuODQuMjRsMi43MSAyLjY4IDIgMS45MmEuOS45IDAgMCAxIC4yOS44LjY2LjY2IDAgMCAxLS4xNi4zNWMtLjcuNy0xLjQxIDEuMzktMi4xMiAyLjA4bC0xLjI4LS43NyAxLjg0LTEuNzlWOC4zbC00LTMuODhhLjI5LjI5IDAgMCAwLS4yOC0uMDdsLTEuODQuNDNhLjg2Ljg2IDAgMCAxLS44LS4yNi41NzEuNTcxIDAgMCAxLS4xMy0uNTZjLjEyLS41OS4yNC0xLjE3LjM3LTEuNzYgMC0uMTkgMC0uMzMtLjE4LS40Mkw2LjQ3IDUuNjlaIi8+PHBhdGggZD0iTTkuNjkgMTQuNzFhMy44OCAzLjg4IDAgMSAxIDMuODggMy44IDMuODMgMy44MyAwIDAgMS0zLjg4LTMuOFptMy44NyAxaDEuNTdhMSAxIDAgMCAwIDEtMSAxIDEgMCAwIDAtMS0xLjA2aC0zLjE0YTEgMSAwIDAgMCAwIDJsMS41Ny4wNloiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE5LjAzdjE4Ljc3SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+",Uo=Object.defineProperty,On=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable,En=(a,e,t)=>e in a?Uo(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Vo=(a,e)=>{for(var t in e||(e={}))Wo.call(e,t)&&En(a,t,e[t]);if(On)for(var t of On(e))Fo.call(e,t)&&En(a,t,e[t]);return a};const Xo=a=>c.createElement("svg",Vo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 34.02 34.02"},a),c.createElement("defs",null,c.createElement("style",null,".magic-box_svg__cls-1,.magic-box_svg__cls-3{fill:none}.magic-box_svg__cls-2{fill:#fcfefe}.magic-box_svg__cls-3{stroke:#fcfeff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px}")),c.createElement("path",{className:"magic-box_svg__cls-1",d:"M5.28 16.36V6.08a1 1 0 0 1 1-1h22.2a1 1 0 0 1 1 1v21.67a1 1 0 0 1-1 .95h-10v2.39H31.4V2.74H3.17v13.62ZM3.06 2.74h.11v13.62h-.11z"}),c.createElement("path",{className:"magic-box_svg__cls-2",d:"M7.28 7.12H27.4V26.7h-8.91v2h10a1 1 0 0 0 1-.95V6.08a1 1 0 0 0-1-1H6.24a1 1 0 0 0-1 1v10.28h2Z"}),c.createElement("path",{className:"magic-box_svg__cls-2",d:"M4.82 28.43a.87.87 0 0 0 .11 1.19 1 1 0 0 0 1.19.09c3.29-2.56 4.66-2.56 8 0a.92.92 0 0 0 1.28-1.28c-2.56-3.29-2.56-4.66 0-8a.92.92 0 0 0-1.28-1.28c-3.29 2.56-4.66 2.56-8 0a1.37 1.37 0 0 0-.55-.15.83.83 0 0 0-.64.27.87.87 0 0 0-.09 1.19c2.63 3.31 2.63 4.59-.02 7.97Z"}),c.createElement("path",{className:"magic-box_svg__cls-3",d:"m19.24 10.15 5.75-.07M24.99 15.91v-5.83M17.97 17.19l7.02-7.11"}));var fr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNC4wMiAzNC4wMiI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTN7ZmlsbDpub25lfS5jbHMtMntmaWxsOiNmY2ZlZmV9LmNscy0ze3N0cm9rZTojZmNmZWZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS13aWR0aDoycHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNS4yOCAxNi4zNlY2LjA4YTEgMSAwIDAgMSAxLTFoMjIuMmExIDEgMCAwIDEgMSAxdjIxLjY3YTEgMSAwIDAgMS0xIC45NWgtMTB2Mi4zOUgzMS40VjIuNzRIMy4xN3YxMy42MlpNMy4wNiAyLjc0aC4xMXYxMy42MmgtLjExeiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTcuMjggNy4xMkgyNy40VjI2LjdoLTguOTF2MmgxMGExIDEgMCAwIDAgMS0uOTVWNi4wOGExIDEgMCAwIDAtMS0xSDYuMjRhMSAxIDAgMCAwLTEgMXYxMC4yOGgyWiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTQuODIgMjguNDNhLjg3Ljg3IDAgMCAwIC4xMSAxLjE5IDEgMSAwIDAgMCAxLjE5LjA5YzMuMjktMi41NiA0LjY2LTIuNTYgOCAwYS45Mi45MiAwIDAgMCAxLjI4LTEuMjhjLTIuNTYtMy4yOS0yLjU2LTQuNjYgMC04YS45Mi45MiAwIDAgMC0xLjI4LTEuMjhjLTMuMjkgMi41Ni00LjY2IDIuNTYtOCAwYTEuMzcgMS4zNyAwIDAgMC0uNTUtLjE1LjgzLjgzIDAgMCAwLS42NC4yNy44Ny44NyAwIDAgMC0uMDkgMS4xOWMyLjYzIDMuMzEgMi42MyA0LjU5LS4wMiA3Ljk3WiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTE5LjI0IDEwLjE1IDUuNzUtLjA3TTI0Ljk5IDE1Ljkxdi01LjgzTTE3Ljk3IDE3LjE5bDcuMDItNy4xMSIvPjwvc3ZnPg==",Ko=Object.defineProperty,Tn=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,Sn=(a,e,t)=>e in a?Ko(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,$o=(a,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&Sn(a,t,e[t]);if(Tn)for(var t of Tn(e))_o.call(e,t)&&Sn(a,t,e[t]);return a};const qo=a=>c.createElement("svg",$o({id:"magic-click_svg__\\u56FE\\u5C42_1","data-name":"\\u56FE\\u5C42 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 34.02 34.02"},a),c.createElement("defs",null,c.createElement("style",null,".magic-click_svg__cls-1{fill:#fff}")),c.createElement("path",{className:"magic-click_svg__cls-1",d:"M30.88 21.21a1.6 1.6 0 0 1-1 1.35c-1.54.75-3.08 1.51-4.59 2.31a2.18 2.18 0 0 0-.87.86c-.79 1.49-1.53 3-2.27 4.53a1.49 1.49 0 0 1-2.89-.18Q17.2 23.8 15.1 17.52a1.49 1.49 0 0 1 2-2l12.55 4.19a1.56 1.56 0 0 1 1.23 1.5Zm-5.25.23-6.94-2.32 2.32 7c.37-.74.71-1.3.95-1.9a3 3 0 0 1 1.8-1.79c.6-.29 1.15-.62 1.87-.99ZM7.34 6.09a4.23 4.23 0 0 1 .89.54l3 3a1.45 1.45 0 1 1-2 2c-1-1-2.06-2-3.07-3.07A1.37 1.37 0 0 1 5.83 7a1.6 1.6 0 0 1 1.51-.91ZM22.35 12.35a6.61 6.61 0 0 1-1.12-.92 1.14 1.14 0 0 1 .09-1.51c1.14-1.19 2.3-2.37 3.5-3.49a1.31 1.31 0 0 1 1.84.1 1.34 1.34 0 0 1 .14 1.9c-1.11 1.19-2.28 2.32-3.45 3.45a3.92 3.92 0 0 1-1 .47ZM7 27.68a6 6 0 0 1-1.13-.9 1.12 1.12 0 0 1 .13-1.5c1.15-1.21 2.32-2.4 3.55-3.54a1.32 1.32 0 0 1 1.84.17 1.33 1.33 0 0 1 .1 1.85C10.35 25 9.16 26.11 8 27.25a3.75 3.75 0 0 1-1 .43ZM17.87 6v2A1.46 1.46 0 1 1 15 8V3.87a1.49 1.49 0 0 1 1.46-1.56 1.51 1.51 0 0 1 1.45 1.57c-.03.74-.04 1.44-.04 2.12ZM5.48 18.3h-2a1.5 1.5 0 0 1-1.55-1.5 1.48 1.48 0 0 1 1.59-1.42h4.07a1.49 1.49 0 0 1 1.59 1.49 1.5 1.5 0 0 1-1.6 1.42c-.69.02-1.4.01-2.1.01Z"}),c.createElement("path",{className:"magic-click_svg__cls-1",d:"M25.63 21.44c-.72.37-1.27.7-1.87.94A3 3 0 0 0 22 24.17c-.24.6-.58 1.16-.95 1.9l-2.32-6.95Z"}));var hr="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM0LjAyIDM0LjAyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZn08L3N0eWxlPjwvZGVmcz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0zMC44OCAyMS4yMWExLjYgMS42IDAgMCAxLTEgMS4zNWMtMS41NC43NS0zLjA4IDEuNTEtNC41OSAyLjMxYTIuMTggMi4xOCAwIDAgMC0uODcuODZjLS43OSAxLjQ5LTEuNTMgMy0yLjI3IDQuNTNhMS40OSAxLjQ5IDAgMCAxLTIuODktLjE4UTE3LjIgMjMuOCAxNS4xIDE3LjUyYTEuNDkgMS40OSAwIDAgMSAyLTJsMTIuNTUgNC4xOWExLjU2IDEuNTYgMCAwIDEgMS4yMyAxLjVabS01LjI1LjIzLTYuOTQtMi4zMiAyLjMyIDdjLjM3LS43NC43MS0xLjMuOTUtMS45YTMgMyAwIDAgMSAxLjgtMS43OWMuNi0uMjkgMS4xNS0uNjIgMS44Ny0uOTlaTTcuMzQgNi4wOWE0LjIzIDQuMjMgMCAwIDEgLjg5LjU0bDMgM2ExLjQ1IDEuNDUgMCAxIDEtMiAyYy0xLTEtMi4wNi0yLTMuMDctMy4wN0ExLjM3IDEuMzcgMCAwIDEgNS44MyA3YTEuNiAxLjYgMCAwIDEgMS41MS0uOTFaTTIyLjM1IDEyLjM1YTYuNjEgNi42MSAwIDAgMS0xLjEyLS45MiAxLjE0IDEuMTQgMCAwIDEgLjA5LTEuNTFjMS4xNC0xLjE5IDIuMy0yLjM3IDMuNS0zLjQ5YTEuMzEgMS4zMSAwIDAgMSAxLjg0LjEgMS4zNCAxLjM0IDAgMCAxIC4xNCAxLjljLTEuMTEgMS4xOS0yLjI4IDIuMzItMy40NSAzLjQ1YTMuOTIgMy45MiAwIDAgMS0xIC40N1pNNyAyNy42OGE2IDYgMCAwIDEtMS4xMy0uOSAxLjEyIDEuMTIgMCAwIDEgLjEzLTEuNWMxLjE1LTEuMjEgMi4zMi0yLjQgMy41NS0zLjU0YTEuMzIgMS4zMiAwIDAgMSAxLjg0LjE3IDEuMzMgMS4zMyAwIDAgMSAuMSAxLjg1QzEwLjM1IDI1IDkuMTYgMjYuMTEgOCAyNy4yNWEzLjc1IDMuNzUgMCAwIDEtMSAuNDNaTTE3Ljg3IDZ2MkExLjQ2IDEuNDYgMCAxIDEgMTUgOFYzLjg3YTEuNDkgMS40OSAwIDAgMSAxLjQ2LTEuNTYgMS41MSAxLjUxIDAgMCAxIDEuNDUgMS41N2MtLjAzLjc0LS4wNCAxLjQ0LS4wNCAyLjEyWk01LjQ4IDE4LjNoLTJhMS41IDEuNSAwIDAgMS0xLjU1LTEuNSAxLjQ4IDEuNDggMCAwIDEgMS41OS0xLjQyaDQuMDdhMS40OSAxLjQ5IDAgMCAxIDEuNTkgMS40OSAxLjUgMS41IDAgMCAxLTEuNiAxLjQyYy0uNjkuMDItMS40LjAxLTIuMS4wMVoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yNS42MyAyMS40NGMtLjcyLjM3LTEuMjcuNy0xLjg3Ljk0QTMgMyAwIDAgMCAyMiAyNC4xN2MtLjI0LjYtLjU4IDEuMTYtLjk1IDEuOWwtMi4zMi02Ljk1WiIvPjwvc3ZnPg==",ei=Object.defineProperty,wn=Object.getOwnPropertySymbols,ti=Object.prototype.hasOwnProperty,ni=Object.prototype.propertyIsEnumerable,zn=(a,e,t)=>e in a?ei(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ai=(a,e)=>{for(var t in e||(e={}))ti.call(e,t)&&zn(a,t,e[t]);if(wn)for(var t of wn(e))ni.call(e,t)&&zn(a,t,e[t]);return a};const oi=a=>c.createElement("svg",ai({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 34.02 34.02"},a),c.createElement("defs",null,c.createElement("style",null,".edge-stitch_svg__cls-1{fill:#fcfefe}.edge-stitch_svg__cls-3{fill:#fff}")),c.createElement("path",{className:"edge-stitch_svg__cls-1",d:"M22.25 18.52a.82.82 0 0 0 .57.15h4.3a1.44 1.44 0 1 0 0-2.87h-.86L31 11.06a1.42 1.42 0 0 0-2-2l-4.73 4.74v-.86a1.44 1.44 0 1 0-2.87 0v4.3a.87.87 0 0 0 .14.57 1.67 1.67 0 0 0 .71.71ZM9.91 31.58a1.31 1.31 0 0 0 1-.43l4.74-4.74v.86a1.44 1.44 0 1 0 2.87 0V23a.82.82 0 0 0-.15-.57 1.7 1.7 0 0 0-.71-.72.85.85 0 0 0-.58-.15h-4.3a1.44 1.44 0 1 0 0 2.87h.86l-4.73 4.71a1.38 1.38 0 0 0 0 2 1.31 1.31 0 0 0 1 .44Z"}),c.createElement("path",{style:{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:3},d:"m14.4 14.51 11.14 11.14"}),c.createElement("path",{className:"edge-stitch_svg__cls-3",d:"M7.51 5.7a3.41 3.41 0 0 1 .74.45c.85.8 1.67 1.64 2.49 2.47a1.19 1.19 0 1 1-1.69 1.67Q7.77 9 6.53 7.77a1.13 1.13 0 0 1-.26-1.33 1.33 1.33 0 0 1 1.24-.74ZM19.85 10.84a5.11 5.11 0 0 1-.92-.75.93.93 0 0 1 .07-1.24c.94-1 1.89-1.95 2.88-2.87a1.07 1.07 0 0 1 1.51.09 1.09 1.09 0 0 1 .11 1.56c-.91 1-1.87 1.9-2.83 2.83a2.88 2.88 0 0 1-.82.38ZM7.26 23.44a5 5 0 0 1-.92-.73.92.92 0 0 1 .06-1.24Q7.81 20 9.31 18.56a1.08 1.08 0 0 1 1.51.14 1.1 1.1 0 0 1 .09 1.52C10 21.21 9 22.15 8 23.09a3.07 3.07 0 0 1-.74.35ZM16.16 5.64v1.67A1.24 1.24 0 0 1 15 8.59a1.22 1.22 0 0 1-1.19-1.28v-3.4A1.22 1.22 0 0 1 15 2.63a1.23 1.23 0 0 1 1.19 1.29c-.01.57-.03 1.15-.03 1.72ZM6 15.73H4.38a1.2 1.2 0 1 1 0-2.4h3.34a1.2 1.2 0 1 1 0 2.4c-.58.02-1.15 0-1.72 0Z"}));var pr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNC4wMiAzNC4wMiI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmY2ZlZmV9LmNscy0ze2ZpbGw6I2ZmZn08L3N0eWxlPjwvZGVmcz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yMi4yNSAxOC41MmEuODIuODIgMCAwIDAgLjU3LjE1aDQuM2ExLjQ0IDEuNDQgMCAxIDAgMC0yLjg3aC0uODZMMzEgMTEuMDZhMS40MiAxLjQyIDAgMCAwLTItMmwtNC43MyA0Ljc0di0uODZhMS40NCAxLjQ0IDAgMSAwLTIuODcgMHY0LjNhLjg3Ljg3IDAgMCAwIC4xNC41NyAxLjY3IDEuNjcgMCAwIDAgLjcxLjcxWk05LjkxIDMxLjU4YTEuMzEgMS4zMSAwIDAgMCAxLS40M2w0Ljc0LTQuNzR2Ljg2YTEuNDQgMS40NCAwIDEgMCAyLjg3IDBWMjNhLjgyLjgyIDAgMCAwLS4xNS0uNTcgMS43IDEuNyAwIDAgMC0uNzEtLjcyLjg1Ljg1IDAgMCAwLS41OC0uMTVoLTQuM2ExLjQ0IDEuNDQgMCAxIDAgMCAyLjg3aC44NmwtNC43MyA0LjcxYTEuMzggMS4zOCAwIDAgMCAwIDIgMS4zMSAxLjMxIDAgMCAwIDEgLjQ0WiIvPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjNweCIgZD0ibTE0LjQgMTQuNTEgMTEuMTQgMTEuMTQiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik03LjUxIDUuN2EzLjQxIDMuNDEgMCAwIDEgLjc0LjQ1Yy44NS44IDEuNjcgMS42NCAyLjQ5IDIuNDdhMS4xOSAxLjE5IDAgMSAxLTEuNjkgMS42N1E3Ljc3IDkgNi41MyA3Ljc3YTEuMTMgMS4xMyAwIDAgMS0uMjYtMS4zMyAxLjMzIDEuMzMgMCAwIDEgMS4yNC0uNzRaTTE5Ljg1IDEwLjg0YTUuMTEgNS4xMSAwIDAgMS0uOTItLjc1LjkzLjkzIDAgMCAxIC4wNy0xLjI0Yy45NC0xIDEuODktMS45NSAyLjg4LTIuODdhMS4wNyAxLjA3IDAgMCAxIDEuNTEuMDkgMS4wOSAxLjA5IDAgMCAxIC4xMSAxLjU2Yy0uOTEgMS0xLjg3IDEuOS0yLjgzIDIuODNhMi44OCAyLjg4IDAgMCAxLS44Mi4zOFpNNy4yNiAyMy40NGE1IDUgMCAwIDEtLjkyLS43My45Mi45MiAwIDAgMSAuMDYtMS4yNFE3LjgxIDIwIDkuMzEgMTguNTZhMS4wOCAxLjA4IDAgMCAxIDEuNTEuMTQgMS4xIDEuMSAwIDAgMSAuMDkgMS41MkMxMCAyMS4yMSA5IDIyLjE1IDggMjMuMDlhMy4wNyAzLjA3IDAgMCAxLS43NC4zNVpNMTYuMTYgNS42NHYxLjY3QTEuMjQgMS4yNCAwIDAgMSAxNSA4LjU5YTEuMjIgMS4yMiAwIDAgMS0xLjE5LTEuMjh2LTMuNEExLjIyIDEuMjIgMCAwIDEgMTUgMi42M2ExLjIzIDEuMjMgMCAwIDEgMS4xOSAxLjI5Yy0uMDEuNTctLjAzIDEuMTUtLjAzIDEuNzJaTTYgMTUuNzNINC4zOGExLjIgMS4yIDAgMSAxIDAtMi40aDMuMzRhMS4yIDEuMiAwIDEgMSAwIDIuNGMtLjU4LjAyLTEuMTUgMC0xLjcyIDBaIi8+PC9zdmc+",ii=Object.defineProperty,Pn=Object.getOwnPropertySymbols,ri=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,kn=(a,e,t)=>e in a?ii(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ci=(a,e)=>{for(var t in e||(e={}))ri.call(e,t)&&kn(a,t,e[t]);if(Pn)for(var t of Pn(e))si.call(e,t)&&kn(a,t,e[t]);return a};const li=a=>c.createElement("svg",ci({id:"magic-brush_svg__\\u56FE\\u5C42_1","data-name":"\\u56FE\\u5C42 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 34.02 34.02"},a),c.createElement("defs",null,c.createElement("style",null,".magic-brush_svg__cls-1{fill:#fff}")),c.createElement("path",{className:"magic-brush_svg__cls-1",d:"M15.22 14.73 21 9l10.1 10.1-5.8 5.76ZM14.33 15.43l10.34 10.36c-.87.86-1.78 1.78-2.71 2.68-.09.08-.37 0-.53-.07-1.31-.58-2.63-1.16-3.92-1.78a.74.74 0 0 0-1 .17q-1.75 1.82-3.57 3.56a2.14 2.14 0 0 1-2.33.51 2.08 2.08 0 0 1-1.42-1.69 2.2 2.2 0 0 1 .67-2.05C11 26 12.14 24.8 13.32 23.66a.74.74 0 0 0 .19-1c-.61-1.27-1.16-2.57-1.77-3.85a.67.67 0 0 1 .15-.91c.84-.81 1.63-1.64 2.44-2.47Zm-1.82 13.18a1 1 0 1 0-2 .05 1 1 0 0 0 2-.05Z"}),c.createElement("path",{d:"M3.2 12.66a.89.89 0 0 0 .11 1.23 1 1 0 0 0 1.23.1c3.4-2.65 4.82-2.65 8.27 0a.95.95 0 0 0 1.32-1.33c-2.64-3.4-2.64-4.81 0-8.26A.9.9 0 0 0 14 3.17a.89.89 0 0 0-1.23-.1C9.41 5.72 8 5.72 4.54 3.07A1.27 1.27 0 0 0 4 2.89a.84.84 0 0 0-.66.28.9.9 0 0 0-.12 1.23c2.72 3.45 2.72 4.77-.02 8.26Z",style:{fill:"#fcfefe"}}));var Ir="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM0LjAyIDM0LjAyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZn08L3N0eWxlPjwvZGVmcz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xNS4yMiAxNC43MyAyMSA5bDEwLjEgMTAuMS01LjggNS43NlpNMTQuMzMgMTUuNDNsMTAuMzQgMTAuMzZjLS44Ny44Ni0xLjc4IDEuNzgtMi43MSAyLjY4LS4wOS4wOC0uMzcgMC0uNTMtLjA3LTEuMzEtLjU4LTIuNjMtMS4xNi0zLjkyLTEuNzhhLjc0Ljc0IDAgMCAwLTEgLjE3cS0xLjc1IDEuODItMy41NyAzLjU2YTIuMTQgMi4xNCAwIDAgMS0yLjMzLjUxIDIuMDggMi4wOCAwIDAgMS0xLjQyLTEuNjkgMi4yIDIuMiAwIDAgMSAuNjctMi4wNUMxMSAyNiAxMi4xNCAyNC44IDEzLjMyIDIzLjY2YS43NC43NCAwIDAgMCAuMTktMWMtLjYxLTEuMjctMS4xNi0yLjU3LTEuNzctMy44NWEuNjcuNjcgMCAwIDEgLjE1LS45MWMuODQtLjgxIDEuNjMtMS42NCAyLjQ0LTIuNDdabS0xLjgyIDEzLjE4YTEgMSAwIDEgMC0yIC4wNSAxIDEgMCAwIDAgMi0uMDVaIi8+PHBhdGggZD0iTTMuMiAxMi42NmEuODkuODkgMCAwIDAgLjExIDEuMjMgMSAxIDAgMCAwIDEuMjMuMWMzLjQtMi42NSA0LjgyLTIuNjUgOC4yNyAwYS45NS45NSAwIDAgMCAxLjMyLTEuMzNjLTIuNjQtMy40LTIuNjQtNC44MSAwLTguMjZBLjkuOSAwIDAgMCAxNCAzLjE3YS44OS44OSAwIDAgMC0xLjIzLS4xQzkuNDEgNS43MiA4IDUuNzIgNC41NCAzLjA3QTEuMjcgMS4yNyAwIDAgMCA0IDIuODlhLjg0Ljg0IDAgMCAwLS42Ni4yOC45LjkgMCAwIDAtLjEyIDEuMjNjMi43MiAzLjQ1IDIuNzIgNC43Ny0uMDIgOC4yNloiIHN0eWxlPSJmaWxsOiNmY2ZlZmUiLz48L3N2Zz4=",ui=function(e){var t=e.selectedSubTool,g=e.isAIAnnotationActive,i=e.isSegEverythingAvailable,s=e.onChangeSubTool,f=e.onChangeBrushSize,y=e.brushSize,j=(0,Xe.bU)(),x=j.localeText,N=[{key:o.jB.PenAdd,name:x("editor.subtoolbar.mask.penAdd"),icon:(0,n.jsx)(Ne.Z,{component:Do}),available:!0},{key:o.jB.PenErase,name:x("editor.subtoolbar.mask.penErase"),icon:(0,n.jsx)(Ne.Z,{component:wo}),available:!0},{key:o.jB.BrushAdd,name:x("editor.subtoolbar.mask.brushAdd"),icon:(0,n.jsx)(Ne.Z,{component:Yo}),available:!0},{key:o.jB.BrushErase,name:x("editor.subtoolbar.mask.brushErase"),icon:(0,n.jsx)(Ne.Z,{component:Bo}),available:!0}],u=(0,c.useMemo)(function(){return[{key:o.jB.AutoSegmentByBox,name:x("editor.subtoolbar.mask.box"),icon:(0,n.jsx)(Ne.Z,{component:Xo}),available:!0},{key:o.jB.AutoSegmentByStroke,name:x("editor.subtoolbar.mask.stroke"),icon:(0,n.jsx)(Ne.Z,{component:li}),available:!0},{key:o.jB.AutoSegmentByClick,name:x("editor.subtoolbar.mask.click"),icon:(0,n.jsx)(Ne.Z,{component:qo}),available:!0},{key:o.jB.AutoEdgeStitching,name:x("editor.subtoolbar.mask.edgeStitch"),icon:(0,n.jsx)(Ne.Z,{component:oi}),available:!0}]},[i]),C=[o.jB.BrushAdd,o.jB.BrushErase,o.jB.AutoSegmentByStroke,o.jB.AutoEdgeStitching],B=(0,c.useMemo)(function(){return[].concat(N,Re()(u))},[N,u]),R=(0,c.useMemo)(function(){for(var l=[],M=1;M<=B.length;M++)l.push(M.toString());return l},[B]);(0,Te.Z)(R,function(l){var M=B.find(function(b,r){return(r+1).toString()===l.key});if(M&&M.available){if(u.find(function(b){return M.key===b.key})&&!g)return;s(M.key)}},{exactMatch:!0});var w=function(M){C.includes(t)&&M.type==="mouseup"||M.stopPropagation()},K=function(M){var b=B.findIndex(function(r){return r.key===M.key})+1;return(0,n.jsxs)("div",{className:$e["popover-container"],children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:$e.title,children:M.name}),b&&(0,n.jsx)("span",{className:$e.key,children:b})]}),M.description&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:$e.divider}),(0,n.jsx)("div",{className:$e.description,children:M.description})]})]})},q=function(M){var b=B.find(function(r){return r.key===M});b&&b.available&&s(M)},T=function(M){var b;return(0,n.jsx)(xt.Z,{placement:"bottom",content:K(M),children:(0,n.jsx)(se.ZP,{className:Ze()($e.btn,(b={},oe()(b,$e.btnActive,t===M.key&&M.available),oe()(b,$e.btnLimited,M.available),b)),style:{cursor:M.available?"pointer":"not-allowed"},icon:M.icon,onClick:function(){return q(M.key)}})},M.key)};return(0,n.jsx)(ft,{eventHandler:w,children:(0,n.jsxs)("div",{className:$e.container,children:[N.map(function(l){return T(l)}),g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:$e.divider}),u.map(function(l){return T(l)})]}),C.includes(t)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:$e.divider}),(0,n.jsx)("div",{className:$e.slider,children:(0,n.jsx)(ut.Z,{defaultValue:20,min:1,max:100,value:y,onChange:function(M){return f(M)}})})]})]})})},di=function(e){var t=e.topCanvas,g=e.editState,i=e.drawData,s=(0,c.useCallback)(function(f,y){if(t){var j=f;if(y)switch(y){case te.Nm.TOP:case te.Nm.BOTTOM:j="ns-resize";break;case te.Nm.TOP_LEFT:case te.Nm.BOTTOM_RIGHT:j="nwse-resize";break;case te.Nm.BOTTOM_LEFT:case te.Nm.TOP_RIGHT:j="nesw-resize";break;default:j="ew-resize"}j!==t.style.cursor&&(t.style.cursor=j)}},[t]);return(0,c.useEffect)(function(){g.allowMove?s("grabbing"):i.selectedTool===o.ru.Drag?s("grab"):s("crosshair")},[g.allowMove]),{updateMouseCursor:s}},gi=di,Mi=function(e){var t=e.visible,g=e.mode,i=e.drawData,s=e.isMousePress,f=e.setDrawData,y=e.setEditState,j=e.onSaveAnnotations,x=e.onAccept,N=e.onReject,u=e.onChangeObjectHidden,C=e.onChangeCategoryHidden,B=e.removeObject;return(0,Te.Z)(ye[ae.Save].shortcut,function(R){R.preventDefault(),g===X.je.Edit&&j(i)},{exactMatch:!0}),(0,Te.Z)(ye[ae.Accept].shortcut,function(R){R.preventDefault(),x()},{exactMatch:!0}),(0,Te.Z)(ye[ae.Reject].shortcut,function(R){R.preventDefault(),N()},{exactMatch:!0}),(0,Te.Z)(ye[ae.PanImage].shortcut,function(R){t&&(R.preventDefault(),R.type==="keydown"&&!s?y(function(w){w.allowMove=!0}):R.type==="keyup"&&y(function(w){w.allowMove=!1}))},{events:["keydown","keyup"]}),(0,Te.Z)(ye[ae.CancelCurrObject].shortcut,function(R){t&&R.type==="keyup"&&(i.creatingObject?f(function(w){var K,q,T,l,M,b;((K=w.creatingObject)===null||K===void 0?void 0:K.type)===o.gr.Mask&&(q=w.creatingObject)!==null&&q!==void 0&&(T=q.maskStep)!==null&&T!==void 0&&(l=T.points)!==null&&l!==void 0&&l.length&&(M=w.creatingObject)!==null&&M!==void 0&&(b=M.tempMaskSteps)!==null&&b!==void 0&&b.length?w.creatingObject.maskStep=void 0:(w.creatingObject=void 0,w.activeObjectIndex=-1),w.AIAnnotation&&(w.prompt={})}):f(function(w){w.activeObjectIndex=-1}))},{events:["keydown","keyup"]}),(0,Te.Z)(ye[ae.HideCurrObject].shortcut,function(R){i.activeObjectIndex<0||(R.preventDefault(),u(i.activeObjectIndex,!i.objectList[i.activeObjectIndex].hidden))},{exactMatch:!0}),(0,Te.Z)(ye[ae.HideCurrCategory].shortcut,function(R){if(!(i.activeObjectIndex<0)){R.preventDefault();var w=i.objectList[i.activeObjectIndex],K=w.label,q=w.hidden;C(K,!q)}},{exactMatch:!0}),(0,Te.Z)("EDITOR_SHORTCUTS[EShortcuts.DeleteCurrObject].shortcut",function(R){!t||g!==X.je.Edit||["Delete","Backspace"].includes(R.key)&&i.activeObjectIndex>-1&&B(i.activeObjectIndex)},{events:["keyup"]}),(0,Te.Z)(["ctrl","meta"],function(R){i.activeObjectIndex>-1||y(function(w){var K=R.type==="keydown";if(w.isCtrlPressed===K)return w;w.isCtrlPressed=Boolean(R.type==="keydown"),w.focusObjectIndex=-1,w.foucsObjectAllIndexs=[]})},{events:["keydown","keyup"]}),{}},ji=Mi,vi=function(e){var t=e.mode,g=e.drawData,i=e.setDrawData,s=e.editState,f=e.setEditState,y=e.labelColors,j=e.clientSize,x=e.naturalSize,N=e.addObject,u=e.removeObject,C=e.updateObject,B=(0,Xe.bU)(),R=B.localeText,w=function(){var z;if(g.isBatchEditing&&((z=g.objectList[g.activeObjectIndex])===null||z===void 0?void 0:z.status)!==X.TK.Commited){i(function(Y){Y.objectList[Y.activeObjectIndex].status=X.TK.Unchecked,Y.creatingObject=void 0,Y.prompt={},Y.activeObjectIndex=-1});return}g.activeObjectIndex>-1&&u(g.activeObjectIndex),i(function(Y){Y.creatingObject=void 0,Y.prompt={},Y.activeObjectIndex=-1})},K=function(z){var Y;if(((Y=g.creatingObject)===null||Y===void 0?void 0:Y.type)===o.gr.Mask){var U,E,H=(0,at.G9)(j,x,((U=g.creatingObject)===null||U===void 0?void 0:U.tempMaskSteps)||[],(E=g.creatingObject)===null||E===void 0?void 0:E.maskCanvasElement);if(H&&H.length>0){var h=y[z]||"#fff",d={type:o.gr.Mask,label:z,hidden:!1,maskRle:H,maskCanvasElement:(0,at.ei)(H,x,h),conf:1,status:X.TK.Commited};g.activeObjectIndex>-1?C(d,g.activeObjectIndex):N(d,!0)}else H?xe.ZP.warning(R("editor.anno.mask.emptyWarning")):xe.ZP.error(R("editor.anno.mask.translateToRleError"))}else{var D=ie()({},g.objectList[g.activeObjectIndex]);D.label=z,g.isBatchEditing&&(D.conf=1),C(D,g.activeObjectIndex)}i(function(A){A.creatingObject=void 0,A.prompt={},A.activeObjectIndex=-1}),f(function(A){A.latestLabel=z})},q=function(){i(function(z){z.creatingObject=void 0,z.activeObjectIndex=-1})},T=function(z){t!==X.je.Edit||z===g.selectedTool||g.isBatchEditing||i(function(Y){Y.selectedTool=z,z===o.ru.Mask&&(Y.selectedSubTool=Y.AIAnnotation?o.jB.AutoSegmentByBox:o.jB.PenAdd),Y.activeObjectIndex=-1,Y.creatingObject=void 0})},l=function(z){t!==X.je.Edit||z===g.selectedSubTool||g.isBatchEditing||(i(function(Y){Y.selectedSubTool=z}),z===o.jB.AutoEdgeStitching&&g.creatingObject&&K(g.creatingObject.label||s.latestLabel||""))},M=function(z,Y){i(function(U){U.selectedTool=z,U.selectedSubTool=Y})},b=function(z){t===X.je.Edit&&i(function(Y){Y.brushSize=z})},r=function(){Dt.Z.info({centered:!0,closable:!0,title:R("smartAnnotation.infoModal.title"),content:R("smartAnnotation.infoModal.content"),okText:R("smartAnnotation.infoModal.action"),onOk:function(){window.open("https://deepdataspace.com","_blank")}})},S=(0,c.useCallback)(function(I){t!==X.je.Edit||g.isBatchEditing||i(function(z){z.AIAnnotation=I})},[t,g.isBatchEditing]);return{onDeleteCurrObject:w,onFinishCurrCreate:K,onCloseAnnotationEditor:q,selectTool:T,selectSubTool:l,forceChangeTool:M,setBrushSize:b,activeAIAnnotation:S,displayAIModeUnavailableModal:r}},mi=vi,fi=Q(54379),Tt=40,St=10,hi=function(e){var t=e.visible,g=e.mode,i=e.drawData,s=e.setDrawData,f=e.editState,y=e.setEditState,j=e.clientSize,x=e.contentMouse,N=e.categories,u=e.labelColors,C=e.updateRender,B=e.updateMouseCursor,R=e.objectHooksMap,w=e.imagePos,K=e.containerMouse,q=(0,c.useRef)({topMin:0,topMax:0,leftMin:0,leftMax:0}),T=(0,c.useState)(void 0),l=fe()(T,2),M=l[0],b=l[1];(0,fi.Z)(function(){var h,d,D,A,L=!1;(h=q.current.direction)!==null&&h!==void 0&&h.includes("TOP")&&w.current.y<q.current.topMax?(w.current.y+=8,L=!0):(d=q.current.direction)!==null&&d!==void 0&&d.includes("BOTTOM")&&w.current.y>q.current.topMin&&(w.current.y-=8,L=!0),(D=q.current.direction)!==null&&D!==void 0&&D.includes("LEFT")&&w.current.x<q.current.leftMax?(w.current.x+=8,L=!0):(A=q.current.direction)!==null&&A!==void 0&&A.includes("RIGHT")&&w.current.x>q.current.leftMin&&(w.current.x-=8,L=!0),L||b(void 0),C()},M);var r=function(){var d="",D=Tt,A=K.elementH-x.elementH-Tt,L=Tt,p=K.elementW-x.elementW-Tt;K.elementY<=St&&w.current.y<D?d="TOP":K.elementY>=K.elementH-St&&w.current.y>A&&(d="BOTTOM"),K.elementX<=St&&w.current.x<L?d+=d?"_LEFT":"LEFT":K.elementX>=K.elementW-St&&w.current.x>p&&(d+=d?"_RIGHT":"RIGHT"),d?(q.current={direction:d,topMax:D,topMin:A,leftMax:L,leftMin:p},b(16)):b(void 0),C()},S=function(){var d;return i.isBatchEditing&&(i.selectedTool===o.ru.Rectangle&&f.isCtrlPressed?d=function(A){return A.status===X.TK.Unchecked}:d=function(A){return A.status!==X.TK.Unchecked}),d},I=function(){if((0,te.jt)(K)){var d=(0,te.Z0)(j,x,i.activeObjectIndex,i.objectList,S());if(d>-1&&d===i.activeObjectIndex){y(function(m){m.focusObjectIndex=d});var D=i.objectList[i.activeObjectIndex],A=(0,te.o7)(x,D),L=A.focusEleIndex,p=A.focusEleType,v=A.focusPolygonInfo;y(function(m){m.focusEleIndex=L,m.focusEleType=p,m.focusPolygonInfo=v})}else i.selectedTool===o.ru.Drag||i.isBatchEditing?y(function(m){m.focusObjectIndex=d,m.focusEleIndex=-1,m.focusEleType=o.Yq.None,m.focusPolygonInfo={index:-1,pointIndex:-1,lineIndex:-1}}):y(function(m){m.focusObjectIndex=-1,m.focusEleIndex=-1,m.focusEleType=o.Yq.None,m.focusPolygonInfo={index:-1,pointIndex:-1,lineIndex:-1}})}},z=function(d,D){if(!(d<0)){var A=(D==null?void 0:D.button)===2;if(A){var L=(0,te.RF)(j,x,i.objectList,S());L.length>0?y(function(p){p.foucsObjectAllIndexs=L}):y(function(p){p.foucsObjectAllIndexs=[]});return}s(function(p){p.selectedTool===o.ru.Rectangle&&p.isBatchEditing&&f.isCtrlPressed?(p.objectList[d].status=X.TK.Checked,y(function(v){v.focusObjectIndex=-1})):(p.activeObjectIndex=d,p.creatingObject=ie()(ie()({},i.objectList[d]),{},{currIndex:void 0,startPoint:void 0,tempMaskSteps:[],maskStep:void 0}),p.selectedTool!==o.ru.Drag&&p.objectList[d]&&o.Zo[p.selectedTool]!==p.objectList[d].type&&(p.selectedTool=o.ru.Drag))})}},Y=function(){if(!f.foucsObjectAllIndexs.length)return(0,n.jsx)(n.Fragment,{});var d=function(p){p.stopPropagation()},D=function(p){y(function(v){v.focusObjectIndex=p})},A=function(p){z(p),y(function(v){v.foucsObjectAllIndexs=[]})};return(0,n.jsx)("div",{className:Fe.dropdownOptions,onMouseDown:d,onMouseUp:d,onMouseMove:d,onContextMenu:function(p){return p.preventDefault()},children:f.foucsObjectAllIndexs.map(function(L){var p,v,m;return(0,n.jsxs)("div",{className:Fe.objectOption,onMouseEnter:function(){return D(L)},onMouseDown:function(){return A(L)},children:[(0,n.jsx)("div",{className:Fe.dot,style:{backgroundColor:u[(p=i.objectList[L])===null||p===void 0?void 0:p.label]||"#fff"}}),(v=i.objectList[L])===null||v===void 0?void 0:v.label,i.isBatchEditing&&" (".concat((0,Bt.O)(((m=i.objectList[L])===null||m===void 0?void 0:m.conf)||0),")")]},L)})})},U=function(d){if(!(!t||f.allowMove||f.isRequiring||!(0,te.jt)(x))&&(y(function(A){A.foucsObjectAllIndexs=[]}),!(i.creatingObject&&i.activeObjectIndex>-1&&g===X.je.Edit&&R[i.creatingObject.type].startEditingWhenMouseDown({event:d,object:i.creatingObject}))))if(i.selectedTool!==o.ru.Drag&&!i.isBatchEditing){var D=o.Zo[i.selectedTool];if(g===X.je.Edit&&R[D].startCreatingWhenMouseDown({event:d,object:i.creatingObject,point:{x:x.elementX,y:x.elementY},basic:{hidden:!1,label:f.latestLabel||N[0].name,status:X.TK.Commited}}))return}else f.focusObjectIndex>-1?z(f.focusObjectIndex,d):y(function(A){A.allowMove=!0})},E=function(d){if(!(!t||f.isRequiring||f.allowMove)){if(f.focusObjectIndex>-1?B("pointer"):i.selectedTool!==o.ru.Drag?B("crosshair"):B("grab"),i.creatingObject&&i.activeObjectIndex>-1){if(g===X.je.Edit&&R[i.creatingObject.type].updateEditingWhenMouseMove({event:d,object:i.creatingObject})){r();return}}else if(i.selectedTool!==o.ru.Drag&&i.activeObjectIndex<0){var D=o.Zo[i.selectedTool];if(g===X.je.Edit&&R[D].updateCreatingWhenMouseMove({event:d,object:i.creatingObject})){r();return}}I(),C()}},H=function(d){if(b(void 0),!(!t||f.isRequiring)){if(f.allowMove){y(function(A){A.allowMove=!1});return}if(i.creatingObject&&i.activeObjectIndex>-1){if(g===X.je.Edit&&R[i.creatingObject.type].finishEditingWhenMouseUp({event:d,object:i.creatingObject}))return}else if(i.selectedTool!==o.ru.Drag&&i.activeObjectIndex<0){var D=o.Zo[i.selectedTool];if(g===X.je.Edit&&R[D].finishCreatingWhenMouseUp({event:d,object:i.creatingObject}))return}}};return(0,yt.Z)("mousedown",function(h){U(h)}),(0,yt.Z)("mousemove",function(h){E(h)}),(0,yt.Z)("mouseup",function(h){H(h)}),{selectFocusObject:z,mouseRightObjectsDropDownRender:Y}},pi=hi,ve=Q(55158),Ii=function(e){var t=e.visible,g=e.drawData,i=e.editState,s=e.clientSize,f=e.labelColors,y=e.imagePos,j=e.containerMouse,x=e.canvasRef,N=e.activeCanvasRef,u=e.imgRef,C=e.objectHooksMap,B=function(b){var r=f[b.label]||"#fff",S=ke.XQ.CREATING,I=ke.Bt.CREATING;C[b.type].renderCreatingObject({object:b,color:r,strokeColor:S,fillColor:I})},R=function(b){if(!b.hidden){var r=(0,te.lT)(b,{x:-y.current.x,y:-y.current.y}),S=f[r.label]||"#fff",I=i.focusObjectIndex===g.activeObjectIndex,z=I?[ke.mh.FOCUS,ke.rl.FOCUS]:[ke.mh.CREATING,ke.rl.CREATING],Y=fe()(z,2),U=Y[0],E=Y[1];C[b.type].renderEditingObject({object:r,color:S,strokeAlpha:E,fillAlpha:U,isFocus:I})}},w=function(b){var r=b.prompt;r.maskPrompts||r.creatingMask||r.activeRectWhileLoading?C[o.gr.Mask].renderPrompt({prompt:r}):r.segmentationClicks&&C[o.gr.Polygon].renderPrompt({prompt:r})},K=function(b){if(!(!t||!N.current)){(0,ve.ix)(N.current,{width:j.elementW,height:j.elementH}),N.current.getContext("2d").imageSmoothingEnabled=!1,(0,ve.UN)(N.current);var r=b||g;r.creatingObject&&(r.activeObjectIndex>-1?R(r.creatingObject):B(r.creatingObject)),w(r)}},q=function(b,r){var S=(0,te.lT)(b,{x:-y.current.x,y:-y.current.y}),I=S.label,z=S.type,Y=f[I]||"#fff",U=r?[ke.mh.FOCUS,ke.rl.FOCUS,ke.s_.FOCUS]:[ke.mh.DEFAULT,ke.rl.DEFAULT,ke.s_.DEFAULT],E=fe()(U,3),H=E[0],h=E[1],d=E[2];(0,ve.M5)(x.current,g.creatingObject?.3:1),C[z].renderObject({object:S,color:Y,strokeAlpha:h,fillAlpha:H,maskAlpha:d,isFocus:r})},T=function(b,r){b.forEach(function(S,I){S.hidden||I===r||I===i.focusObjectIndex||q(S,!1)})},l=function(b){if(!(!t||!x.current||!u.current)){(0,ve.ix)(x.current,{width:j.elementW,height:j.elementH}),x.current.getContext("2d").imageSmoothingEnabled=!1,(0,ve.UN)(x.current),(0,ve.KJ)(x.current,i.imageDisplayOptions.brightness,i.imageDisplayOptions.contrast,i.imageDisplayOptions.saturate),(0,ve.AE)(x.current,u.current,{x:y.current.x,y:y.current.y,width:s.width,height:s.height}),(0,ve.ku)(x.current);var r=b||g;T(r.objectList,r.activeObjectIndex),K(r),i.focusObjectIndex>-1&&r.objectList[i.focusObjectIndex]&&q(r.objectList[i.focusObjectIndex],!0)}};return{updateRender:l}},Ai=Ii,dt=Q(82503),yi=function(e){var t=e.contentMouse,g=e.imagePos,i=e.canvasRef,s=e.activeCanvasRef,f=e.editState,y=e.setEditState,j=e.drawData,x=e.setDrawData,N=e.updateMouseCursor,u=e.updateObject,C=e.addObject,B=function(I){var z=I.object,Y=I.color,U=I.strokeAlpha,E=I.fillAlpha,H=I.isFocus,h=z.rect;if(h&&h.visible){var d=o.JQ[0],D=U,A=E,L=2;if(j.isBatchEditing){if(z.status===X.TK.Unchecked&&!f.isCtrlPressed)return;f.isCtrlPressed&&(z.status!==X.TK.Unchecked?(d=o.JQ[1],L=1.5,D=.8):A=H?ke.mh.DEFAULT:ke.mh.CTRL_TO_SELECT)}(0,ve.Mu)(i.current,h,(0,Oe.a7)(Y,D),L,d,(0,Oe.a7)(Y,A)),j.isBatchEditing&&f.isCtrlPressed&&H&&(0,ve.HU)(s.current,h,"#000",.6)}},R=function(I){var z=I.object,Y=I.strokeColor,U=I.fillColor,E=z.startPoint;if(E){var H=(0,te.A7)(E,{x:t.elementX,y:t.elementY},{width:t.elementW,height:t.elementH}),h=(0,te.ZU)(H,{x:-g.current.x,y:-g.current.y});(0,ve.Mu)(s.current,h,Y,2,o.JQ[0],U)}},w=function(I){var z=I.object,Y=I.color,U=I.strokeAlpha,E=I.fillAlpha,H=z.rect;H&&H.visible&&((0,ve.Mu)(s.current,H,(0,Oe.a7)(Y,U),2,o.JQ[0],(0,Oe.a7)(Y,E)),(0,dt.G9)(s.current,H))},K=function(){},q=function(I){var z=I.object,Y=I.event;return(Y==null?void 0:Y.button)===2?!1:!!(0,dt.$N)({object:z,contentMouse:t,setEditState:y,setDrawData:x})},T=function(I){var z=I.point,Y=I.basic;return x(function(U){U.activeObjectIndex=-1,U.creatingObject=ie()({type:o.gr.Rectangle,startPoint:z},Y)}),!0},l=function(I){var z=I.object;return(0,dt._G)({object:z,editState:f,contentMouse:t,drawData:j,setDrawData:x,updateMouseCursor:N})},M=function(I){var z=I.object;return!!z},b=function(I){var z=I.object,Y=f.startRectResizeAnchor||f.startElementMovePoint;return Y&&u(z,j.activeObjectIndex),y(function(U){U.startRectResizeAnchor=void 0,U.startElementMovePoint=void 0}),!0},r=function(I){var z=I.object;if(!z||!z.startPoint)return!1;if(t.elementX===z.startPoint.x||t.elementY===z.startPoint.y)return x(function(E){E.creatingObject=void 0}),!0;var Y=(0,te.A7)(z.startPoint,{x:t.elementX,y:t.elementY},{width:t.elementW,height:t.elementH}),U={type:o.gr.Rectangle,label:z.label,hidden:!1,rect:ie()({visible:!0},Y),conf:1,status:X.TK.Commited};return C(U),!0};return{renderObject:B,renderCreatingObject:R,renderEditingObject:w,renderPrompt:K,startEditingWhenMouseDown:q,startCreatingWhenMouseDown:T,updateEditingWhenMouseMove:l,updateCreatingWhenMouseMove:M,finishEditingWhenMouseUp:b,finishCreatingWhenMouseUp:r}},bi=yi,Ci=function(e,t,g,i,s){t&&t.visible&&(t==null||t.group.forEach(function(f){(0,ve.fb)(e,f,(0,Oe.a7)(g,s),(0,Oe.a7)(g,i),2,o.JQ[0])}))},Li=function(e){var t=e.editState,g=e.clientSize,i=e.imagePos,s=e.containerMouse,f=e.canvasRef,y=e.activeCanvasRef,j=e.contentMouse,x=e.setEditState,N=e.drawData,u=e.setDrawData,C=e.updateHistory,B=e.updateMouseCursor,R=e.updateObject,w=e.addObject,K=e.onAiAnnotation,q=function(E){var H=E.object,h=E.color,d=E.strokeAlpha,D=E.fillAlpha,A=H.polygon;A&&A.visible&&Ci(f.current,A,h,d,D)},T=function(E){var H=E.object,h=E.strokeColor,d=H.currIndex,D=(0,te.lT)(H,{x:-i.current.x,y:-i.current.y}),A=D.polygon;if(A&&A.visible){var L=(0,te.fL)(A.group);A.group.forEach(function(p,v){d===v?p.forEach(function(m,G){(0,ve.G5)(y.current,m,G===0?6:4,h,3,"#1f4dd8"),p.length>1&&G<p.length-1?(0,ve.pS)(y.current,p[G],p[G+1],(0,Oe.a7)(h,ke.rl.CREATING),2.5,o.JQ[0]):G===p.length-1&&(0,ve.pS)(y.current,p[G],{x:s.elementX,y:s.elementY},(0,Oe.a7)(h,ke.rl.CREATING_LINE),2.5,o.JQ[2])}):L.includes(v)||(0,ve.fb)(y.current,p,(0,Oe.a7)("#1f4dd8",.5),"#1f4dd8",2,o.JQ[0])}),L.forEach(function(p){(0,ve.fb)(y.current,A.group[p],"rgba(255, 255, 255, 0.8)","#1f4dd8",2,o.JQ[0])})}},l=function(E){var H=E.object,h=E.color,d=E.strokeAlpha,D=E.isFocus,A=H.polygon;if(A&&A.visible){var L=(0,te.fL)(A.group),p=D&&t.focusEleType===o.Yq.Polygon&&t.focusEleIndex===0;A.group.forEach(function(ee,ne){if(!L.includes(ne)){var je=p?(0,Oe.a7)(h,.2):"transparent";(0,ve.fb)(y.current,ee,je,(0,Oe.a7)(h,d),2,o.JQ[0])}}),L.forEach(function(ee){var ne=p?"rgba(255, 255, 255, 0.8)":"transparent";(0,ve.fb)(y.current,A.group[ee],ne,(0,Oe.a7)(h,d),2,o.JQ[0])}),A.group.forEach(function(ee){ee.forEach(function(ne){(0,ve.G5)(y.current,ne,4,h,2,"#fff")})});var v=t.focusPolygonInfo,m=v.index,G=v.pointIndex,Z=v.lineIndex;if(m>-1&&G>-1){var O=A.group[m][G];O&&(0,ve.G5)(y.current,O,4,"#fff",5,h)}else if(m>-1&&Z>-1){var P=(0,te.Iw)(A.group[m]);if(P[Z]){var W=P[Z],k=W.start,V=W.end,_=(0,te.Z4)({x:j.elementX+i.current.x,y:j.elementY+i.current.y},k,V);_&&(0,ve.G5)(y.current,_,4,"#fff",5,h)}}}},M=function(E){var H=E.prompt;H.segmentationClicks&&H.segmentationClicks.forEach(function(h){var d=(0,te.aF)(h.point,{x:-i.current.x,y:-i.current.y});(0,ve.G5)(y.current,d,4,h.isPositive?ke.lz.POSITIVE:ke.lz.NEGATIVE,2,"#fff")})},b=function(E){var H=E.object,h=E.event;return(h==null?void 0:h.button)===2?!1:!!(0,dt.$N)({object:H,contentMouse:j,setEditState:x,setDrawData:u})},r=function(E){var H=E.point,h=E.basic;return u(function(d){if(!d.creatingObject||d.activeObjectIndex>-1)d.activeObjectIndex=-1,d.AIAnnotation?d.creatingObject=ie()({type:o.gr.Rectangle,startPoint:H},h):(d.creatingObject=ie()({type:o.gr.Polygon,polygon:{visible:!0,group:[[H]]},currIndex:0},h),C((0,Pe.cloneDeep)({drawData:d,clientSize:g})));else if(!d.AIAnnotation){var D=d.creatingObject.currIndex,A=d.creatingObject.polygon;if(D>-1){var L=A.group[D][0];(0,te.uN)(L,j)?d.creatingObject.currIndex=-1:d.creatingObject.polygon&&(A.group[D].push(H),C((0,Pe.cloneDeep)({drawData:d,clientSize:g})))}else A.group.push([H]),d.creatingObject.currIndex=A.group.length-1,C((0,Pe.cloneDeep)({drawData:d,clientSize:g}))}}),!0},S=function(){var E=t.focusEleType,H=t.focusEleIndex,h=t.focusObjectIndex,d=t.focusPolygonInfo;if(h===N.activeObjectIndex&&E===o.Yq.Polygon&&(d.pointIndex>-1?B("pointer"):d.lineIndex>-1?B("crosshair"):B("move")),E===o.Yq.Polygon&&H===0){var D=t.focusPolygonInfo,A=D.index,L=D.pointIndex;if(t.startElementMovePoint&&A>-1)return L>-1?(u(function(p){var v,m;if(p.activeObjectIndex>-1&&t.focusEleIndex>-1&&t.startElementMovePoint&&(v=p.creatingObject)!==null&&v!==void 0&&(m=v.polygon)!==null&&m!==void 0&&m.group[A]){var G,Z,O=(G=p.creatingObject)===null||G===void 0||(Z=G.polygon)===null||Z===void 0?void 0:Z.group[A];O[L]=(0,te.E5)(j)}}),!0):(u(function(p){var v,m;if(p.activeObjectIndex>-1&&t.focusEleIndex>-1&&t.startElementMovePoint&&(v=p.creatingObject)!==null&&v!==void 0&&(m=v.polygon)!==null&&m!==void 0&&m.group[A]){var G,Z,O=(G=p.creatingObject)===null||G===void 0||(Z=G.polygon)===null||Z===void 0?void 0:Z.group[A],P=(0,te.s5)(O,t.startElementMovePoint,j);p.creatingObject.polygon.group[A]=P,x(function(W){W.startElementMovePoint&&(W.startElementMovePoint.mousePoint={x:j.elementX,y:j.elementY})})}}),!0)}return!1},I=function(E){var H=E.object;return!!H},z=function(E){var H,h,d=E.object,D=t.startRectResizeAnchor||t.startElementMovePoint,A=t.startElementMovePoint&&((H=t.startElementMovePoint.initPoint)===null||H===void 0?void 0:H.x)===j.elementX&&((h=t.startElementMovePoint.initPoint)===null||h===void 0?void 0:h.y)===j.elementY,L=A&&t.focusPolygonInfo.index>-1&&t.focusPolygonInfo.pointIndex>-1;if(L){var p,v=(0,Pe.cloneDeep)(d),m=t.focusPolygonInfo,G=m.index,Z=m.pointIndex,O=(p=v.polygon)===null||p===void 0?void 0:p.group[G];O&&G>-1&&Z>-1&&O.length>=3&&O.splice(Z,1),R(v,N.activeObjectIndex)}else D&&R(d,N.activeObjectIndex);return x(function(P){P.startRectResizeAnchor=void 0,P.startElementMovePoint=void 0}),!0},Y=function(E){var H=E.event,h=E.object;if(!h)return!1;var d={x:j.elementX,y:j.elementY};if(N.AIAnnotation)if(h.type===o.gr.Polygon){if(!(0,te.jt)(j)||!(0,te.jt)(s))return!1;var D={isPositive:(0,dt.hF)(H),point:d},A=N.prompt.segmentationClicks||[];u(function(ne){ne.prompt.segmentationClicks=[].concat(Re()(A),[D])}),K({type:o.gr.Polygon,drawData:N,segmentationClicks:[].concat(Re()(A),[D]),aiLabels:[h.label]})}else{var L,p;if(j.elementX===((L=h.startPoint)===null||L===void 0?void 0:L.x)&&j.elementY===((p=h.startPoint)===null||p===void 0?void 0:p.y)){if(!(0,te.jt)(j))return!1;var v={isPositive:!0,point:d};u(function(ne){ne.prompt.segmentationClicks=[v]}),K({type:o.gr.Polygon,drawData:N,segmentationClicks:[v]})}else{var m=(0,te.A7)(h.startPoint,d,{width:j.elementW,height:j.elementH}),G=(0,te.Wx)(m),Z={xmin:m.x,ymin:m.y,xmax:m.x+m.width,ymax:m.y+m.height},O=G.map(function(ne,je){return{isPositive:je===G.length-1,point:ne}});u(function(ne){ne.prompt.segmentationClicks=Re()(O)}),K({type:o.gr.Polygon,drawData:N,segmentationClicks:O,bbox:Z})}u(function(ne){return ne.creatingObject=void 0})}else if(h.currIndex===-1){var P=h.polygon,W=h.type,k=h.hidden,V=h.label,_=h.status,ee={polygon:P,type:W,hidden:k,label:V,status:_};w(ee)}return!0};return{renderObject:q,renderCreatingObject:T,renderEditingObject:l,renderPrompt:M,startEditingWhenMouseDown:b,startCreatingWhenMouseDown:r,updateEditingWhenMouseMove:S,updateCreatingWhenMouseMove:I,finishEditingWhenMouseUp:z,finishCreatingWhenMouseUp:Y}},xi=Li,Zn=function(e,t,g,i){for(var s=t.lines,f=t.points,y=0;y*2<s.length;y++){var j=[s[y*2],s[y*2+1]],x=j[0],N=j[1];f[x].visible===o.GI.labeledVisible&&f[N].visible===o.GI.labeledVisible&&(0,ve.pS)(e,f[x],f[N],(0,Oe.a7)(g,i),2,o.JQ[0])}f.forEach(function(u){var C=u.x,B=u.y,R=u.visible,w=u.color,K=(0,Oe.EA)(w||"rgba(255, 255, 255, 1)",i),q="rgba(0, 0, 0, ".concat(i,")");R===o.GI.labeledVisible&&(0,ve.G5)(e,{x:C,y:B},4,K,2,q)})},Ni=function(e){var t=e.editState,g=e.clientSize,i=e.naturalSize,s=e.contentMouse,f=e.imagePos,y=e.canvasRef,j=e.activeCanvasRef,x=e.setEditState,N=e.drawData,u=e.setDrawData,C=e.updateMouseCursor,B=e.addObject,R=e.updateObject,w=e.aiLabels,K=e.onAiAnnotation,q=function(E){var H=E.object,h=E.color,d=E.strokeAlpha,D=E.fillAlpha;if(H.status!==X.TK.Unchecked){var A=H.rect,L=H.keypoints;A&&A.visible&&(0,ve.Mu)(y.current,A,(0,Oe.a7)(h,d),2,o.JQ[0],(0,Oe.a7)(h,D)),L&&Zn(y.current,L,h,d)}},T=function(E){var H=E.object,h=E.strokeColor,d=H.startPoint;if(d){var D=(0,te.A7)(d,{x:s.elementX,y:s.elementY},{width:s.elementW,height:s.elementH}),A=(0,te.ZU)(D,{x:-f.current.x,y:-f.current.y}),L=o.v_.points,p=o.v_.lines,v=o.v_.pointColors,m=o.v_.pointNames,G=(0,te.el)(L,m,v,i,g),Z=(0,te.cU)(G,A);(0,ve.Mu)(j.current,A,h,2),Z.forEach(function(V){(0,ve.G5)(j.current,{x:V.x,y:V.y},4,h,3,"#1f4dd8")});for(var O=0;O*2<p.length;O++){var P=[p[O*2],p[O*2+1]],W=P[0],k=P[1];(0,ve.pS)(j.current,Z[W],Z[k],h,2.5,o.JQ[0])}}},l=function(E){var H=E.object,h=E.color,d=E.strokeAlpha,D=E.fillAlpha,A=E.isFocus,L=H.rect,p=H.keypoints;if(L&&L.visible&&((0,ve.Mu)(j.current,L,(0,Oe.a7)(h,d),2,o.JQ[0],(0,Oe.a7)(h,D)),(0,dt.G9)(j.current,L)),p&&(Zn(j.current,p,h,d),A&&t.focusEleType===o.Yq.Circle&&p.points[t.focusEleIndex])){var v=p.points[t.focusEleIndex],m=v.x,G=v.y,Z=v.visible,O=v.color;Z===o.GI.labeledVisible&&(0,ve.G5)(j.current,{x:m,y:G},4,O,5,"#fff")}},M=function(){},b=function(E){var H=E.object,h=E.event;return(h==null?void 0:h.button)===2?!1:!!(0,dt.$N)({object:H,contentMouse:s,setEditState:x,setDrawData:u})},r=function(E){var H=E.point,h=E.basic;return u(function(d){d.activeObjectIndex=-1,d.creatingObject=ie()({type:o.gr.Skeleton,startPoint:H},h)}),!0},S=function(E){var H=E.object;return(0,dt._G)({object:H,editState:t,contentMouse:s,drawData:N,setDrawData:u,updateMouseCursor:C})?!0:(t.focusObjectIndex===N.activeObjectIndex&&t.focusEleType===o.Yq.Circle&&C("pointer"),t.focusEleType===o.Yq.Circle&&t.startElementMovePoint?(u(function(h){var d,D,A;if(h.activeObjectIndex>-1&&t.focusEleIndex>-1&&t.startElementMovePoint&&(d=h.creatingObject)!==null&&d!==void 0&&(D=d.keypoints)!==null&&D!==void 0&&(A=D.points)!==null&&A!==void 0&&A[t.focusEleIndex]){var L,p,v,m=(L=h.creatingObject)===null||L===void 0||(p=L.keypoints)===null||p===void 0||(v=p.points)===null||v===void 0?void 0:v[t.focusEleIndex],G=(0,te.E5)(s),Z=G.x,O=G.y;m.x=Z,m.y=O}}),!0):!1)},I=function(E){var H=E.object;return!!H},z=function(E){var H=E.object,h=t.startRectResizeAnchor||t.startElementMovePoint;if(h&&R(H,N.activeObjectIndex),N.AIAnnotation){var d,D;t.startElementMovePoint&&(((d=t.startElementMovePoint.mousePoint)===null||d===void 0?void 0:d.x)!==s.elementX||((D=t.startElementMovePoint.mousePoint)===null||D===void 0?void 0:D.y)!==s.elementY)&&K({type:o.gr.Skeleton,drawData:N,aiLabels:w})}return x(function(A){A.startRectResizeAnchor=void 0,A.startElementMovePoint=void 0}),!0},Y=function(E){var H,h,d=E.object;if(!d||!d.startPoint)return!1;if(s.elementX===((H=d.startPoint)===null||H===void 0?void 0:H.x)||s.elementY===((h=d.startPoint)===null||h===void 0?void 0:h.y))return u(function(O){return O.creatingObject=void 0}),!0;var D=(0,te.A7)(d.startPoint,{x:s.elementX,y:s.elementY},{width:s.elementW,height:s.elementH}),A=o.v_.points,L=o.v_.lines,p=o.v_.pointColors,v=o.v_.pointNames,m=(0,te.el)(A,v,p,i,g),G=(0,te.cU)(m,D),Z={type:o.gr.Skeleton,label:d.label,hidden:!1,rect:ie()({visible:!0},D),keypoints:{points:G,lines:L},conf:1,status:X.TK.Commited};return B(Z),!0};return{renderObject:q,renderCreatingObject:T,renderEditingObject:l,renderPrompt:M,startEditingWhenMouseDown:b,startCreatingWhenMouseDown:r,updateEditingWhenMouseMove:S,updateCreatingWhenMouseMove:I,finishEditingWhenMouseUp:z,finishCreatingWhenMouseUp:Y}},Di=Ni,Oi=function(e){var t,g=e.isSeperate,i=e.visible,s=e.categories,f=e.list,y=e.current,j=e.pagination,x=e.mode,N=e.actionElements,u=e.onPrev,C=e.onNext,B=e.onCancel,R=e.onSave,w=e.onEnterEdit,K=e.onReviewResult,q=e.objectsFilter,T=e.setCategories,l=e.onAutoSave,M=(0,Xe.bU)(),b=M.localeText,r=Dt.Z.useModal(),S=fe()(r,2),I=S[0],z=S[1],Y=(0,et.x)([]),U=fe()(Y,2),E=U[0],H=U[1],h=(0,et.x)((0,Pe.cloneDeep)(X.rl)),d=fe()(h,2),D=d[0],A=d[1],L=(0,et.x)((0,Pe.cloneDeep)(X.f7)),p=fe()(L,2),v=p[0],m=p[1],G=(0,c.useRef)(null),Z=(0,c.useRef)(null),O=(0,c.useRef)(null),P=(0,c.useMemo)(function(){var ce=[o.jB.AutoEdgeStitching,o.jB.AutoSegmentByStroke,o.jB.BrushAdd,o.jB.BrushErase].includes(v.selectedSubTool);return v.creatingObject&&v.activeObjectIndex>-1&&v.creatingObject.type===o.gr.Mask?ce:v.selectedTool!==o.ru.Drag&&!v.isBatchEditing?v.selectedTool===o.ru.Mask&&ce:!1},[v.selectedTool,v.selectedSubTool]),W=(0,c.useMemo)(function(){return v.selectedTool!==o.ru.Drag&&!P},[v.selectedTool,P]),k=bo({visible:i,allowMove:D.allowMove,isRequiring:D.isRequiring,showReferenceLine:W,minPadding:{top:30,left:80},isCustomCursorActive:P,cursorSize:v.brushSize}),V=k.scale,_=k.naturalSize,ee=k.clientSize,ne=k.containerMouse,je=k.contentMouse,J=k.imagePos,re=k.onLoadImg,de=k.onZoomIn,De=k.onZoomOut,Se=k.onReset,$=k.CanvasContainer,Ye=k.isMousePress,pe=Io(ee),le=fe()(pe,2),ge=le[0],me=le[1],Ce=fo({clientSize:ee,naturalSize:_,setDrawData:m,onAutoSave:l}),Je=Ce.undo,Ie=Ce.redo,Le=Ce.clearHistory,Ue=Ce.hadChangeRecord,Ve=Ce.updateHistory,Qe=Ce.setDrawDataWithHistory,We=po({annotations:E,setAnnotations:H,clientSize:ee,naturalSize:_,drawData:v,setDrawData:m,setDrawDataWithHistory:Qe,editState:D,setEditState:A,mode:x}),gt=We.addObject,we=We.removeObject,nt=We.removeAllObjects,Ti=We.initObjectList,Si=We.updateAllObject,Yn=We.updateObject,wi=We.updateObjectWithoutHistory,zi=We.updateAllObjectWithoutHistory,rt=Rt({visible:i,mode:x,categories:s,setCategories:T,drawData:v,setDrawData:m,editState:D,updateObjectWithoutHistory:wi,updateAllObjectWithoutHistory:zi}),Rn=rt.aiLabels,Ut=rt.setAiLabels,bt=rt.labelColors,Hn=rt.onChangeObjectHidden,Qn=rt.onChangeCategoryHidden,Pi=rt.onChangeElementVisible,ki=rt.onChangePointVisible,Zi=rt.onChangeActiveClass,Gn=rt.onCreateCategory,Nt=ea({mode:x,list:f,current:y,modal:I,setDrawData:m,setDrawDataWithHistory:Qe,editState:D,setEditState:A,naturalSize:_,clientSize:ee,imagePos:J,containerMouse:ne,onCancel:B,onSave:R,updateAllObject:Si,hadChangeRecord:Ue,latestLabel:D.latestLabel,labelColors:bt}),Bn=Nt.onAiAnnotation,Wt=Nt.onSaveAnnotations,Yi=Nt.onCancelAnnotations,Un=Nt.onReject,Wn=Nt.onAccept,Ri=gi({topCanvas:Z.current,editState:D,drawData:v}),Fn=Ri.updateMouseCursor,Mt=mi({mode:x,drawData:v,setDrawData:m,editState:D,setEditState:A,labelColors:bt,clientSize:ee,naturalSize:_,addObject:gt,removeObject:we,updateObject:Yn}),Hi=Mt.onDeleteCurrObject,Qi=Mt.onFinishCurrCreate,Gi=Mt.onCloseAnnotationEditor,Bi=Mt.selectTool,Ui=Mt.selectSubTool,Wi=Mt.forceChangeTool,Fi=Mt.setBrushSize,Vn=Mt.activeAIAnnotation,wt={editState:D,clientSize:ee,naturalSize:_,contentMouse:je,imagePos:J,containerMouse:ne,canvasRef:G,activeCanvasRef:Z,setEditState:A,drawData:v,setDrawData:m,setDrawDataWithHistory:Qe,updateHistory:Ve,updateObject:Yn,addObject:gt,updateMouseCursor:Fn,aiLabels:Rn,onAiAnnotation:Bn},Xn=bi(wt),Vi=xi(wt),Xi=Di(wt),Ki=(0,at.ZP)(wt),Kn=(t={},oe()(t,o.gr.Rectangle,Xn),oe()(t,o.gr.Polygon,Vi),oe()(t,o.gr.Skeleton,Xi),oe()(t,o.gr.Mask,Ki),oe()(t,o.gr.Custom,Xn),t),Ji=Ai({visible:i,drawData:v,editState:D,clientSize:ee,labelColors:bt,imagePos:J,containerMouse:ne,canvasRef:G,activeCanvasRef:Z,imgRef:O,objectHooksMap:Kn}),Ft=Ji.updateRender,Jn=pi({visible:i,mode:x,drawData:v,setDrawData:m,editState:D,setEditState:A,clientSize:ee,contentMouse:je,categories:s,labelColors:bt,updateRender:Ft,updateMouseCursor:Fn,objectHooksMap:Kn,imagePos:J,containerMouse:ne}),_i=Jn.selectFocusObject,$i=Jn.mouseRightObjectsDropDownRender;ji({visible:i,mode:x,drawData:v,isMousePress:Ye,setDrawData:m,setEditState:A,onSaveAnnotations:Wt,onAccept:Wn,onReject:Un,onChangeObjectHidden:Hn,onChangeCategoryHidden:Qn,removeObject:we});var qi=function(){if(!(!ee.width||!ee.height)){if(!v.initialized)m(function(Me){Me.initialized=!0}),Ti(E,bt);else if(ge){var F=(0,te.hv)(v,ge,ee);m(F),Ft(F),me()}}};(0,c.useEffect)(function(){Ft()},[v,D,J.current.x,J.current.y]),(0,c.useEffect)(function(){qi()},[E,ee.height,ee.width]),(0,c.useEffect)(function(){if(m(ie()(ie()({},(0,Pe.cloneDeep)(X.f7)),{},{brushSize:v.brushSize,selectedTool:v.selectedTool})),A((0,Pe.cloneDeep)(X.rl)),Le(),i){var ce,F,Me=(ce=f[y])!==null&&ce!==void 0&&ce.objects?Re()((F=f[y])===null||F===void 0?void 0:F.objects):[],ze=q?q(Me):Me;H(ze)}},[i,x,y]),(0,c.useEffect)(function(){document.body.style.overflow=i?"hidden":"overlay"},[i]);var er=(0,c.useMemo)(function(){var ce=N?N.map(function(F){return{customElement:F}}):[];return x===X.je.Review&&K&&ce.push.apply(ce,[{customElement:(0,n.jsx)(se.ZP,{type:"primary",danger:!0,onClick:Un,children:b("editor.reject")})},{customElement:(0,n.jsx)(se.ZP,{type:"primary",onClick:Wn,children:b("editor.approve")})}]),x===X.je.Edit&&!g&&ce.push.apply(ce,[{customElement:(0,n.jsx)(se.ZP,{type:"primary",onClick:function(){return Wt(v)},children:b("editor.save")})}]),ce.unshift({customElement:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Na,{viewOnly:x===X.je.View}),(0,n.jsx)(vt.Z,{type:"vertical",style:{height:20,borderLeft:"1px solid #fff"}})]})}),ce},[x,K,w,Wt,f[y]]),tr=function(){if(D.focusObjectIndex>-1&&v.objectList[D.focusObjectIndex]&&!v.objectList[D.focusObjectIndex].hidden&&D.focusEleIndex>-1&&D.focusEleType===o.Yq.Circle){var F,Me,ze=(F=v.objectList[D.focusObjectIndex].keypoints)===null||F===void 0||(Me=F.points)===null||Me===void 0?void 0:Me[D.focusEleIndex];if(ze)return(0,n.jsx)(na,{index:D.focusEleIndex,targetElement:ze,imagePos:J.current})}return(0,n.jsx)(n.Fragment,{})},nr=x===X.je.Edit&&!(v.isBatchEditing&&v.selectedTool===o.ru.Skeleton)&&!(v.selectedTool===o.ru.Polygon&&v.AIAnnotation&&v.activeObjectIndex===-1),ar=v.selectedTool===o.ru.Mask||v.creatingObject&&v.creatingObject.type===o.gr.Mask,or=(0,c.useMemo)(function(){return v.objectList.filter(function(ce){return ce.status===X.TK.Commited})},[v.isBatchEditing,v.objectList]);if(i){var Vt,Xt;return(0,n.jsxs)("div",{className:Fe.editor,children:[(0,n.jsx)(Ot.Z,{className:Fe.topTools,leftTools:g?[]:[{title:b("editor.exit"),icon:(0,n.jsx)(lo.Z,{}),onClick:function(){return Yi()}}],rightTools:er,children:j&&j.show&&(0,n.jsx)(Mo,{list:f,current:y,total:j.total,customText:j.customText,customDisableNext:j.customDisableNext,onPrev:u,onNext:C})}),(0,n.jsxs)("div",{className:Fe.container,children:[(0,n.jsx)("div",{className:Fe.leftSlider}),(0,n.jsxs)("div",{className:Fe.centerContent,children:[(0,n.jsx)(Ct.Z,{dropdownRender:$i,trigger:["contextMenu"],open:D.foucsObjectAllIndexs.length>0,children:$({className:Fe.editWrap,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{ref:O,src:(Vt=f[y])===null||Vt===void 0?void 0:Vt.urlFullRes,alt:"pic",onLoad:re}),(0,n.jsx)("canvas",{ref:G,onContextMenu:function(F){return F.preventDefault()},draggable:!1}),(0,n.jsx)("canvas",{ref:Z,onContextMenu:function(F){return F.preventDefault()},draggable:!1}),tr()]})})}),nr&&(0,n.jsx)(vo,{hideTitle:((Xt=v.creatingObject)===null||Xt===void 0?void 0:Xt.type)===o.gr.Mask,allowAddCategory:g,latestLabel:D.latestLabel,categories:s,currEditObject:v.objectList[v.activeObjectIndex]||v.selectedTool===o.ru.Mask&&v.creatingObject,onCreateCategory:Gn,onDeleteCurrObject:Hi,onFinishCurrCreate:Qi,onCloseAnnotationEditor:Gi}),(0,n.jsx)(Ua,{drawData:v,isCtrlPressed:D.isCtrlPressed,aiLabels:Rn,naturalSize:_,categories:s,setAiLabels:Ut,onExitAIAnnotation:function(){m(function(F){F.objectList=F.objectList.filter(function(Me){return Me.status===X.TK.Commited}),F.AIAnnotation=!1,F.isBatchEditing=!1,F.creatingObject=void 0,F.prompt={}})},forceChangeTool:Wi,onAiAnnotation:Bn,onSaveCurrCreate:function(){var F,Me;gt({type:o.gr.Polygon,polygon:(F=v.creatingObject)===null||F===void 0?void 0:F.polygon,label:((Me=v.creatingObject)===null||Me===void 0?void 0:Me.label)||"",hidden:!1,status:X.TK.Commited}),m(function(ze){ze.activeObjectIndex=ze.objectList.length-1,ze.prompt={}})},onCancelCurrCreate:function(){m(function(F){F.creatingObject=void 0,F.activeObjectIndex=-1,F.prompt={}})},onChangeConfidenceRange:function(F){Qe(function(Me){var ze=(0,Pe.cloneDeep)(v.objectList).map(function(qe){return qe.status===X.TK.Commited?qe:qe.conf===void 0?(qe.status=X.TK.Unchecked,qe):(qe.status=qe.conf<F[0]||qe.conf>F[1]?X.TK.Unchecked:X.TK.Checked,qe)});Me.objectList=ze})},onChangeLimitConf:function(F){Qe(function(Me){var ze=(0,Pe.cloneDeep)(v.objectList).map(function(jt){return jt.status===X.TK.Commited||(jt.status=jt.conf&&jt.conf>=F?X.TK.Checked:X.TK.Unchecked),jt});Me.objectList=ze;var qe=ze.filter(function(jt){return jt.status===X.TK.Checked}).length;xe.ZP.success(b("smartAnnotation.tip.annotationApplied",{count:qe}))})},onAcceptValidObjects:function(){Qe(function(F){var Me=(0,Pe.cloneDeep)(v.objectList).filter(function(ze){return ze.status!==X.TK.Unchecked}).map(function(ze){return ze.status=X.TK.Commited,ze});F.objectList=Me,F.isBatchEditing=!1,F.activeObjectIndex=-1,F.creatingObject=void 0}),Ut([])},onCancelBatchEdit:function(){Qe(function(F){var Me=(0,Pe.cloneDeep)(v.objectList).filter(function(ze){return ze.status===X.TK.Commited});F.objectList=Me,F.isBatchEditing=!1,F.activeObjectIndex=-1,F.creatingObject=void 0})},onCreateCategory:Gn}),(0,n.jsx)(co,{scale:V,onZoomIn:de,onZoomOut:De,onReset:Se,displayOption:D.imageDisplayOptions,setBrightness:function(F){A(function(Me){Me.imageDisplayOptions.brightness=F})},setContrast:function(F){A(function(Me){Me.imageDisplayOptions.contrast=F})},setSaturate:function(F){A(function(Me){Me.imageDisplayOptions.saturate=F})},resetOptions:function(){A(function(F){F.imageDisplayOptions=X.O4})}}),x===X.je.Edit&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Da,{isSeperate:g,selectedTool:v.selectedTool,isAIAnnotationActive:v.AIAnnotation,onChangeSelectedTool:function(F){Bi(F),Ut([])},onActiveAIAnnotation:Vn,undo:Je,redo:Ie,deleteAll:nt}),ar&&(0,n.jsx)(ui,{selectedSubTool:v.selectedSubTool,isAIAnnotationActive:v.AIAnnotation,isSegEverythingAvailable:v.objectList.length===0&&!v.creatingObject||v.isBatchEditing,brushSize:v.brushSize,onChangeSubTool:function(F){Ui(F)},onChangeBrushSize:function(F){Fi(F)},onActiveAIAnnotation:Vn})]})]}),(0,n.jsx)(ma,{supportEdit:x===X.je.Edit,className:Fe.rightSlider,objects:or,labelColors:bt,activeObjectIndex:v.activeObjectIndex,focusObjectIndex:D.focusObjectIndex,focusEleIndex:D.focusEleIndex,focusEleType:D.focusEleType,isMovingElement:!!D.startElementMovePoint,activeClassName:v.activeClassName,onFocusObject:function(F){return A(function(Me){Me.focusObjectIndex=F})},onActiveObject:function(F){_i(F)},onFocusElement:function(F){return A(function(Me){Me.focusEleIndex=F})},onChangeFocusEleType:function(F){A(function(Me){Me.focusEleType=F})},onCancelMovingStatus:function(){A(function(F){F.startElementMovePoint=void 0})},onChangeObjectHidden:Hn,onChangeCategoryHidden:Qn,onDeleteObject:we,onChangeEleVisible:Pi,onChangePointVisible:ki,onChangeActiveClassName:Zi})]}),(0,n.jsx)("div",{onMouseDown:function(F){F.stopPropagation()},children:z})]})}else return(0,n.jsx)(n.Fragment,{})},Ei=Oi},39213:function(_n,zt,Q){Q.d(zt,{Z:function(){return Dt}});var Pt=Q(2657),Re=Q.n(Pt),kt=Q(52983),ie={topTools:"topTools___bnznk",rowWrap:"rowWrap___Hznkk",icon:"icon___yGeQF",iconDisable:"iconDisable___xNhff",lineSplit:"lineSplit___XFuuM",progress:"progress___H7lIY"},Zt=Q(83849),oe=Q.n(Zt),Yt=Q(29492),fe=Q(97458),c=function(vt){var Ct=vt.className,xe=Ct===void 0?"":Ct,o=vt.children,et=vt.leftTools,te=et===void 0?[]:et,Ot=vt.rightTools,Oe=Ot===void 0?[]:Ot,Pe=function(Fe){return Fe.map(function(st,Ee){var Ht=st.title,_e=st.icon,Lt=st.onClick,ct=st.disabled,lt=st.splitLine,He=st.customElement;return(0,fe.jsxs)(kt.Fragment,{children:[He||(0,fe.jsx)(Yt.Z,{title:Ht,children:(0,fe.jsx)("div",{className:oe()(ie.icon,Re()({},ie.iconDisable,!!ct)),onClick:Lt,children:_e})}),lt&&(0,fe.jsx)("div",{className:ie.lineSplit})]},Ee)})};return(0,fe.jsxs)("div",{className:oe()(ie.topTools,xe),onMouseDown:function(Fe){Fe.stopPropagation()},children:[(0,fe.jsx)("div",{className:ie.rowWrap,children:Pe(te)}),(0,fe.jsx)("div",{className:ie.progress,children:o}),(0,fe.jsx)("div",{className:ie.rowWrap,children:Pe(Oe)})]})},Dt=c}}]);

//# sourceMappingURL=297.9e16c45a.async.js.map