"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[397],{51204:function(_,D,e){e.d(D,{Z:function(){return I}});var V=e(58757),p=e(59504),j=e(53357),M={wrapper:"wrapper___FtwXk"},g=e(35667),i=function(y){var o=(0,j.bU)(),t=o.localeText,u=y.categoryId,n=y.categories,v=y.onCategoryChange;return(0,g.jsxs)("div",{className:M.wrapper,children:[t("dataset.detail.category"),":",(0,g.jsx)(p.Z,{showSearch:!0,style:{width:"160px",marginLeft:"10px"},dropdownMatchSelectWidth:!1,placeholder:"Select a category",optionFilterProp:"children",value:u,onChange:v,filterOption:function(w,d){return d.children.toLowerCase().includes(w.toLowerCase())},getPopupContainer:function(){return document.getElementById("filterWrap")},children:n.map(function(l){return(0,g.jsx)(p.Z.Option,{value:l.id,children:l.name},l.id)})})]})},I=i},85205:function(_,D,e){e.d(D,{Z:function(){return n}});var V=e(58757),p=e(10852),j=e(38904),M=e(57414),g={dropBtn:"dropBtn___SYvIY",displayPanel:"displayPanel___JkzSB",objectTypeOption:"objectTypeOption___O6sJL",typeTitle:"typeTitle___l97pr",displayOptions:"displayOptions___NQVYA"},i=e(87615),I=e(87608),N=e.n(I),y=e(53357),o=e(76180),t=e(35667),u=function(l){var w=(0,y.bU)(),d=w.localeText,z=l.annotationTypes,P=l.disableChangeType,Z=l.displayAnnotationType,b=l.displayOptions,a=l.displayOptionsValue,E=l.onDisplayAnnotationTypeChange,O=l.onDisplayOptionsChange;return(0,t.jsx)(i.Z,{className:g.dropBtn,customOverlay:(0,t.jsxs)("div",{className:N()(g.displayPanel),children:[z.length>0&&(0,t.jsxs)("div",{className:g.objectTypeOption,children:[(0,t.jsxs)("span",{className:g.typeTitle,children:[d("dataset.detail.displayType"),":"]}),(0,t.jsx)(p.ZP.Group,{disabled:P,onChange:function(U){return E(U.target.value)},value:Z,children:z.map(function(C){return(0,t.jsx)(p.ZP,{value:C,children:C},C)})})]}),(0,t.jsx)(j.Z.Group,{className:g.displayOptions,onChange:O,value:a,children:(0,t.jsx)(M.Z,{direction:"vertical",children:b.map(function(C){return(0,t.jsx)(j.Z,{value:C,children:d(o.Ss[C])},C)})})})]}),children:d("dataset.detail.displayOptions")})},n=u},87615:function(_,D,e){e.d(D,{Z:function(){return u}});var V=e(58757),p=e(38904),j=e(10852),M=e(73267),g=e(57414),i=e(12562),I=e(10130),N=e(53357),y={dropdownSelector:"dropdownSelector___gvMFq",dropdownWrap:"dropdownWrap___WWYlz",dropdownBox:"dropdownBox___lpUVf"},o=e(35667),t=function(v){var l=v.data,w=v.multiple,d=v.type,z=d===void 0?"primary":d,P=v.ghost,Z=P===void 0?!0:P,b=v.value,a=v.filterOptionValue,E=v.filterOptionName,O=v.onChange,C=v.className,U=v.children,Q=v.customOverlay,X=w?p.Z:j.ZP,ee=function(S){O&&O(w?S:S.target.value)};return(0,o.jsx)(M.Z,{overlayClassName:y.dropdownSelector,trigger:["click"],dropdownRender:function(){return(0,o.jsx)("div",{className:y.dropdownWrap,children:Q||(0,o.jsx)(X.Group,{className:y.dropdownBox,onChange:ee,value:b,children:(0,o.jsx)(g.Z,{direction:"vertical",children:l==null?void 0:l.map(function(S,Y){var $=a?a(S):S,A=E?E(S):S;return(0,o.jsx)(X,{value:$,children:(0,N._w)(A)},Y)})})})})},children:(0,o.jsxs)(i.ZP,{className:C,type:z,ghost:Z,children:[U,(0,o.jsx)(I.Z,{})]})})},u=t},77589:function(_,D,e){e.d(D,{Z:function(){return l}});var V=e(58757),p=e(38904),j=e(57414),M=e(94706),g=e(10852),i={labelsPanel:"labelsPanel___nCoUr",labels:"labels___f2KO4",labelTitle:"labelTitle___C12Si",optionRow:"optionRow___X46cn",checkbox:"checkbox___Z6wLJ",slider:"slider___GUIhq",lineStyle:"lineStyle___Kmd9H",actionBtns:"actionBtns___JfDVN",modes:"modes___HaJVD"},I=e(87615),N=e(87608),y=e.n(N),o=e(76180),t=e(74595),u=e(53357),n=e(35667),v=function(d){var z=(0,u.bU)(),P=z.localeText,Z=d.showMatting,b=d.showKeyPoints,a=d.isTiledDiff,E=d.labels,O=d.selectedLabelIds,C=d.diffMode,U=d.disableChangeDiffMode,Q=d.onLabelsChange,X=d.onLabelConfidenceChange,ee=d.onLabelsDiffModeChange;return(0,n.jsx)(I.Z,{customOverlay:(0,n.jsxs)("div",{className:y()(i.labelsPanel),id:"labelsPanel",children:[(0,n.jsxs)("div",{className:i.labels,children:[(0,n.jsxs)("div",{className:i.labelTitle,children:[(0,n.jsx)("div",{style:{width:"240px",paddingLeft:"24px"},children:P("dataset.detail.labelSetsName")}),!Z&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"132px"},children:P("dataset.detail.confidence")}),(0,n.jsx)("div",{style:{width:"100px",marginLeft:"40px"},children:P("dataset.detail.style")})]})]}),(0,n.jsx)(p.Z.Group,{onChange:Q,value:O,className:i.options,children:(0,n.jsx)(j.Z,{direction:"vertical",children:E.map(function(f,S){var Y=(0,t.iE)(f.id,O,a),$=Y.strokeDash,A=Y.lineWidth,B=Y.colorAplha;return(0,n.jsxs)("div",{className:i.optionRow,children:[(0,n.jsx)(p.Z,{value:f.id,className:i.checkbox,disabled:!O.includes(f.id)&&O.length>=o.JQ.length,children:f.name}),!Z&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.Z,{tooltip:{open:!0,prefixCls:"slider-tooltip",getPopupContainer:function(){return document.getElementById("labelsPanel")}},className:i.slider,range:!0,min:0,max:1,value:f.confidenceRange,step:.01,onChange:function(ie){return X(S,ie)},disabled:f.source!==o.$j.pred}),(0,n.jsx)("div",{style:{width:"100px",marginLeft:"40px"},children:O.includes(f.id)&&(0,n.jsxs)("svg",{className:i.lineStyle,children:[(0,n.jsx)("line",{x1:5,y1:5,x2:70,y2:5,strokeDasharray:$.join(","),strokeWidth:"".concat(A,"pt")}),b&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:5,cy:5,r:3,stroke:"black",strokeWidth:1,fill:"rgba(133, 208, 252, ".concat(B,")")}),(0,n.jsx)("circle",{cx:70,cy:5,r:3,stroke:"black",strokeWidth:1,fill:"rgba(133, 208, 252, ".concat(B,")")})]})]})})]})]},f.id)})})})]}),!Z&&!U&&(0,n.jsx)("div",{className:i.modes,children:(0,n.jsx)(g.ZP.Group,{onChange:function(S){return ee(S.target.value)},value:C,children:o.Wp.map(function(f){return(0,n.jsx)(g.ZP,{value:f,children:P(f)},f)})})})]}),children:P("dataset.detail.labelSets")})},l=v},14481:function(_,D,e){e.r(D),e.d(D,{default:function(){return je}});var V=e(24454),p=e.n(V),j=e(56592),M=e.n(j),g=e(58757),i=e(97375),I=e(9457),N=e(61845),y=e(37617),o=e(79233),t=e(6233),u=e.n(t),n=e(12562),v=e(92183),l=e(76180),w=e(23707),d=e(51204),z=e(77589),P=e(85205),Z=e(2258),b={fixMenu:"fixMenu___3BTI4",filter:"filter___f53Ll",rightFilters:"rightFilters___PcqUj",backBtn:"backBtn___zqjXV",dropBtn:"dropBtn___f3XQO"},a=e(35667),E=function(){var r=(0,i.useModel)("dataset.common",function(J){return{isTiledDiff:J.isTiledDiff,cloumnCount:J.pageState.cloumnCount,filters:J.pageData.filters,filterValues:J.pageState.filterValues,comparisons:J.pageState.comparisons}}),s=r.filters,h=r.filterValues,x=r.comparisons,G=r.isTiledDiff,F=r.cloumnCount,T=(0,i.useModel)("dataset.filters"),K=T.onCategoryChange,ae=T.onDisplayOptionsChange,k=T.onDisplayAnnotationTypeChange,ne=T.onLabelsChange,c=T.onLabelConfidenceChange,m=T.onLabelsDiffModeChange,H=T.onColumnCountChange,de=s.labels,ce=h.selectedLabelIds,ge=h.displayAnnotationType===l.JJ.Matting,ue=h.displayAnnotationType===l.JJ.KeyPoints;return(0,a.jsxs)("div",{className:b.fixMenu,id:"filterWrap",children:[(0,a.jsxs)("div",{className:b.filter,children:[(0,a.jsx)(n.ZP,{icon:(0,a.jsx)(v.Z,{}),type:"text",className:b.backBtn,onClick:function(){return(0,w.yS)("/dataset")}}),(0,a.jsx)(d.Z,{categoryId:h.categoryId,categories:s.categories,onCategoryChange:K})]}),(0,a.jsxs)("div",{className:b.rightFilters,children:[(0,a.jsx)(z.Z,{showMatting:ge,showKeyPoints:ue,isTiledDiff:G,labels:de,selectedLabelIds:ce,diffMode:l.uP.Overlay,disableChangeDiffMode:!0,onLabelsChange:ne,onLabelConfidenceChange:c,onLabelsDiffModeChange:m}),(0,a.jsx)(P.Z,{annotationTypes:s.annotationTypes,disableChangeType:!!x,displayAnnotationType:h.displayAnnotationType,displayOptions:s.displayOptions,displayOptionsValue:h.displayOptions,onDisplayAnnotationTypeChange:k,onDisplayOptionsChange:ae}),!G&&(0,a.jsx)(Z.ii,{cloumnCount:F,onColumnCountChange:H})]})]})},O=E,C=e(38904),U=e(74820),Q=e(60698),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},ee=X,f=e(17202),S=function(r,s){return g.createElement(f.Z,(0,Q.Z)({},r,{ref:s,icon:ee}))},Y=g.forwardRef(S),$=e(4394),A=e(53357),B={toolsBar:"toolsBar___BaJ18",selector:"selector___oykI4",antiBtn:"antiBtn___BMNv_",flagTip:"flagTip___jQeUr",flag:"flag___AuDg7",flagBtn:"flagBtn___kI5rw",rightContent:"rightContent___J7I4T",lineSplit:"lineSplit___cRXnA"},se=e(87615),ie=function(){var r,s=(0,i.useModel)("dataset.common",function(c){var m;return{pageSize:c.pageState.pageSize,flagStatus:(m=c.pageState.flagTools)===null||m===void 0?void 0:m.flagStatus,flagTools:c.pageState.flagTools&&c.pageData.flagTools}}),h=s.flagTools,x=s.flagStatus,G=s.pageSize,F=(0,i.useModel)("dataset.flag"),T=F.onChangeFlagStatus,K=F.changeSelectAll,ae=F.antiSelect,k=F.saveFlag,ne=F.updateOrder;return h?(0,a.jsxs)("div",{className:B.toolsBar,children:[(0,a.jsxs)("div",{className:B.selector,children:[(0,a.jsx)(C.Z,{indeterminate:h.count>0&&h.count!==G,checked:(h==null?void 0:h.count)===G,onChange:K,children:h.count===0?(0,a.jsx)(A.Og,{id:"lab.toolsBar.selectAll"}):(0,a.jsx)(A.Og,{id:"lab.toolsBar.selectSome",values:{num:h.count}})}),(0,a.jsx)(n.ZP,{onClick:function(){return ae()},className:B.antiBtn,children:(0,a.jsx)(A.Og,{id:"lab.toolsBar.selectInvert"})}),(0,a.jsxs)(se.Z,{data:l.j3,value:x,filterOptionName:function(m){return m.name},filterOptionValue:function(m){return m.value},onChange:function(m){return T(m)},ghost:!1,type:"default",className:B.antiBtn,children:[(0,a.jsx)(A.Og,{id:"lab.toolsBar.filter"})," :"," ",(r=l.j3.find(function(c){return c.value===x}))===null||r===void 0?void 0:r.name]}),(0,a.jsxs)("div",{className:B.flagTip,children:[(0,a.jsx)(A.Og,{id:"lab.toolsBar.saveAs"}),"\uFF1A"]}),l.YC.map(function(c){return(0,a.jsx)(U.Z,{placement:"bottom",title:c.tip,children:(0,a.jsx)(n.ZP,{ghost:!0,onClick:function(){return k(c.value)},className:B.flagBtn,style:{borderColor:l.a5[c.value],opacity:h.count<=0?.5:1},icon:(0,a.jsx)($.r,{fill:l.a5[c.value]})})},c.value)})]}),(0,a.jsx)("div",{className:B.rightContent,children:(0,a.jsxs)(n.ZP,{onClick:ne,children:[(0,a.jsx)(Y,{}),(0,a.jsx)(A.Og,{id:"lab.toolsBar.updateOrder"})]})})]}):null},me=ie,he=e(14122),ye=e(74595),R={page:"page___gO_hp",container:"container___ZoYU1",item:"item___gLaMX",itemImgWrap:"itemImgWrap___I92CG",flagIcon:"flagIcon___snhaL",label:"label___m8WJS",itemSelectedMask:"itemSelectedMask___oYwMk",pagination:"pagination___Z13Xp",editor:"editor___ZxT8b",pageSpin:"pageSpin___kIm_a"},Ce=e(95073),xe=function(){var r=(0,i.useModel)("dataset.common"),s=r.pageState,h=r.onInitPageState,x=r.pageData,G=r.loading,F=r.displayLabelIds,T=r.isTiledDiff,K=r.displayOptionsResult,ae=r.onPageContentLoaded,k=r.onPreviewIndexChange,ne=r.exitPreview,c=r.displayObjectsFilter,m=r.getCustomObjectStyles,H=(0,i.useModel)("Lab.FlagTool.model"),de=H.onPageDidMount,ce=H.onPageWillUnmount,ge=H.clickItem,ue=H.doubleClickItem,J=H.onPageChange,Oe=H.onPageSizeChange,Se=s.cloumnCount,Te=s.isSingleAnnotation,De=s.filterValues,ve=s.flagTools;(0,I._)({onPageDidMount:de,onPageWillUnmount:ce,onInitPageState:h,pageState:s});var oe=(0,Ce.Z)(function(){return document.querySelector(".ant-pro-page-container")}),pe=oe!=null&&oe.width?oe.width-80:0,te=(0,g.useMemo)(function(){return T?(0,ye.JC)(x.imgList,F,De.displayAnnotationType):x.imgList},[T,x.imgList,F]),fe=T?te.length/(x.imgList.length||1):Se,q=pe?(pe-16*(fe-1))/(fe||1):0;return(0,a.jsxs)(N._z,{ghost:!0,className:R.page,pageHeaderRender:function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O,{}),(0,a.jsx)(me,{})]})},fixedHeader:!0,children:[(0,a.jsx)("div",{className:R.container,children:(0,a.jsx)(y.Z,{loading:G,children:te.length?(0,a.jsx)(u(),{options:{gutter:16,horizontalOrder:!0,transitionDuration:0},onImagesLoaded:function(){return ae()},children:te.map(function(L,le){return(0,a.jsxs)("div",{className:R.item,style:{width:q},onClick:function(){return ge(le)},onDoubleClick:function(){return ue(le)},children:[(0,a.jsx)("div",{className:R.itemImgWrap,style:{width:q,height:ve?q*3/4:"auto"},children:(0,a.jsx)(he.D5,{categories:x.filters.categories,data:L,wrapWidth:q,wrapHeight:ve?q*3/4:void 0,minHeight:q*3/4,objectsFilter:c,getCustomObjectStyles:m,displayOptionsResult:K,displayAnnotationType:s.filterValues.displayAnnotationType})}),L.flag>0&&(0,a.jsx)($.r,{fill:l.a5[L.flag],className:R.flagIcon}),K.showImgDesc&&(0,a.jsxs)("div",{className:R.label,children:[" ",L.desc," "]}),ve&&L.selected?(0,a.jsx)("div",{className:R.itemSelectedMask}):null]},"".concat(L.id,"_").concat(le))})}):null})}),!G&&(0,a.jsx)(Z.ZJ,{current:s.page,size:s.pageSize,total:x.total,onPageChange:J,onPageSizeChange:Oe}),(0,a.jsx)(he.j5,{visible:s.previewIndex>=0&&!Te,categories:x.filters.categories,list:te,current:s.previewIndex,onCancel:ne,onNext:M()(p()().mark(function L(){return p()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:s.previewIndex<te.length-1&&k(s.previewIndex+1);case 1:case"end":return W.stop()}},L)})),onPrev:M()(p()().mark(function L(){return p()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:s.previewIndex>0&&k(s.previewIndex-1);case 1:case"end":return W.stop()}},L)})),objectsFilter:c,getCustomObjectStyles:m,displayOptionsResult:K,displayAnnotationType:s.filterValues.displayAnnotationType}),x.screenLoading?(0,a.jsx)("div",{className:R.pageSpin,children:(0,a.jsx)(o.Z,{spinning:!0,tip:x.screenLoading})}):null]})},je=xe},4394:function(_,D,e){e.d(D,{r:function(){return N}});var V=e(58757),p=Object.defineProperty,j=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(o,t,u)=>t in o?p(o,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[t]=u,I=(o,t)=>{for(var u in t||(t={}))M.call(t,u)&&i(o,u,t[u]);if(j)for(var u of j(t))g.call(t,u)&&i(o,u,t[u]);return o};const N=o=>V.createElement("svg",I({viewBox:"0 0 16 16",fill:"#52C41A",xmlns:"http://www.w3.org/2000/svg"},o),V.createElement("path",{d:"M12.633 4.84 3.838 1.05A.599.599 0 0 0 3 1.602v12.793a.602.602 0 1 0 1.204 0v-4l8.475-4.47a.601.601 0 0 0-.046-1.086Z"}));var y="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9IiM1MkM0MUEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyLjYzMyA0Ljg0IDMuODM4IDEuMDVBLjU5OS41OTkgMCAwIDAgMyAxLjYwMnYxMi43OTNhLjYwMi42MDIgMCAxIDAgMS4yMDQgMHYtNGw4LjQ3NS00LjQ3YS42MDEuNjAxIDAgMCAwLS4wNDYtMS4wODZaIi8+PC9zdmc+"}}]);
